"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[2070],{2016:(ce,U,d)=>{d.d(U,{C:()=>Y});var p=d(1626),O=d(4412),e=d(8810),P=d(6354),S=d(9437),l=d(980),R=d(4438),D=d(779);let Y=(()=>{class M{http;translationService;apiUrl="https://api.foresighta.co/api/common/setting/country/list";createApi="https://api.foresighta.co/api/admin/setting/country";updateDeleteApi="https://api.foresighta.co/api/admin/setting/country";isLoadingSubject=new O.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";authLocalStorageKey="foresighta-creds";constructor(m,h){this.http=m,this.translationService=h,this.translationService.onLanguageChange().subscribe(f=>{this.currentLang=f||"en"})}setLoading(m){this.isLoadingSubject.next(m)}handleError(m){return(0,e.$)(m)}getAuthToken(){try{const m=localStorage.getItem(this.authLocalStorageKey);if(m)return JSON.parse(m).authToken||null}catch(m){console.error("Error parsing auth data from localStorage:",m)}return null}getCountries(){const m=this.getAuthToken(),h=new p.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang,...m?{Authorization:`Bearer ${m}`}:{}});return this.setLoading(!0),this.http.get(this.apiUrl,{headers:h}).pipe((0,P.T)(f=>f.data),(0,S.W)(f=>this.handleError(f)),(0,l.j)(()=>this.setLoading(!1)))}createCountry(m){const h=this.getAuthToken(),f=new p.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang,...h?{Authorization:`Bearer ${h}`}:{}});return this.setLoading(!0),this.http.post(this.createApi,m,{headers:f}).pipe((0,P.T)(b=>b),(0,S.W)(b=>this.handleError(b)),(0,l.j)(()=>this.setLoading(!1)))}updateCountry(m,h){const f=this.getAuthToken(),b=new p.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang,...f?{Authorization:`Bearer ${f}`}:{}});return this.setLoading(!0),this.http.put(`${this.updateDeleteApi}/${m}`,h,{headers:b}).pipe((0,P.T)(G=>G),(0,S.W)(G=>this.handleError(G)),(0,l.j)(()=>this.setLoading(!1)))}deleteCountry(m){const h=this.getAuthToken(),f=new p.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang,...h?{Authorization:`Bearer ${h}`}:{}});return this.setLoading(!0),this.http.delete(`${this.updateDeleteApi}/${m}`,{headers:f}).pipe((0,P.T)(b=>b),(0,S.W)(b=>this.handleError(b)),(0,l.j)(()=>this.setLoading(!1)))}static \u0275fac=function(h){return new(h||M)(R.KVO(p.Qq),R.KVO(D.L))};static \u0275prov=R.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},9689:(ce,U,d)=>{d.r(U),d.d(U,{AccountSettingsModule:()=>Un});var p=d(177),O=d(2791),e=d(4438);let P=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275cmp=e.VBU({type:o,selectors:[["app-account-settings"]],decls:1,vars:0,template:function(n,i){1&n&&e.nrm(0,"router-outlet")},dependencies:[O.n3]})}return o})();var S=d(4133),l=d(9417),R=d(4412),D=d(7673),Y=d(7468),M=d(3726),T=d(6354),m=d(9172),h=d(1584),f=d(6697),b=d(8032),G=d.n(b),C=d(5098);const le=[{text:"\u{1f1fa}\u{1f1f8} +1   United States",code:"+1",country:"US"},{text:"\u{1f1e8}\u{1f1e6} +1   Canada",code:"+1",country:"CA"},{text:"\u{1f1f7}\u{1f1fa} +7   Russia",code:"+7",country:"RU"},{text:"\u{1f1ea}\u{1f1ec} +20  Egypt",code:"+20",country:"EG"},{text:"\u{1f1ff}\u{1f1e6} +27  South Africa",code:"+27",country:"ZA"},{text:"\u{1f1ec}\u{1f1f7} +30  Greece",code:"+30",country:"GR"},{text:"\u{1f1f3}\u{1f1f1} +31  Netherlands",code:"+31",country:"NL"},{text:"\u{1f1e7}\u{1f1ea} +32  Belgium",code:"+32",country:"BE"},{text:"\u{1f1eb}\u{1f1f7} +33  France",code:"+33",country:"FR"},{text:"\u{1f1ea}\u{1f1f8} +34  Spain",code:"+34",country:"ES"},{text:"\u{1f1ed}\u{1f1fa} +36  Hungary",code:"+36",country:"HU"},{text:"\u{1f1ee}\u{1f1f9} +39  Italy",code:"+39",country:"IT"},{text:"\u{1f1f7}\u{1f1f4} +40  Romania",code:"+40",country:"RO"},{text:"\u{1f1e8}\u{1f1ed} +41  Switzerland",code:"+41",country:"CH"},{text:"\u{1f1e6}\u{1f1f9} +43  Austria",code:"+43",country:"AT"},{text:"\u{1f1ec}\u{1f1e7} +44  United Kingdom",code:"+44",country:"GB"},{text:"\u{1f1e9}\u{1f1f0} +45  Denmark",code:"+45",country:"DK"},{text:"\u{1f1f8}\u{1f1ea} +46  Sweden",code:"+46",country:"SE"},{text:"\u{1f1f3}\u{1f1f4} +47  Norway",code:"+47",country:"NO"},{text:"\u{1f1f5}\u{1f1f1} +48  Poland",code:"+48",country:"PL"},{text:"\u{1f1e9}\u{1f1ea} +49  Germany",code:"+49",country:"DE"},{text:"\u{1f1f5}\u{1f1ea} +51  Peru",code:"+51",country:"PE"},{text:"\u{1f1f2}\u{1f1fd} +52  Mexico",code:"+52",country:"MX"},{text:"\u{1f1e8}\u{1f1fa} +53  Cuba",code:"+53",country:"CU"},{text:"\u{1f1e6}\u{1f1f7} +54  Argentina",code:"+54",country:"AR"},{text:"\u{1f1e7}\u{1f1f7} +55  Brazil",code:"+55",country:"BR"},{text:"\u{1f1e8}\u{1f1f1} +56  Chile",code:"+56",country:"CL"},{text:"\u{1f1e8}\u{1f1f4} +57  Colombia",code:"+57",country:"CO"},{text:"\u{1f1fb}\u{1f1ea} +58  Venezuela",code:"+58",country:"VE"},{text:"\u{1f1f2}\u{1f1fe} +60  Malaysia",code:"+60",country:"MY"},{text:"\u{1f1e6}\u{1f1fa} +61  Australia",code:"+61",country:"AU"},{text:"\u{1f1ee}\u{1f1e9} +62  Indonesia",code:"+62",country:"ID"},{text:"\u{1f1f5}\u{1f1ed} +63  Philippines",code:"+63",country:"PH"},{text:"\u{1f1f3}\u{1f1ff} +64  New Zealand",code:"+64",country:"NZ"},{text:"\u{1f1f8}\u{1f1ec} +65  Singapore",code:"+65",country:"SG"},{text:"\u{1f1f9}\u{1f1ed} +66  Thailand",code:"+66",country:"TH"},{text:"\u{1f1ef}\u{1f1f5} +81  Japan",code:"+81",country:"JP"},{text:"\u{1f1f0}\u{1f1f7} +82  South Korea",code:"+82",country:"KR"},{text:"\u{1f1fb}\u{1f1f3} +84  Vietnam",code:"+84",country:"VN"},{text:"\u{1f1e8}\u{1f1f3} +86  China",code:"+86",country:"CN"},{text:"\u{1f1f9}\u{1f1f7} +90  Turkey",code:"+90",country:"TR"},{text:"\u{1f1ee}\u{1f1f3} +91  India",code:"+91",country:"IN"},{text:"\u{1f1f5}\u{1f1f0} +92  Pakistan",code:"+92",country:"PK"},{text:"\u{1f1e6}\u{1f1eb} +93  Afghanistan",code:"+93",country:"AF"},{text:"\u{1f1f1}\u{1f1f0} +94  Sri Lanka",code:"+94",country:"LK"},{text:"\u{1f1f2}\u{1f1f2} +95  Myanmar",code:"+95",country:"MM"},{text:"\u{1f1ee}\u{1f1f7} +98  Iran",code:"+98",country:"IR"},{text:"\u{1f1f2}\u{1f1e6} +212 Morocco",code:"+212",country:"MA"},{text:"\u{1f1e9}\u{1f1ff} +213 Algeria",code:"+213",country:"DZ"},{text:"\u{1f1f9}\u{1f1f3} +216 Tunisia",code:"+216",country:"TN"},{text:"\u{1f1f1}\u{1f1fe} +218 Libya",code:"+218",country:"LY"},{text:"\u{1f1ec}\u{1f1f2} +220 Gambia",code:"+220",country:"GM"},{text:"\u{1f1f8}\u{1f1f3} +221 Senegal",code:"+221",country:"SN"},{text:"\u{1f1f2}\u{1f1f7} +222 Mauritania",code:"+222",country:"MR"},{text:"\u{1f1f2}\u{1f1f1} +223 Mali",code:"+223",country:"ML"},{text:"\u{1f1ec}\u{1f1f3} +224 Guinea",code:"+224",country:"GN"},{text:"\u{1f1e8}\u{1f1ee} +225 Ivory Coast",code:"+225",country:"CI"},{text:"\u{1f1e7}\u{1f1eb} +226 Burkina Faso",code:"+226",country:"BF"},{text:"\u{1f1f3}\u{1f1ea} +227 Niger",code:"+227",country:"NE"},{text:"\u{1f1f9}\u{1f1ec} +228 Togo",code:"+228",country:"TG"},{text:"\u{1f1e7}\u{1f1ef} +229 Benin",code:"+229",country:"BJ"},{text:"\u{1f1f2}\u{1f1fa} +230 Mauritius",code:"+230",country:"MU"},{text:"\u{1f1f1}\u{1f1f7} +231 Liberia",code:"+231",country:"LR"},{text:"\u{1f1f8}\u{1f1f1} +232 Sierra Leone",code:"+232",country:"SL"},{text:"\u{1f1ec}\u{1f1ed} +233 Ghana",code:"+233",country:"GH"},{text:"\u{1f1f3}\u{1f1ec} +234 Nigeria",code:"+234",country:"NG"},{text:"\u{1f1f9}\u{1f1e9} +235 Chad",code:"+235",country:"TD"},{text:"\u{1f1e8}\u{1f1eb} +236 Central African Republic",code:"+236",country:"CF"},{text:"\u{1f1e8}\u{1f1f2} +237 Cameroon",code:"+237",country:"CM"},{text:"\u{1f1e8}\u{1f1fb} +238 Cape Verde",code:"+238",country:"CV"},{text:"\u{1f1f8}\u{1f1f9} +239 Sao Tome and Principe",code:"+239",country:"ST"},{text:"\u{1f1ec}\u{1f1f6} +240 Equatorial Guinea",code:"+240",country:"GQ"},{text:"\u{1f1ec}\u{1f1e6} +241 Gabon",code:"+241",country:"GA"},{text:"\u{1f1e8}\u{1f1ec} +242 Republic of the Congo",code:"+242",country:"CG"},{text:"\u{1f1e8}\u{1f1e9} +243 Democratic Republic of the Congo",code:"+243",country:"CD"},{text:"\u{1f1e6}\u{1f1f4} +244 Angola",code:"+244",country:"AO"},{text:"\u{1f1ec}\u{1f1fc} +245 Guinea-Bissau",code:"+245",country:"GW"},{text:"\u{1f1ee}\u{1f1f4} +246 British Indian Ocean Territory",code:"+246",country:"IO"},{text:"\u{1f1f8}\u{1f1e8} +248 Seychelles",code:"+248",country:"SC"},{text:"\u{1f1f8}\u{1f1e9} +249 Sudan",code:"+249",country:"SD"},{text:"\u{1f1f7}\u{1f1fc} +250 Rwanda",code:"+250",country:"RW"},{text:"\u{1f1ea}\u{1f1f9} +251 Ethiopia",code:"+251",country:"ET"},{text:"\u{1f1f8}\u{1f1f4} +252 Somalia",code:"+252",country:"SO"},{text:"\u{1f1e9}\u{1f1ef} +253 Djibouti",code:"+253",country:"DJ"},{text:"\u{1f1f0}\u{1f1ea} +254 Kenya",code:"+254",country:"KE"},{text:"\u{1f1f9}\u{1f1ff} +255 Tanzania",code:"+255",country:"TZ"},{text:"\u{1f1fa}\u{1f1ec} +256 Uganda",code:"+256",country:"UG"},{text:"\u{1f1e7}\u{1f1ee} +257 Burundi",code:"+257",country:"BI"},{text:"\u{1f1f2}\u{1f1ff} +258 Mozambique",code:"+258",country:"MZ"},{text:"\u{1f1ff}\u{1f1f2} +260 Zambia",code:"+260",country:"ZM"},{text:"\u{1f1f2}\u{1f1ec} +261 Madagascar",code:"+261",country:"MG"},{text:"\u{1f1f7}\u{1f1ea} +262 Reunion",code:"+262",country:"RE"},{text:"\u{1f1ff}\u{1f1fc} +263 Zimbabwe",code:"+263",country:"ZW"},{text:"\u{1f1f3}\u{1f1e6} +264 Namibia",code:"+264",country:"NA"},{text:"\u{1f1f2}\u{1f1fc} +265 Malawi",code:"+265",country:"MW"},{text:"\u{1f1f1}\u{1f1f8} +266 Lesotho",code:"+266",country:"LS"},{text:"\u{1f1e7}\u{1f1fc} +267 Botswana",code:"+267",country:"BW"},{text:"\u{1f1f8}\u{1f1ff} +268 Eswatini",code:"+268",country:"SZ"},{text:"\u{1f1f0}\u{1f1f2} +269 Comoros",code:"+269",country:"KM"},{text:"\u{1f1f8}\u{1f1ed} +290 Saint Helena",code:"+290",country:"SH"},{text:"\u{1f1ea}\u{1f1f7} +291 Eritrea",code:"+291",country:"ER"},{text:"\u{1f1e6}\u{1f1fc} +297 Aruba",code:"+297",country:"AW"},{text:"\u{1f1eb}\u{1f1f4} +298 Faroe Islands",code:"+298",country:"FO"},{text:"\u{1f1ec}\u{1f1f1} +299 Greenland",code:"+299",country:"GL"},{text:"\u{1f1ec}\u{1f1ee} +350 Gibraltar",code:"+350",country:"GI"},{text:"\u{1f1f5}\u{1f1f9} +351 Portugal",code:"+351",country:"PT"},{text:"\u{1f1f1}\u{1f1fa} +352 Luxembourg",code:"+352",country:"LU"},{text:"\u{1f1ee}\u{1f1ea} +353 Ireland",code:"+353",country:"IE"},{text:"\u{1f1ee}\u{1f1f8} +354 Iceland",code:"+354",country:"IS"},{text:"\u{1f1e6}\u{1f1f1} +355 Albania",code:"+355",country:"AL"},{text:"\u{1f1f2}\u{1f1f9} +356 Malta",code:"+356",country:"MT"},{text:"\u{1f1e8}\u{1f1fe} +357 Cyprus",code:"+357",country:"CY"},{text:"\u{1f1eb}\u{1f1ee} +358 Finland",code:"+358",country:"FI"},{text:"\u{1f1e7}\u{1f1ec} +359 Bulgaria",code:"+359",country:"BG"},{text:"\u{1f1f1}\u{1f1f9} +370 Lithuania",code:"+370",country:"LT"},{text:"\u{1f1f1}\u{1f1fb} +371 Latvia",code:"+371",country:"LV"},{text:"\u{1f1ea}\u{1f1ea} +372 Estonia",code:"+372",country:"EE"},{text:"\u{1f1f2}\u{1f1e9} +373 Moldova",code:"+373",country:"MD"},{text:"\u{1f1e6}\u{1f1f2} +374 Armenia",code:"+374",country:"AM"},{text:"\u{1f1e7}\u{1f1fe} +375 Belarus",code:"+375",country:"BY"},{text:"\u{1f1e6}\u{1f1e9} +376 Andorra",code:"+376",country:"AD"},{text:"\u{1f1f2}\u{1f1e8} +377 Monaco",code:"+377",country:"MC"},{text:"\u{1f1f8}\u{1f1f2} +378 San Marino",code:"+378",country:"SM"},{text:"\u{1f1fa}\u{1f1e6} +380 Ukraine",code:"+380",country:"UA"},{text:"\u{1f1f7}\u{1f1f8} +381 Serbia",code:"+381",country:"RS"},{text:"\u{1f1f2}\u{1f1ea} +382 Montenegro",code:"+382",country:"ME"},{text:"\u{1f1ed}\u{1f1f7} +385 Croatia",code:"+385",country:"HR"},{text:"\u{1f1f8}\u{1f1ee} +386 Slovenia",code:"+386",country:"SI"},{text:"\u{1f1e7}\u{1f1e6} +387 Bosnia and Herzegovina",code:"+387",country:"BA"},{text:"\u{1f1f2}\u{1f1f0} +389 North Macedonia",code:"+389",country:"MK"},{text:"\u{1f1e8}\u{1f1ff} +420 Czech Republic",code:"+420",country:"CZ"},{text:"\u{1f1f8}\u{1f1f0} +421 Slovakia",code:"+421",country:"SK"},{text:"\u{1f1f1}\u{1f1ee} +423 Liechtenstein",code:"+423",country:"LI"},{text:"\u{1f1eb}\u{1f1f0} +500 Falkland Islands",code:"+500",country:"FK"},{text:"\u{1f1e7}\u{1f1ff} +501 Belize",code:"+501",country:"BZ"},{text:"\u{1f1ec}\u{1f1f9} +502 Guatemala",code:"+502",country:"GT"},{text:"\u{1f1f8}\u{1f1fb} +503 El Salvador",code:"+503",country:"SV"},{text:"\u{1f1ed}\u{1f1f3} +504 Honduras",code:"+504",country:"HN"},{text:"\u{1f1f3}\u{1f1ee} +505 Nicaragua",code:"+505",country:"NI"},{text:"\u{1f1e8}\u{1f1f7} +506 Costa Rica",code:"+506",country:"CR"},{text:"\u{1f1f5}\u{1f1e6} +507 Panama",code:"+507",country:"PA"},{text:"\u{1f1f5}\u{1f1f2} +508 Saint Pierre and Miquelon",code:"+508",country:"PM"},{text:"\u{1f1ed}\u{1f1f9} +509 Haiti",code:"+509",country:"HT"},{text:"\u{1f1ec}\u{1f1f5} +590 Guadeloupe",code:"+590",country:"GP"},{text:"\u{1f1e7}\u{1f1f4} +591 Bolivia",code:"+591",country:"BO"},{text:"\u{1f1ec}\u{1f1fe} +592 Guyana",code:"+592",country:"GY"},{text:"\u{1f1ea}\u{1f1e8} +593 Ecuador",code:"+593",country:"EC"},{text:"\u{1f1ec}\u{1f1eb} +594 French Guiana",code:"+594",country:"GF"},{text:"\u{1f1f5}\u{1f1fe} +595 Paraguay",code:"+595",country:"PY"},{text:"\u{1f1f2}\u{1f1f6} +596 Martinique",code:"+596",country:"MQ"},{text:"\u{1f1f8}\u{1f1f7} +597 Suriname",code:"+597",country:"SR"},{text:"\u{1f1fa}\u{1f1fe} +598 Uruguay",code:"+598",country:"UY"},{text:"\u{1f1e8}\u{1f1fc} +599 Cura\xe7ao",code:"+599",country:"CW"},{text:"\u{1f1f9}\u{1f1f1} +670 Timor-Leste",code:"+670",country:"TL"},{text:"\u{1f1e6}\u{1f1f6} +672 Antarctica",code:"+672",country:"AQ"},{text:"\u{1f1e7}\u{1f1f3} +673 Brunei",code:"+673",country:"BN"},{text:"\u{1f1f3}\u{1f1f7} +674 Nauru",code:"+674",country:"NR"},{text:"\u{1f1f5}\u{1f1ec} +675 Papua New Guinea",code:"+675",country:"PG"},{text:"\u{1f1f9}\u{1f1f4} +676 Tonga",code:"+676",country:"TO"},{text:"\u{1f1f8}\u{1f1e7} +677 Solomon Islands",code:"+677",country:"SB"},{text:"\u{1f1fb}\u{1f1fa} +678 Vanuatu",code:"+678",country:"VU"},{text:"\u{1f1eb}\u{1f1ef} +679 Fiji",code:"+679",country:"FJ"},{text:"\u{1f1f5}\u{1f1fc} +680 Palau",code:"+680",country:"PW"},{text:"\u{1f1fc}\u{1f1eb} +681 Wallis and Futuna",code:"+681",country:"WF"},{text:"\u{1f1e8}\u{1f1f0} +682 Cook Islands",code:"+682",country:"CK"},{text:"\u{1f1f3}\u{1f1fa} +683 Niue",code:"+683",country:"NU"},{text:"\u{1f1fc}\u{1f1f8} +685 Samoa",code:"+685",country:"WS"},{text:"\u{1f1f0}\u{1f1ee} +686 Kiribati",code:"+686",country:"KI"},{text:"\u{1f1f3}\u{1f1e8} +687 New Caledonia",code:"+687",country:"NC"},{text:"\u{1f1f9}\u{1f1fb} +688 Tuvalu",code:"+688",country:"TV"},{text:"\u{1f1f5}\u{1f1eb} +689 French Polynesia",code:"+689",country:"PF"},{text:"\u{1f1f9}\u{1f1f0} +690 Tokelau",code:"+690",country:"TK"},{text:"\u{1f1eb}\u{1f1f2} +691 Federated States of Micronesia",code:"+691",country:"FM"},{text:"\u{1f1f2}\u{1f1ed} +692 Marshall Islands",code:"+692",country:"MH"},{text:"\u{1f1f0}\u{1f1f5} +850 North Korea",code:"+850",country:"KP"},{text:"\u{1f1ed}\u{1f1f0} +852 Hong Kong",code:"+852",country:"HK"},{text:"\u{1f1f2}\u{1f1f4} +853 Macau",code:"+853",country:"MO"},{text:"\u{1f1f0}\u{1f1ed} +855 Cambodia",code:"+855",country:"KH"},{text:"\u{1f1f1}\u{1f1e6} +856 Laos",code:"+856",country:"LA"},{text:"\u{1f1e7}\u{1f1e9} +880 Bangladesh",code:"+880",country:"BD"},{text:"\u{1f1f9}\u{1f1fc} +886 Taiwan",code:"+886",country:"TW"},{text:"\u{1f1f2}\u{1f1fb} +960 Maldives",code:"+960",country:"MV"},{text:"\u{1f1f1}\u{1f1e7} +961 Lebanon",code:"+961",country:"LB"},{text:"\u{1f1ef}\u{1f1f4} +962 Jordan",code:"+962",country:"JO"},{text:"\u{1f1f8}\u{1f1fe} +963 Syria",code:"+963",country:"SY"},{text:"\u{1f1ee}\u{1f1f6} +964 Iraq",code:"+964",country:"IQ"},{text:"\u{1f1f0}\u{1f1fc} +965 Kuwait",code:"+965",country:"KW"},{text:"\u{1f1f8}\u{1f1e6} +966 Saudi Arabia",code:"+966",country:"SA"},{text:"\u{1f1fe}\u{1f1ea} +967 Yemen",code:"+967",country:"YE"},{text:"\u{1f1f4}\u{1f1f2} +968 Oman",code:"+968",country:"OM"},{text:"\u{1f1f5}\u{1f1f8} +970 Palestine",code:"+970",country:"PS"},{text:"\u{1f1e6}\u{1f1ea} +971 United Arab Emirates",code:"+971",country:"AE"},{text:"\u{1f1ee}\u{1f1f1} +972 Israel",code:"+972",country:"IL"},{text:"\u{1f1e7}\u{1f1ed} +973 Bahrain",code:"+973",country:"BH"},{text:"\u{1f1f6}\u{1f1e6} +974 Qatar",code:"+974",country:"QA"},{text:"\u{1f1e7}\u{1f1f9} +975 Bhutan",code:"+975",country:"BT"},{text:"\u{1f1f2}\u{1f1f3} +976 Mongolia",code:"+976",country:"MN"},{text:"\u{1f1f3}\u{1f1f5} +977 Nepal",code:"+977",country:"NP"},{text:"\u{1f1f9}\u{1f1ef} +992 Tajikistan",code:"+992",country:"TJ"},{text:"\u{1f1f9}\u{1f1f2} +993 Turkmenistan",code:"+993",country:"TM"},{text:"\u{1f1e6}\u{1f1ff} +994 Azerbaijan",code:"+994",country:"AZ"},{text:"\u{1f1ec}\u{1f1ea} +995 Georgia",code:"+995",country:"GE"},{text:"\u{1f1f0}\u{1f1ec} +996 Kyrgyzstan",code:"+996",country:"KG"},{text:"\u{1f1fa}\u{1f1ff} +998 Uzbekistan",code:"+998",country:"UZ"}];var _=d(1626),B=d(8810),N=d(9437),k=d(980),Z=d(779);let de=(()=>{class o{http;translationService;apiUrl="https://api.foresighta.co/api/account/insighter/individual/register-as-company";isLoadingSubject=new R.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t,n){this.http=t,this.translationService=n,this.translationService.onLanguageChange().subscribe(i=>{this.currentLang=i||"en"})}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){return(0,B.$)(t)}postInsighterToCompany(t){const n=new _.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(this.apiUrl,t,{headers:n}).pipe((0,T.T)(i=>i),(0,N.W)(i=>this.handleError(i)),(0,k.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||o)(e.KVO(_.Qq),e.KVO(Z.L))};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var ue=d(6360),pe=d(8688),ge=d(9634),me=d(7192),he=d(2016),j=d(7112),z=d(8542),J=d(6781),K=d(5779),q=d(5430),Q=d(5653),ee=d(8833),te=d(8706),I=d(3955),fe=d(5692);const _e=["logoInput"],be=["fileInput"],ve=["certFileInput"],Te=()=>({width:"550px"});function Ce(o,s){if(1&o&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&o){const t=s.$implicit;e.R7$(),e.JRh(t)}}function Ie(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",74)(1,"div",75)(2,"i",76),e.nrm(3,"span",41)(4,"span",42)(5,"span",54),e.k0s(),e.j41(6,"strong"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"ul",77),e.DNE(10,Ce,2,1,"li",78),e.k0s(),e.j41(11,"button",79),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showApiErrors=!1)}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(7),e.JRh(e.bMT(8,2,"COMMON.ERROR")),e.R7$(3),e.Y8G("ngForOf",t.apiErrorMessages)}}function ye(o,s){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.LEGAL_NAME_REQUIRED")," "))}function Ee(o,s){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.ABOUT_COMPANY_REQUIRED")," "))}function Re(o,s){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.ADDRESS_REQUIRED")," "))}function xe(o,s){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COUNTRY_REQUIRED")," "))}function Ae(o,s){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_PHONE_REQUIRED")," "))}function Se(o,s){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COUNTRY_CODE_REQUIRED")," "))}function De(o,s){1&o&&(e.j41(0,"div",81),e.nrm(1,"span",82),e.j41(2,"span",83),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&o&&(e.R7$(3),e.JRh(e.bMT(4,1,"INSIGHTER_WIZARD.LOADING_FIELDS")))}function Me(o,s){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.CONSULTING_FIELDS_REQUIRED")," "))}function Ne(o,s){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.INDUSTRY_REQUIRED")," "))}function ke(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",84)(2,"shared-tree-selector",85),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.nI1(6,"translate"),e.nI1(7,"translate"),e.bIt("nodesSelected",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.onConsultingNodesSelected(i))}),e.k0s(),e.DNE(8,Me,3,3,"div",16),e.k0s(),e.j41(9,"div",84)(10,"shared-tree-selector",86),e.nI1(11,"translate"),e.nI1(12,"translate"),e.nI1(13,"translate"),e.nI1(14,"translate"),e.nI1(15,"translate"),e.bIt("nodesSelected",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.onIndustrySelected(i))}),e.k0s(),e.DNE(16,Ne,3,3,"div",16),e.k0s(),e.bVm()}if(2&o){let t,n;const i=e.XpG();e.R7$(2),e.Y8G("title",e.bMT(3,19,"INSIGHTER_WIZARD.CONSULTING_FIELDS"))("placeholder",e.bMT(4,21,"AUTH.REGISTRATION.CONSULTING_FIELD_PLACEHOLDER"))("otherFieldPlaceholder",e.bMT(5,23,"INSIGHTER_WIZARD.OTHER_FIELD_PLACEHOLDER"))("selectAllLabel","ar"===i.lang?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644":"Select All")("fetchedData",i.listOfConsultingFields)("cancelLabel",e.bMT(6,25,"BUTTONS.CANCEL"))("okLabel",e.bMT(7,27,"BUTTONS.OK"))("isRequired",!0)("currentLang",i.lang),e.R7$(6),e.Y8G("ngIf",(null==(t=i.form.get("consultingFields"))?null:t.hasError("required"))&&(null==(t=i.form.get("consultingFields"))?null:t.touched)),e.R7$(2),e.Y8G("title",e.bMT(11,29,"AUTH.REGISTRATION.INDUSTRY"))("placeholder",e.bMT(12,31,"AUTH.REGISTRATION.INDUSTRY_PLACEHOLDER"))("otherFieldPlaceholder",e.bMT(13,33,"INSIGHTER_WIZARD.OTHER_FIELD_PLACEHOLDER"))("selectAllLabel","ar"===i.lang?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644":"Select All")("fetchedData",i.nodes)("cancelLabel",e.bMT(14,35,"BUTTONS.CANCEL"))("okLabel",e.bMT(15,37,"BUTTONS.OK"))("isRequired",!0),e.R7$(6),e.Y8G("ngIf",(null==(n=i.form.get("isicCodes"))?null:n.hasError("required"))&&(null==(n=i.form.get("isicCodes"))?null:n.touched))}}function we(o,s){if(1&o&&(e.j41(0,"option",107),e.EFF(1),e.k0s()),2&o){const t=s.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function Fe(o,s){1&o&&(e.j41(0,"div",108),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.DOCUMENT_TYPE_REQUIRED")," "))}function Oe(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",87)(1,"div",88)(2,"div",89)(3,"i",90),e.nrm(4,"span",41)(5,"span",42),e.k0s()(),e.j41(6,"div",91),e.nrm(7,"img",92),e.k0s(),e.j41(8,"div",93)(9,"a",94),e.EFF(10),e.nI1(11,"truncateText"),e.k0s(),e.j41(12,"div",95),e.EFF(13),e.nI1(14,"number"),e.k0s()(),e.j41(15,"div",96)(16,"label",97),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"select",98)(20,"option",99),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,we,2,2,"option",100),e.k0s(),e.DNE(24,Fe,3,3,"div",101),e.k0s()(),e.j41(25,"div",102)(26,"button",103),e.nI1(27,"translate"),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeCertification(i))}),e.j41(28,"i",104),e.nrm(29,"span",41)(30,"span",42)(31,"span",54)(32,"span",105)(33,"span",106),e.k0s()()()()}if(2&o){let t;const n=s.$implicit,i=e.XpG();e.Y8G("formGroup",n),e.R7$(7),e.Y8G("src",i.getFileIcon(n.value.file),e.B4B),e.R7$(3),e.SpI(" ",e.i5U(11,9,n.value.file.name,15)," "),e.R7$(3),e.SpI(" ",e.i5U(14,12,n.value.file.size/1e3,"1.0-2")," KB "),e.R7$(4),e.SpI(" ",e.bMT(18,15,"INSIGHTER_WIZARD.DOCUMENT_TYPE")," "),e.R7$(4),e.JRh(e.bMT(22,17,"INSIGHTER_WIZARD.SELECT_DOCUMENT_TYPE")),e.R7$(2),e.Y8G("ngForOf",i.documentTypes),e.R7$(),e.Y8G("ngIf",!(null!=(t=n.get("type"))&&t.value)),e.R7$(2),e.FS9("pTooltip",e.bMT(27,19,"BUTTONS.DELETE_FILE"))}}function Pe(o,s){1&o&&(e.j41(0,"div",109),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_LOGO_REQUIRED")," "))}function je(o,s){1&o&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.WEBSITE_REQUIRED")," "))}function Ge(o,s){1&o&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.WEBSITE_INVALID_FORMAT")," "))}function Le(o,s){if(1&o&&(e.j41(0,"div",80),e.DNE(1,je,3,3,"span",26)(2,Ge,3,3,"span",26),e.k0s()),2&o){let t,n;const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(t=i.form.get("website"))?null:t.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(n=i.form.get("website"))?null:n.hasError("invalidWebsite"))}}function Ue(o,s){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.GET_CODE")," "))}function $e(o,s){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.nrm(3,"span",121),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"AUTH.REGISTRATION.PLEASE_WAIT")," "))}function Ve(o,s){if(1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"async"),e.bVm()),2&o){const t=e.XpG(2);e.R7$(),e.Lme(" ",e.bMT(2,2,"INSIGHTER_WIZARD.PLEASE_WAIT")," (",e.bMT(3,4,t.getCodeCountdown$),"s) ")}}function Ye(o,s){1&o&&(e.j41(0,"div",122),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"EMAIL_DOMAIN_MATCH")," "))}function Be(o,s){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_EMAIL_REQUIRED")," "))}function He(o,s){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.CODE_REQUIRED")," "))}function We(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",13)(1,"div",13)(2,"label",14),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",110),e.nI1(6,"translate"),e.DNE(7,Le,3,2,"div",16),e.k0s(),e.j41(8,"div",111)(9,"div",112)(10,"label",14),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",113)(14,"div",114),e.nrm(15,"input",115),e.nI1(16,"translate"),e.k0s(),e.j41(17,"div",116)(18,"button",117),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.getCode())}),e.DNE(19,Ue,3,3,"ng-container",26)(20,$e,4,3,"ng-container",26)(21,Ve,4,6,"ng-container",26),e.k0s()()(),e.DNE(22,Ye,3,3,"div",118)(23,Be,3,3,"div",16),e.k0s(),e.j41(24,"div",119)(25,"label",14),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.nrm(28,"input",120),e.nI1(29,"translate"),e.DNE(30,He,3,3,"div",16),e.k0s()()()}if(2&o){let t,n,i,a,r;const c=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,14,"INSIGHTER_WIZARD.WEBSITE_DOMAIN")," "),e.R7$(2),e.FS9("placeholder",e.bMT(6,16,"INSIGHTER_WIZARD.WEBSITE_DOMAIN")),e.R7$(2),e.Y8G("ngIf",(null==(t=c.form.get("website"))?null:t.invalid)&&(null==(t=c.form.get("website"))?null:t.touched)),e.R7$(4),e.SpI(" ",e.bMT(12,18,"INSIGHTER_WIZARD.COMPANY_EMAIL")," "),e.R7$(4),e.FS9("placeholder",e.bMT(16,20,"INSIGHTER_WIZARD.COMPANY_EMAIL")),e.R7$(3),e.Y8G("disabled",!(null!=(n=c.form.get("companyEmail"))&&n.valid)||c.gettingCodeLoader||c.isGetCodeDisabled||!c.validateDomainMatching()),e.R7$(),e.Y8G("ngIf",!c.gettingCodeLoader&&!c.isGetCodeDisabled),e.R7$(),e.Y8G("ngIf",c.gettingCodeLoader),e.R7$(),e.Y8G("ngIf",c.isGetCodeDisabled&&!c.gettingCodeLoader),e.R7$(),e.Y8G("ngIf",(null==(i=c.form.get("companyEmail"))?null:i.value)&&(null==(i=c.form.get("website"))?null:i.value)&&c.hasEmailAtSymbol()&&!c.validateDomainMatching()),e.R7$(),e.Y8G("ngIf",(null==(a=c.form.get("companyEmail"))?null:a.invalid)&&(null==(a=c.form.get("companyEmail"))?null:a.touched)),e.R7$(3),e.SpI(" ",e.bMT(27,22,"INSIGHTER_WIZARD.CODE")," "),e.R7$(2),e.FS9("placeholder",e.bMT(29,24,"INSIGHTER_WIZARD.ENTER_CODE")),e.R7$(2),e.Y8G("ngIf",(null==(r=c.form.get("code"))?null:r.invalid)&&(null==(r=c.form.get("code"))?null:r.touched))}}function Xe(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",127),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.onDropzoneClick())})("drop",function(i){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onFileDrop(i))})("dragover",function(i){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onDragOver(i))}),e.nrm(1,"i",128),e.j41(2,"h3",129),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"span",130),e.EFF(6),e.nI1(7,"translate"),e.k0s()()}2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"INSIGHTER_WIZARD.DROP_OR_UPLOAD_REGISTRY_DOCUMENT")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"INSIGHTER_WIZARD.VERIFY_COMPANY_ACCOUNT_BY_UPLOADING_REGISTRY_DOC")," "))}function Ze(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",131)(1,"div",132)(2,"div",133)(3,"div",134),e.nrm(4,"img",92),e.k0s(),e.j41(5,"div")(6,"span",135),e.EFF(7),e.k0s(),e.j41(8,"span",130),e.EFF(9),e.nI1(10,"number"),e.k0s()()(),e.j41(11,"button",136),e.nI1(12,"translate"),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.removeRegisterDocument())}),e.j41(13,"i",104),e.nrm(14,"span",41)(15,"span",42)(16,"span",54)(17,"span",105)(18,"span",106),e.k0s()()()()}if(2&o){let t,n,i;const a=e.XpG(2);e.R7$(4),e.Y8G("src",a.getFileIcon(null==(t=a.form.get("registerDocument"))?null:t.value),e.B4B),e.R7$(3),e.SpI(" ",null==(n=a.form.get("registerDocument"))?null:n.value.name," "),e.R7$(2),e.SpI(" ",e.i5U(10,4,(null==(i=a.form.get("registerDocument"))?null:i.value.size)/1e3,"1.0-2")," KB "),e.R7$(2),e.FS9("pTooltip",e.bMT(12,7,"BUTTONS.DELETE_FILE"))}}function ze(o,s){1&o&&(e.j41(0,"div",109),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.REGISTER_DOCUMENT_REQUIRED")," "))}function Je(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",13)(1,"div",123),e.DNE(2,Xe,8,6,"div",124)(3,Ze,19,9,"div",125),e.j41(4,"input",126,2),e.bIt("change",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.onFileSelected(i))}),e.k0s()(),e.DNE(6,ze,3,3,"div",45),e.k0s()}if(2&o){let t,n,i;const a=e.XpG();e.R7$(2),e.Y8G("ngIf",!(null!=(t=a.form.get("registerDocument"))&&t.value)),e.R7$(),e.Y8G("ngIf",null==(n=a.form.get("registerDocument"))?null:n.value),e.R7$(3),e.Y8G("ngIf",(null==(i=a.form.get("registerDocument"))?null:i.invalid)&&(null==(i=a.form.get("registerDocument"))?null:i.touched))}}function Ke(o,s){1&o&&(e.j41(0,"div",137),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_AGREEMENT_REQUIRED")," "))}function qe(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",138)(1,"h5",139),e.EFF(2),e.k0s(),e.j41(3,"div",140)(4,"button",141),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.printTerms())}),e.nrm(5,"i",142),e.k0s(),e.j41(6,"button",143),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.saveTerms())}),e.nrm(7,"i",144),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(2),e.JRh((null==t.agreementContent?null:t.agreementContent.name)||"Company Terms of Service")}}function Qe(o,s){1&o&&(e.j41(0,"div",145),e.nrm(1,"span",146),e.k0s())}function et(o,s){if(1&o&&(e.j41(0,"div",147),e.nrm(1,"div",148),e.k0s()),2&o){const t=e.XpG();e.xc7("max-height","400px")("overflow-y","auto"),e.R7$(),e.Y8G("innerHTML",t.agreementContent.guideline,e.npT)}}function tt(o,s){1&o&&(e.j41(0,"div",149),e.EFF(1," Failed to load agreement content. Please try again later. "),e.k0s())}function nt(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",150)(1,"div",151),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",152)(5,"button",153),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.declineAgreement())}),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",154),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.acceptAgreement())}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()}2&o&&(e.R7$(2),e.JRh(e.bMT(3,3,"INSIGHTER_WIZARD.DOCUMENT_REGISTRY_APPROVAL_NOTE")),e.R7$(4),e.SpI(" ",e.bMT(7,5,"INSIGHTER_WIZARD.DECLINE")," "),e.R7$(3),e.SpI(" ",e.bMT(10,7,"INSIGHTER_WIZARD.ACCEPT")," "))}let ot=(()=>{class o extends C.${fb;http;insighterAsCompany;router;commonService;_KnoldgFieldsService;_isicService;documentsService;translationService;_countriesService;profileService;cdr;form;logoPreview=null;gettingCodeLoader=!1;isGetCodeDisabled=!1;getCodeCountdown$=new R.t(null);updateProfile$;dialogWidth="50vw";logoInput;fileInput;certFileInput;defaultImage="https://au.eragroup.com/wp-content/uploads/2018/02/logo-placeholder.png";agreementChecked=!1;showAgreementError=!1;agreementContent=null;isLoadingAgreement=!1;showAgreementDialog=!1;attemptedSubmit=!1;listOfConsultingFields=[];nodes=[];allConsultingFieldSelected=[];allIndustriesSelected=[];isLoadingFields=!1;phoneNumbers=le;isLoading$=(0,D.of)(!1);lang="en";countries=[];documentTypes=[];isLoadingDocumentTypes=!1;documentTypesError="";fizeSizeMessages=[];apiErrorMessages=[];showApiErrors=!1;currentUser;constructor(t,n,i,a,r,c,u,g,y,x,A,w,F){super(F),this.fb=t,this.http=n,this.insighterAsCompany=i,this.router=a,this.commonService=r,this._KnoldgFieldsService=c,this._isicService=u,this.documentsService=g,this.translationService=y,this._countriesService=x,this.profileService=A,this.cdr=w,this.updateProfile$=this.insighterAsCompany.isLoading$,this.lang=this.translationService.getSelectedLanguage()}ngOnInit(){this.initForm(),this.windowResize(),this.initApiCalls(),this.loadDocumentTypes(),this.setupSubscriptions(),this.setVerificationValidators(this.form.get("verificationMethod")?.value)}setupSubscriptions(){const t=this.translationService.onLanguageChange().subscribe(i=>{this.lang=i,this.initApiCalls()});this.unsubscribe.push(t);const n=this.form.get("verificationMethod")?.valueChanges.subscribe(i=>{this.setVerificationValidators(i)});n&&this.unsubscribe.push(n),this.setupDomainValidationSubscriptions()}setupDomainValidationSubscriptions(){const t=this.form.get("website")?.valueChanges.subscribe(()=>{this.validateDomainMatching()}),n=this.form.get("companyEmail")?.valueChanges.subscribe(()=>{this.validateDomainMatching()});t&&this.unsubscribe.push(t),n&&this.unsubscribe.push(n)}initApiCalls(){this.isLoadingFields=!0,this.isLoading$=(0,D.of)(!0);const t=(0,Y.p)({consultingFields:this._KnoldgFieldsService.getConsultingCodesTree(this.lang||"en"),isicCodes:this._isicService.getIsicCodesTree(this.lang||"en"),countries:this._countriesService.getCountries(),profile:this.profileService.getProfile()}).subscribe({next:n=>{this.listOfConsultingFields=n.consultingFields,this.nodes=n.isicCodes,this.countries=n.countries.map(i=>({...i,showFlag:!0})),this.isLoadingFields=!1,this.isLoading$=(0,D.of)(!1),this.setDefaultCountryFromProfile(n.profile),this.cdr.detectChanges()},error:n=>{console.error("Error loading fields:",n),this.handleApiError("Failed to load consulting fields or industries."),this.isLoadingFields=!1,this.isLoading$=(0,D.of)(!1)}});this.unsubscribe.push(t)}handleApiError(t){this.messageService.add({severity:"error",summary:"Error",detail:t})}loadDocumentTypes(){this.isLoadingDocumentTypes=!0;const t=this.documentsService.getDocumentsTypes().subscribe({next:n=>{this.documentTypes=n,this.isLoadingDocumentTypes=!1},error:n=>{this.documentTypesError="Failed to load document types.",this.isLoadingDocumentTypes=!1,this.handleApiError("Failed to load document types."),console.error(n)}});this.unsubscribe.push(t)}ngOnDestroy(){this.unsubscribe.forEach(t=>{t&&!t.closed&&t.unsubscribe()})}windowResize(){const n=(0,M.R)(window,"resize").pipe((0,T.T)(()=>window.innerWidth),(0,m.Z)(window.innerWidth)).subscribe(i=>{this.dialogWidth=i<768?"100vw":"70vw"});this.unsubscribe.push(n)}openAgreementDialog(t){if(t&&t.originalEvent&&!t.checked)return this.form.get("agreement")?.setValue(!1),void(this.showAgreementError=this.attemptedSubmit);this.isLoadingAgreement=!0,this.showAgreementDialog=!0,this.commonService.getClientAgreement("company-agreement").subscribe({next:n=>{this.agreementContent=n.data,this.isLoadingAgreement=!1},error:n=>{console.error("Error loading agreement:",n),this.isLoadingAgreement=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load agreement. Please try again."})}})}acceptAgreement(){this.form.get("agreement")?.setValue(!0),this.form.get("agreement")?.markAsTouched(),this.showAgreementDialog=!1,this.showAgreementError=!1}declineAgreement(){this.form.get("agreement")?.setValue(!1),this.form.get("agreement")?.markAsTouched(),this.showAgreementDialog=!1,this.showAgreementError=!0}printTerms(){const t=window.open("","_blank");if(t){const n=this.agreementContent?.name||"Company Terms of Service",a=`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>${n}</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; line-height: 1.6; }\n            h1 { color: #333; text-align: center; margin-bottom: 20px; }\n            .content { margin: 0 auto; max-width: 800px; }\n          </style>\n        </head>\n        <body>\n          <h1>${n}</h1>\n          <div class="content">${this.agreementContent?.guideline||""}</div>\n        </body>\n        </html>\n      `;t.document.open(),t.document.write(a),t.document.close(),setTimeout(()=>{t.print()},500)}else this.messageService.add({severity:"error",summary:"Error",detail:"Could not open print window. Please check your browser settings."})}saveTerms(){if(this.agreementContent){const t=this.agreementContent.name||"Company-Terms-of-Service",n=this.stripHtmlTags(this.agreementContent.guideline),i=new Blob([n],{type:"text/plain"}),a=window.URL.createObjectURL(i),r=document.createElement("a");r.href=a,r.download=`${t.replace(/\s+/g,"-")}.txt`,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r)}}stripHtmlTags(t){const n=document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""}onConsultingNodesSelected(t){this.allConsultingFieldSelected=t&&t.length>0?t:[],this.form.get("consultingFields")?.setValue(this.allConsultingFieldSelected),this.form.get("consultingFields")?.markAsTouched(),this.form.get("consultingFields")?.updateValueAndValidity()}onIndustrySelected(t){this.allIndustriesSelected=t&&t.length>0?t:[],this.form.get("isicCodes")?.setValue(this.allIndustriesSelected),this.form.get("isicCodes")?.markAsTouched(),this.form.get("isicCodes")?.updateValueAndValidity()}initForm(){this.form=this.fb.group({legalName:["",l.k0.required],aboutCompany:["",l.k0.required],logo:[null,l.k0.required],address:["",l.k0.required],company_phone:["",l.k0.required],phoneCountryCode:["",l.k0.required],country:[null,l.k0.required],verificationMethod:["websiteEmail",l.k0.required],website:[""],companyEmail:["",l.k0.email],code:[""],registerDocument:[null],agreement:[!1,l.k0.requiredTrue],consultingFields:[[],[l.k0.required]],isicCodes:[[],[l.k0.required]],certifications:this.fb.array([])})}get certifications(){return this.form.get("certifications")}get certificationControls(){return this.certifications.controls}addCertification(t){const n=this.fb.group({type:[t?.type||"",[l.k0.required]],file:[t?.file||null,[l.k0.required]]});this.certifications.push(n)}removeCertification(t){this.certifications.removeAt(t)}onCertFileSelected(t){this.handleCertFiles(t.target.files),this.certFileInput&&(this.certFileInput.nativeElement.value="")}onCertDropzoneClick(){this.certFileInput&&this.certFileInput.nativeElement.click()}handleCertFiles(t){for(let a=0;a<t.length;a++){const r=t.item(a);if(r){if(r.size>2097152){this.messageService.add({severity:"error",summary:"File Too Large",detail:`File "${r.name}" exceeds the 2MB size limit.`});continue}this.addCertification({file:r})}}}getFileIcon(t){return t?`./assets/media/svg/files/${t.name.split(".").pop()?.toLowerCase()}.svg`:"./assets/media/svg/files/default.svg"}onPhoneNumberInput(t){let i=t.target.value.replace(/\D/g,"");i.length>10&&(i=i.slice(0,10)),this.form.controls.company_phone.setValue(i,{emitEvent:!1})}setVerificationValidators(t){"websiteEmail"===t?(this.form.get("website")?.setValidators([l.k0.required,this.websiteValidator()]),this.form.get("companyEmail")?.setValidators([l.k0.required,l.k0.email]),this.form.get("code")?.setValidators([l.k0.required]),this.form.get("registerDocument")?.clearValidators(),this.form.get("registerDocument")?.setValue(null)):"uploadDocument"===t&&(this.form.get("registerDocument")?.setValidators([l.k0.required]),this.form.get("website")?.clearValidators(),this.form.get("companyEmail")?.clearValidators(),this.form.get("code")?.clearValidators(),this.form.get("website")?.setValue(""),this.form.get("companyEmail")?.setValue(""),this.form.get("code")?.setValue("")),this.form.get("website")?.updateValueAndValidity(),this.form.get("companyEmail")?.updateValueAndValidity(),this.form.get("code")?.updateValueAndValidity(),this.form.get("registerDocument")?.updateValueAndValidity()}onLogoSelected(t){const n=t.target;if(n.files&&n.files[0]){const i=n.files[0];if(!["image/png","image/jpeg","image/jpg"].includes(i.type))return this.messageService.add({severity:"error",summary:"Invalid File Type",detail:"Please select a PNG or JPEG image."}),void this.form.get("logo")?.setErrors({invalidType:!0});if(i.size>2097152)return this.messageService.add({severity:"error",summary:"File Too Large",detail:"Logo must be smaller than 2MB."}),void this.form.get("logo")?.setErrors({maxSizeExceeded:!0});const c=new Image,u=new FileReader;u.onload=g=>{g.target&&(c.src=g.target.result,c.onload=()=>{if(c.width<500||c.height<300)return this.messageService.add({severity:"error",summary:"Low Resolution Image",detail:"Logo must be at least 500x300 pixels for high quality."}),this.form.get("logo")?.setErrors({lowResolution:!0}),this.logoPreview=null,void(this.logoInput&&(this.logoInput.nativeElement.value=""));this.form.patchValue({logo:i}),this.form.get("logo")?.updateValueAndValidity(),this.logoPreview=c.src})},u.readAsDataURL(i)}}removeLogo(){this.form.patchValue({logo:null}),this.logoPreview=null,this.logoInput&&(this.logoInput.nativeElement.value="")}getLogoBackgroundImage(){return`url(${this.logoPreview||this.defaultImage})`}getCode(){const t=this.form.get("companyEmail")?.value;if(t){this.gettingCodeLoader=!0;const n=this.http.post("https://api.foresighta.co/api/auth/company/code/send",{verified_email:t},{headers:{"Accept-Language":"en"}}).subscribe({next:i=>{this.messageService.add({severity:"success",summary:"Success",detail:"Verification email sent successfully."}),this.gettingCodeLoader=!1,this.startGetCodeCooldown()},error:i=>{console.error("Error sending code:",i),this.messageService.add({severity:"error",summary:"Error",detail:i?.error?.message||"Failed to send verification code."}),this.gettingCodeLoader=!1}});this.unsubscribe.push(n)}}startGetCodeCooldown(){this.isGetCodeDisabled=!0,this.getCodeCountdown$.next(30);const i=(0,h.O)(0,1e3).pipe((0,f.s)(31),(0,T.T)(a=>30-a)).subscribe({next:a=>{this.getCodeCountdown$.next(a)},complete:()=>{this.getCodeCountdown$.next(null),this.isGetCodeDisabled=!1}});this.unsubscribe.push(i)}onRegisterDocumentSelected(t){const n=t.target;n.files&&n.files[0]&&(this.form.patchValue({registerDocument:n.files[0]}),this.form.get("registerDocument")?.updateValueAndValidity())}removeRegisterDocument(){this.form.patchValue({registerDocument:null}),this.fileInput&&(this.fileInput.nativeElement.value="")}onDropzoneClick(){this.fileInput.nativeElement.click()}onFileSelected(t){const n=t.target.files[0];n&&(this.form.patchValue({registerDocument:n}),this.form.get("registerDocument")?.updateValueAndValidity())}onDragOver(t){t.preventDefault()}onFileDrop(t){t.preventDefault();const n=t.dataTransfer?.files;if(n&&n.length>0){const i=n.item(0);this.form.patchValue({registerDocument:i}),this.form.get("registerDocument")?.updateValueAndValidity()}}onSubmit(){if(this.attemptedSubmit=!0,this.markFormGroupTouched(this.form),this.form.invalid)return void window.scrollTo({top:0,behavior:"smooth"});const t=new FormData;if(t.append("legal_name",this.form.get("legalName")?.value),t.append("about_us",this.form.get("aboutCompany")?.value),t.append("logo",this.form.get("logo")?.value),t.append("address",this.form.get("address")?.value),t.append("country",this.form.get("country")?.value),this.form.get("company_phone")?.value){const u=this.form.get("phoneCountryCode")?.value?.code||"",g=this.form.get("company_phone")?.value;t.append("company_phone",u+g)}t.append("company_agreement","true");const n=this.form.get("verificationMethod")?.value;"websiteEmail"===n?(t.append("website",this.form.get("website")?.value),t.append("verified_email",this.form.get("companyEmail")?.value),t.append("code",this.form.get("code")?.value)):"uploadDocument"===n&&t.append("register_document",this.form.get("registerDocument")?.value);const i=this.form.get("consultingFields")?.value.filter(u=>"number"==typeof u.key),a=this.form.get("consultingFields")?.value.filter(u=>"string"==typeof u.key&&"selectAll"!==u.key&&u.data&&null!=u.data.customInput);i&&i.length>0&&i.forEach(u=>{t.append("consulting_field[]",u.key.toString())}),a&&a.length>0&&a.forEach((u,g)=>{t.append(`suggest_consulting_fields[${g}][parent_id]`,u.parent&&u.parent.key?"selectAll"===u.parent.key?"0":u.parent.key:"0"),t.append(`suggest_consulting_fields[${g}][name][en]`,u.data.customInput),t.append(`suggest_consulting_fields[${g}][name][ar]`,u.data.customInput)});const r=this.form.get("isicCodes")?.value.filter(u=>"number"==typeof u.key),c=this.form.get("isicCodes")?.value.filter(u=>"string"==typeof u.key&&"selectAll"!==u.key&&u.data&&null!=u.data.customInput);r&&r.length>0&&r.forEach(u=>{t.append("industries[]",u.key.toString())}),c&&c.length>0&&c.forEach((u,g)=>{t.append(`suggest_industries[${g}][parent_id]`,u.parent&&u.parent.key?"selectAll"===u.parent.key?"0":u.parent.key:"0"),t.append(`suggest_industries[${g}][name][en]`,u.data.customInput),t.append(`suggest_industries[${g}][name][ar]`,u.data.customInput)}),this.certifications.controls.length>0&&this.certifications.controls.forEach((u,g)=>{u.valid&&(t.append(`certification[${g}][type]`,u.value.type),t.append(`certification[${g}][file]`,u.value.file))}),this.apiPost(t)}apiPost(t){const n=this.insighterAsCompany.postInsighterToCompany(t).subscribe({next:i=>{G().fire({icon:"success",title:"ar"===this.lang?"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u062d\u0633\u0627\u0628\u0643 \u0628\u0646\u062c\u0627\u062d":"Your account has been successfully updated",text:"ar"===this.lang?"\u0633\u0646\u0642\u0648\u0645 \u0628\u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u062d\u0633\u0627\u0628\u0643 \u0628\u0645\u062c\u0631\u062f \u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a.":"We will verify your account once the information is confirmed.",confirmButtonText:"ar"===this.lang?"\u062d\u0633\u0646\u0627\u064b":"OK",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location.href=window.location.href})},error:i=>{this.handleServerErrors(i)}});this.unsubscribe.push(n)}handleServerErrors(t){if(this.apiErrorMessages=[],t.error){if(t.error.message&&this.messageService.add({severity:"error",summary:"Error",detail:t.error.message}),t.error.errors){const n=t.error.errors;for(const i in n)if(n.hasOwnProperty(i)){const a=n[i];if("common"===i)this.apiErrorMessages=a,this.showApiErrors=!0;else{const r=this.form.get(i);r?r.setErrors({serverError:a.join(", ")}):(this.apiErrorMessages.push(`${i}: ${a.join(", ")}`),this.showApiErrors=!0)}}}}else this.messageService.add({severity:"error",summary:"Error",detail:"An unexpected error occurred."});this.showApiErrors&&window.scrollTo({top:0,behavior:"smooth"})}markFormGroupTouched(t){t instanceof l.gE?Object.keys(t.controls).forEach(n=>{const i=t.get(n);i&&(i instanceof l.gE||i instanceof l.Yp?this.markFormGroupTouched(i):i.markAsTouched())}):t instanceof l.Yp&&t.controls.forEach(n=>{n instanceof l.gE||n instanceof l.Yp?this.markFormGroupTouched(n):n.markAsTouched()})}setDefaultCountryFromProfile(t){if(!t||!this.countries?.length)return;const n=t?.data?.country_id||t?.country_id;if(!n)return;const i=this.countries.find(a=>a.id===n);if(i){const a=this.form.get("country");a&&(a.setValue(i.id),a.markAsTouched(),this.cdr.markForCheck())}}onFlagError(t){t.showFlag=!1}websiteValidator(){return t=>{if(!t.value)return null;const n=t.value.trim();return/^(https?:\/\/)?(www\.)?[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?(\S*)?$/.test(n)?null:{invalidWebsite:!0}}}validateDomainMatching(){if("websiteEmail"!==this.form.get("verificationMethod")?.value)return!0;const t=this.form.get("website")?.value,n=this.form.get("companyEmail")?.value;if(!t||!n)return!1;const i=this.extractDomainFromWebsite(t),a=this.extractDomainFromEmail(n);return!!(i&&a&&a.endsWith(i))}extractDomainFromWebsite(t){if(!t)return null;let n=t.trim().toLowerCase();return n=n.replace(/^(https?:\/\/)/i,""),n=n.replace(/^www\./i,""),n=n.split("/")[0],n=n.split("?")[0],n=n.split("#")[0],n=n.split(":")[0],n||null}extractDomainFromEmail(t){return t&&t.includes("@")?t.split("@")[1].toLowerCase():null}hasEmailAtSymbol(){const t=this.form.get("companyEmail")?.value;return t&&t.includes("@")}static \u0275fac=function(n){return new(n||o)(e.rXU(l.ok),e.rXU(_.Qq),e.rXU(de),e.rXU(O.Ix),e.rXU(ue.h),e.rXU(pe.M),e.rXU(ge.I),e.rXU(me.Q),e.rXU(S.L),e.rXU(he.C),e.rXU(j.p),e.rXU(e.gRc),e.rXU(e.zZn))};static \u0275cmp=e.VBU({type:o,selectors:[["app-upgrade-to-company"]],viewQuery:function(n,i){if(1&n&&(e.GBs(_e,5),e.GBs(be,5),e.GBs(ve,5)),2&n){let a;e.mGM(a=e.lsd())&&(i.logoInput=a.first),e.mGM(a=e.lsd())&&(i.fileInput=a.first),e.mGM(a=e.lsd())&&(i.certFileInput=a.first)}},features:[e.Vt3],decls:144,vars:119,consts:[["certFileInput",""],["logoInput",""],["fileInput",""],[1,"card"],[1,"card-body"],[1,"mil-up",3,"ngSubmit","formGroup"],["class","alert alert-danger mb-10",4,"ngIf"],[1,"mb-10"],[1,"fw-bolder","text-gray-900","mb-3"],[1,"text-gray-500","fw-bold","fs-6"],["href","#",1,"link-primary","fw-bolder"],[1,"card","mb-10"],[1,"card-body","p-8"],[1,"mb-8"],[1,"form-label","required","fw-bold"],["formControlName","legalName","type","text",1,"form-control",3,"placeholder"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["formControlName","aboutCompany","rows","4",1,"form-control"],["formControlName","address","type","text",1,"form-control",3,"placeholder"],["formControlName","country",3,"countries","placeholder","searchPlaceholder","enableSearch","showClear","lang","isInvalid"],[1,"input-group"],[1,"max-width-200px"],["formControlName","phoneCountryCode","optionLabel","text",1,"d-block","form-p-control","no-border-radius-start-end",3,"options","placeholder","filter","showClear"],["formControlName","company_phone","type","tel",1,"form-control","no-rtl-b-radius",3,"input","dir","placeholder"],[1,"row"],["class","d-flex justify-content-center align-items-center min-h-150px my-3 w-100",4,"ngIf"],[4,"ngIf"],[1,"form-label","mb-3"],[1,"mb-5"],[1,"mh-300px","scroll-y","me-n7","pe-7"],["class","d-flex flex-stack py-4 border border-top-0 border-left-0 border-right-0 border-dashed",3,"formGroup",4,"ngFor","ngForOf"],[1,"fv-row","mb-5","text-start"],["type","button",1,"btn","btn-lg","btn-primary",3,"click"],[1,"bi","bi-upload","me-2"],[1,"mt-2","text-muted","fs-6"],["type","file","multiple","","accept",".png, .jpg, .jpeg, .pdf",2,"display","none",3,"change"],[1,"d-flex","flex-column","align-items-start"],[1,"image-input","logo-placeholder","image-input-outline"],[1,"image-input-wrapper","logo-placeholder","w-225px","h-100px"],["data-kt-image-input-action","change","data-bs-toggle","tooltip","data-bs-dismiss","click",1,"btn","btn-icon","btn-circle","btn-color-muted","btn-active-color-primary","w-25px","h-25px","bg-body","position-absolute","top-0","end-0","m-2",3,"title"],[1,"ki-duotone","ki-pencil","fs-6"],[1,"path1"],[1,"path2"],["type","file","accept",".png, .jpg, .jpeg",3,"change"],["type","hidden","name","avatar_remove"],["class","fv-plugins-message-container invalid-feedback mt-2",4,"ngIf"],[1,"form-label","required","fw-bold","mb-4"],[1,"radio-options-container"],[1,"radio-option"],[1,"form-check","form-check-custom","form-check-solid"],["type","radio","formControlName","verificationMethod","name","verificationMethod","value","websiteEmail","id","verificationMethod1",1,"form-check-input"],["for","verificationMethod1",1,"form-check-label"],[1,"radio-icon"],[1,"ki-duotone","ki-icon","mx-2","fs-2"],[1,"path3"],[1,"radio-text"],["type","radio","formControlName","verificationMethod","name","verificationMethod","value","uploadDocument","id","verificationMethod2",1,"form-check-input"],["for","verificationMethod2",1,"form-check-label"],[1,"ki-duotone","ki-document","mx-2","fs-2"],["class","mb-8",4,"ngIf"],[1,"d-flex","align-items-start"],["formControlName","agreement","inputId","companyAgreement",3,"onChange","binary"],["for","companyAgreement",1,"ms-2","fs-6","text-gray-800","cursor-pointer",3,"click"],["href","javascript:void(0)",1,"ms-1","link-primary"],["class","fv-plugins-message-container invalid-feedback d-block mt-2",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-lg","btn-info","min-w-200px"],["appendTo","body","styleClass","terms-dialog",3,"visibleChange","visible","modal","closable","closeOnEscape","dismissableMask","draggable","resizable","focusOnShow","blockScroll"],["pTemplate","header"],["class","d-flex justify-content-center py-4",4,"ngIf"],[1,"terms-content-wrapper"],["class","agreement-content custom-scrollbar",3,"max-height","overflow-y",4,"ngIf"],["class","text-center text-danger py-4",4,"ngIf"],["pTemplate","footer"],[1,"alert","alert-danger","mb-10"],[1,"d-flex","align-items-center","mb-2"],[1,"ki-duotone","ki-information-5","fs-2x","me-4"],[1,"mb-0","ps-5"],[4,"ngFor","ngForOf"],["type","button","aria-label","Close",1,"btn-close","position-absolute","end-0","top-0","m-4",3,"click"],[1,"fv-plugins-message-container","invalid-feedback"],[1,"d-flex","justify-content-center","align-items-center","min-h-150px","my-3","w-100"],[1,"spinner-border","spinner-border-md","align-middle","mx-2","text-info"],[1,"text-muted","ms-2"],[1,"col-12","mb-8"],[3,"nodesSelected","title","placeholder","otherFieldPlaceholder","selectAllLabel","fetchedData","cancelLabel","okLabel","isRequired","currentLang"],[3,"nodesSelected","title","placeholder","otherFieldPlaceholder","selectAllLabel","fetchedData","cancelLabel","okLabel","isRequired"],[1,"d-flex","flex-stack","py-4","border","border-top-0","border-left-0","border-right-0","border-dashed",3,"formGroup"],[1,"d-flex","align-items-center","gap-3"],[1,"symbol","symbol-20px"],[1,"ki-duotone","ki-check-circle","fs-1","text-success"],[1,"symbol","symbol-35px"],["alt","icon",3,"src"],[1,"ms-6","w-200px"],["href","#",1,"fs-5","fw-bold","text-gray-900","text-hover-primary","mb-2"],[1,"fw-semibold","text-muted"],[1,"mt-2","w-200px"],[1,"form-label"],["formControlName","type",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"min-w-100px"],["type","button","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-danger","btn-sm","text-danger",3,"click","pTooltip"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path4"],[1,"path5"],[3,"value"],[1,"text-danger"],[1,"fv-plugins-message-container","invalid-feedback","mt-2"],["formControlName","website","type","text",1,"form-control",3,"placeholder"],[1,"row","g-4"],[1,"col-12","col-lg-9"],[1,"d-flex","flex-column","flex-sm-row","gap-2","gap-sm-3","mb-2"],[1,"flex-grow-1"],["formControlName","companyEmail","type","email",1,"form-control",3,"placeholder"],[1,"d-grid","d-sm-block"],["type","button",1,"btn","btn-info","w-100",3,"click","disabled"],["class","text-danger fs-7 mt-2",4,"ngIf"],[1,"col-12","col-sm-6","col-lg-3"],["formControlName","code","type","text",1,"form-control",3,"placeholder"],[1,"spinner-border","spinner-border-sm","ms-2"],[1,"text-danger","fs-7","mt-2"],[1,"fv-row"],["class","dropzone dz-clickable border-2 border-dashed border-info rounded p-8 text-center",3,"click","drop","dragover",4,"ngIf"],["class","border rounded p-4",4,"ngIf"],["type","file","accept",".png, .jpg, .jpeg, .pdf",2,"display","none",3,"change"],[1,"dropzone","dz-clickable","border-2","border-dashed","border-info","rounded","p-8","text-center",3,"click","drop","dragover"],[1,"ki-outline","ki-file-up","fs-3x","text-primary","mb-3"],[1,"fs-4","fw-bold","text-gray-900","mb-2"],[1,"fs-7","text-muted"],[1,"border","rounded","p-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-40px","me-4"],[1,"fs-6","fw-bold","text-gray-900","d-block"],["type","button","tooltipPosition","top",1,"btn","btn-icon","btn-light-danger","btn-sm",3,"click","pTooltip"],[1,"fv-plugins-message-container","invalid-feedback","d-block","mt-2"],[1,"d-flex","justify-content-between","align-items-center","w-100"],[1,"m-0"],[1,"d-flex"],[1,"btn","btn-sm","btn-icon","me-2",3,"click"],[1,"ki-outline","ki-printer","fs-3"],[1,"btn","btn-sm","btn-icon",3,"click"],[1,"ki-outline","ki-save-2","fs-3"],[1,"d-flex","justify-content-center","py-4"],[1,"spinner-border","spinner-border-lg","text-primary"],[1,"agreement-content","custom-scrollbar"],[3,"innerHTML"],[1,"text-center","text-danger","py-4"],[1,"d-flex","flex-column","justify-content-between","align-items-center","gap-3"],[1,"text-muted","fs-7"],[1,"d-flex","gap-2"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-info",3,"click"]],template:function(n,i){if(1&n){const a=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"form",5),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(i.onSubmit())}),e.DNE(3,Ie,12,4,"div",6),e.j41(4,"div",7)(5,"h2",8),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",9),e.EFF(9),e.nI1(10,"translate"),e.j41(11,"a",10),e.EFF(12),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"div",11)(15,"div",12)(16,"div",13)(17,"label",14),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.nrm(20,"input",15),e.nI1(21,"translate"),e.DNE(22,ye,3,3,"div",16),e.k0s(),e.j41(23,"div",13)(24,"label",14),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.nrm(27,"textarea",17),e.DNE(28,Ee,3,3,"div",16),e.k0s(),e.j41(29,"div",13)(30,"label",14),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.nrm(33,"input",18),e.nI1(34,"translate"),e.DNE(35,Re,3,3,"div",16),e.k0s(),e.j41(36,"div",13)(37,"label",14),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.nrm(40,"app-country-dropdown",19),e.nI1(41,"translate"),e.DNE(42,xe,3,3,"div",16),e.k0s(),e.j41(43,"div",13)(44,"label",14),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"div",20)(48,"div",21),e.nrm(49,"p-dropdown",22),e.nI1(50,"translate"),e.k0s(),e.j41(51,"input",23),e.nI1(52,"translate"),e.bIt("input",function(c){return e.eBV(a),e.Njj(i.onPhoneNumberInput(c))}),e.k0s()(),e.DNE(53,Ae,3,3,"div",16)(54,Se,3,3,"div",16),e.k0s(),e.j41(55,"div",24),e.DNE(56,De,5,3,"div",25)(57,ke,17,39,"ng-container",26),e.k0s(),e.j41(58,"div",7)(59,"label",27),e.EFF(60),e.nI1(61,"translate"),e.k0s(),e.j41(62,"div",28)(63,"div",29),e.DNE(64,Oe,34,21,"div",30),e.k0s()(),e.j41(65,"div",31)(66,"button",32),e.bIt("click",function(){return e.eBV(a),e.Njj(i.onCertDropzoneClick())}),e.nrm(67,"i",33),e.EFF(68),e.nI1(69,"translate"),e.k0s(),e.j41(70,"div",34),e.EFF(71),e.nI1(72,"translate"),e.k0s(),e.j41(73,"input",35,0),e.bIt("change",function(c){return e.eBV(a),e.Njj(i.onCertFileSelected(c))}),e.k0s()()(),e.j41(75,"div",13)(76,"label",14),e.EFF(77),e.nI1(78,"translate"),e.k0s(),e.j41(79,"div",36)(80,"div",37),e.nrm(81,"div",38),e.j41(82,"label",39),e.nI1(83,"translate"),e.j41(84,"i",40),e.nrm(85,"span",41)(86,"span",42),e.k0s(),e.j41(87,"input",43,1),e.bIt("change",function(c){return e.eBV(a),e.Njj(i.onLogoSelected(c))}),e.k0s(),e.nrm(89,"input",44),e.k0s()(),e.DNE(90,Pe,3,3,"div",45),e.k0s()()()(),e.j41(91,"div",11)(92,"div",12)(93,"div",13)(94,"label",46),e.EFF(95),e.nI1(96,"translate"),e.k0s(),e.j41(97,"div",47)(98,"div",48)(99,"div",49),e.nrm(100,"input",50),e.j41(101,"label",51)(102,"span",52)(103,"i",53),e.nrm(104,"span",41)(105,"span",42)(106,"span",54),e.k0s()(),e.j41(107,"span",55),e.EFF(108),e.nI1(109,"translate"),e.k0s()()()(),e.j41(110,"div",48)(111,"div",49),e.nrm(112,"input",56),e.j41(113,"label",57)(114,"span",52)(115,"i",58),e.nrm(116,"span",41)(117,"span",42),e.k0s()(),e.j41(118,"span",55),e.EFF(119),e.nI1(120,"translate"),e.k0s()()()()()(),e.DNE(121,We,31,26,"div",59)(122,Je,7,3,"div",59),e.j41(123,"div",28)(124,"div",60)(125,"p-checkbox",61),e.bIt("onChange",function(){return e.eBV(a),e.Njj(i.openAgreementDialog())}),e.k0s(),e.j41(126,"label",62),e.bIt("click",function(){return e.eBV(a),e.Njj(i.openAgreementDialog())}),e.EFF(127),e.nI1(128,"translate"),e.j41(129,"a",63),e.EFF(130),e.nI1(131,"translate"),e.k0s()()(),e.DNE(132,Ke,3,3,"div",64),e.k0s()()(),e.j41(133,"div",65)(134,"button",66),e.EFF(135),e.nI1(136,"translate"),e.k0s()()()()(),e.j41(137,"p-dialog",67),e.mxI("visibleChange",function(c){return e.eBV(a),e.DH7(i.showAgreementDialog,c)||(i.showAgreementDialog=c),e.Njj(c)}),e.DNE(138,qe,8,1,"ng-template",68)(139,Qe,2,0,"div",69),e.j41(140,"div",70),e.DNE(141,et,2,5,"div",71)(142,tt,2,0,"div",72),e.k0s(),e.DNE(143,nt,11,9,"ng-template",73),e.k0s()}if(2&n){let a,r,c,u,g,y,x,A,w,F,E,V;e.R7$(2),e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("ngIf",i.showApiErrors&&i.apiErrorMessages.length>0),e.R7$(3),e.SpI(" ",e.bMT(7,70,"INSIGHTER_WIZARD.UPGRADE_TO_CORPORATE_ACCOUNT")," "),e.R7$(3),e.SpI(" ",e.bMT(10,72,"INSIGHTER_WIZARD.IF_NEED_MORE_INFO_VERIFICATION")," "),e.R7$(3),e.SpI(" ",e.bMT(13,74,"INSIGHTER_WIZARD.HELP_PAGE")," "),e.R7$(6),e.SpI(" ",e.bMT(19,76,"ACCOUNT_SETTINGS.COMPANY_LEGAL_NAME")," "),e.R7$(2),e.FS9("placeholder",e.bMT(21,78,"ACCOUNT_SETTINGS.COMPANY_LEGAL_NAME")),e.R7$(2),e.Y8G("ngIf",(null==(a=i.form.get("legalName"))?null:a.invalid)&&(null==(a=i.form.get("legalName"))?null:a.touched)),e.R7$(3),e.SpI(" ",e.bMT(26,80,"INSIGHTER_WIZARD.ABOUT_COMPANY")," "),e.R7$(3),e.Y8G("ngIf",(null==(r=i.form.get("aboutCompany"))?null:r.invalid)&&(null==(r=i.form.get("aboutCompany"))?null:r.touched)),e.R7$(3),e.SpI(" ",e.bMT(32,82,"INSIGHTER_WIZARD.ADDRESS")," "),e.R7$(2),e.FS9("placeholder",e.bMT(34,84,"INSIGHTER_WIZARD.ADDRESS_PLACEHOLDER")),e.R7$(2),e.Y8G("ngIf",(null==(c=i.form.get("address"))?null:c.invalid)&&(null==(c=i.form.get("address"))?null:c.touched)),e.R7$(3),e.SpI(" ",e.bMT(39,86,"INSIGHTER_WIZARD.COUNTRY")," "),e.R7$(2),e.Y8G("countries",i.countries)("placeholder",e.bMT(41,88,"INSIGHTER_WIZARD.COUNTRY_PLACEHOLDER"))("searchPlaceholder","Search countries...")("enableSearch",!0)("showClear",!0)("lang",i.lang)("isInvalid",!(null==(u=i.form.get("country"))||!u.hasError("required")||null==(u=i.form.get("country"))||!u.touched)),e.R7$(2),e.Y8G("ngIf",(null==(g=i.form.get("country"))?null:g.invalid)&&(null==(g=i.form.get("country"))?null:g.touched)),e.R7$(3),e.SpI(" ",e.bMT(46,90,"INSIGHTER_WIZARD.COMPANY_PHONE")," "),e.R7$(4),e.FS9("placeholder",e.bMT(50,92,"INSIGHTER_WIZARD.COUNTRY_PLACEHOLDER")),e.Y8G("options",i.phoneNumbers)("filter",!0)("showClear",!0),e.R7$(2),e.AVh("is-invalid",(null==(y=i.form.get("company_phone"))?null:y.invalid)&&(null==(y=i.form.get("company_phone"))?null:y.touched)),e.FS9("placeholder",e.bMT(52,94,"INSIGHTER_WIZARD.COMPANY_PHONE_PLACEHOLDER")),e.Y8G("dir","ar"==i.lang?"rtl":"ltr"),e.R7$(2),e.Y8G("ngIf",(null==(x=i.form.get("company_phone"))?null:x.invalid)&&(null==(x=i.form.get("company_phone"))?null:x.touched)),e.R7$(),e.Y8G("ngIf",(null==(A=i.form.get("phoneCountryCode"))?null:A.invalid)&&(null==(A=i.form.get("phoneCountryCode"))?null:A.touched)),e.R7$(2),e.Y8G("ngIf",i.isLoadingFields),e.R7$(),e.Y8G("ngIf",!i.isLoadingFields),e.R7$(3),e.SpI(" ",e.bMT(61,96,"COMPANY_CERTIFICATIONS")," "),e.R7$(4),e.Y8G("ngForOf",i.certificationControls),e.R7$(4),e.SpI(" ",e.bMT(69,98,"INSIGHTER_WIZARD.DROP_FILES_HERE_OR_CLICK")," "),e.R7$(3),e.SpI(" ",e.bMT(72,100,"INSIGHTER_WIZARD.UPLOAD_UP_TO_FILES")," "),e.R7$(6),e.SpI(" ",e.bMT(78,102,"INSIGHTER_WIZARD.COMPANYLOGO")," "),e.R7$(3),e.xc7("background-image",i.getLogoBackgroundImage()),e.R7$(),e.xc7("background-image",i.getLogoBackgroundImage()),e.R7$(),e.FS9("title",e.bMT(83,104,"INSIGHTER_WIZARD.CHANGE_LOGO")),e.R7$(8),e.Y8G("ngIf",(null==(w=i.form.get("logo"))?null:w.invalid)&&(null==(w=i.form.get("logo"))?null:w.touched)),e.R7$(5),e.SpI(" ",e.bMT(96,106,"INSIGHTER_WIZARD.CHOOSE_VERIFICATION_METHOD")," "),e.R7$(13),e.JRh(e.bMT(109,108,"INSIGHTER_WIZARD.BY_WEBSITE_COMPANY_EMAIL")),e.R7$(11),e.JRh(e.bMT(120,110,"INSIGHTER_WIZARD.BY_UPLOADING_REGISTRY_DOCUMENT")),e.R7$(2),e.Y8G("ngIf","websiteEmail"===(null==(F=i.form.get("verificationMethod"))?null:F.value)),e.R7$(),e.Y8G("ngIf","uploadDocument"===(null==(E=i.form.get("verificationMethod"))?null:E.value)),e.R7$(3),e.Y8G("binary",!0),e.R7$(2),e.SpI(" ",e.bMT(128,112,"INSIGHTER_WIZARD.I_ACCEPT_THE")," "),e.R7$(3),e.SpI(" ",e.bMT(131,114,"INSIGHTER_WIZARD.COMPANY_TERMS")," "),e.R7$(2),e.Y8G("ngIf",(null==(V=i.form.get("agreement"))?null:V.invalid)&&((null==(V=i.form.get("agreement"))?null:V.touched)||i.attemptedSubmit)),e.R7$(3),e.SpI(" ",e.bMT(136,116,"INSIGHTER_WIZARD.UPGRADE_TO_CORPORATE_ACCOUNT")," "),e.R7$(2),e.Aen(e.lJ4(118,Te)),e.R50("visible",i.showAgreementDialog),e.Y8G("modal",!0)("closable",!0)("closeOnEscape",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!0)("blockScroll",!0),e.R7$(2),e.Y8G("ngIf",i.isLoadingAgreement),e.R7$(2),e.Y8G("ngIf",!i.isLoadingAgreement&&i.agreementContent),e.R7$(),e.Y8G("ngIf",!i.isLoadingAgreement&&!i.agreementContent)}},dependencies:[p.Sq,p.bT,l.qT,l.xH,l.y7,l.me,l.wz,l.Fm,l.BC,l.cb,z.m,l.j4,l.JD,J.l,K.Ei,q.Sc,Q.o,ee.ms,te.R,p.Jj,p.QX,I.D9,fe._],styles:[".max-width-200px[_ngcontent-%COMP%]{max-width:250px;width:250px}.logo-placeholder[_ngcontent-%COMP%]{background-size:contain;background-position:center}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.radio-options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.radio-option[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding-left:0;margin-bottom:0}.radio-option[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{float:none;margin-left:0;margin-right:.75rem}.radio-option[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1rem;border-radius:.475rem;transition:all .2s ease;cursor:pointer}.radio-option[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]:hover{background-color:#f5f8fa}.radio-option[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;margin-right:.75rem;color:#7e8299}.radio-option[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.radio-option[_ngcontent-%COMP%]   .radio-text[_ngcontent-%COMP%]{font-weight:500;color:#181c32}.form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]{background-color:#f1faff;border-color:#e1f0ff}.form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{color:#009ef7}.form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]   .radio-text[_ngcontent-%COMP%]{color:#009ef7;font-weight:600}.agreement-content[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;color:#5e6278;padding:.5rem}.agreement-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#181c32;margin-bottom:.75rem;font-weight:600}.agreement-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.agreement-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-bottom:1rem;padding-left:1.5rem}.agreement-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0275d8;text-decoration:none}.agreement-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}  .terms-dialog .p-dialog-header{padding:1rem 1.5rem;border-bottom:1px solid #eff2f5}  .terms-dialog .p-dialog-content{padding:0}  .terms-dialog .p-dialog-footer{padding:1rem 1.5rem;border-top:1px solid #eff2f5}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.form-check-label[_ngcontent-%COMP%]{cursor:pointer}.terms-content-wrapper[_ngcontent-%COMP%]{padding:1rem}@media (max-width: 767px){  .p-dialog{max-width:100vw!important;max-height:90vh!important}}"]})}return o})();var v=d(2100);let ne=(()=>{class o{http;baseUrl="https://api.foresighta.co/api";isLoadingSubject=new R.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t){this.http=t}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){return(0,B.$)(()=>t)}deactivateCompanyWithDelete(t,n,i){const a=new _.Lr({Accept:"application/json","Accept-Language":i}),r=new FormData;return r.append("comments",t),r.append("parent_id",n),this.setLoading(!0),this.http.post(`${this.baseUrl}/company/request/deactivate-delete`,r,{headers:a}).pipe((0,T.T)(c=>c),(0,N.W)(c=>this.handleError(c)),(0,k.j)(()=>this.setLoading(!1)))}deactivateInsighterWithDelete(t,n,i){const a=new _.Lr({Accept:"application/json","Accept-Language":i}),r=new FormData;return r.append("comments",t),r.append("parent_id",n),this.setLoading(!0),this.http.post(`${this.baseUrl}/insighter/request/deactivate-delete`,r,{headers:a}).pipe((0,T.T)(c=>c),(0,N.W)(c=>this.handleError(c)),(0,k.j)(()=>this.setLoading(!1)))}deactivateCompanyWithoutDelete(t,n,i){const a=new _.Lr({Accept:"application/json","Accept-Language":i}),r=new FormData;return r.append("comments",t),r.append("parent_id",n),this.setLoading(!0),this.http.post(`${this.baseUrl}/company/deactivate`,r,{headers:a}).pipe((0,T.T)(c=>c),(0,N.W)(c=>this.handleError(c)),(0,k.j)(()=>this.setLoading(!1)))}deactivateInsighterWithoutDelete(t,n,i){const a=new _.Lr({Accept:"application/json","Accept-Language":i}),r=new FormData;return r.append("comments",t),r.append("parent_id",n),this.setLoading(!0),this.http.post(`${this.baseUrl}/insighter/deactivate`,r,{headers:a}).pipe((0,T.T)(c=>c),(0,N.W)(c=>this.handleError(c)),(0,k.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||o)(e.KVO(_.Qq))};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var oe=d(1880);const it=["input"],at=(o,s,t,n)=>({"p-radiobutton p-component":!0,"p-radiobutton-checked":o,"p-radiobutton-disabled":s,"p-radiobutton-focused":t,"p-variant-filled":n}),st=(o,s,t)=>({"p-radiobutton-box":!0,"p-highlight":o,"p-disabled":s,"p-focus":t}),rt=(o,s,t)=>({"p-radiobutton-label":!0,"p-radiobutton-label-active":o,"p-disabled":s,"p-radiobutton-label-focus":t});function ct(o,s){if(1&o){const t=e.RV6();e.j41(0,"label",7),e.bIt("click",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.select(i))}),e.EFF(1),e.k0s()}if(2&o){const t=e.XpG(),n=e.sdS(3);e.HbH(t.labelStyleClass),e.Y8G("ngClass",e.sMw(6,rt,n.checked,t.disabled,t.focused)),e.BMQ("for",t.inputId)("data-pc-section","label"),e.R7$(),e.JRh(t.label)}}const lt={provide:l.kq,useExisting:(0,e.Rfq)(()=>ie),multi:!0};let dt=(()=>{class o{accessors=[];add(t,n){this.accessors.push([t,n])}remove(t){this.accessors=this.accessors.filter(n=>n[1]!==t)}select(t){this.accessors.forEach(n=>{this.isSameGroup(n,t)&&n[1]!==t&&n[1].writeValue(t.value)})}isSameGroup(t,n){return!!t[0].control&&t[0].control.root===n.control.control.root&&t[1].name===n.name}static \u0275fac=function(n){return new(n||o)};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),ie=(()=>{class o{cd;injector;registry;config;value;formControlName;name;disabled;label;variant="outlined";tabindex;inputId;ariaLabelledBy;ariaLabel;style;styleClass;labelStyleClass;autofocus;onClick=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;inputViewChild;onModelChange=()=>{};onModelTouched=()=>{};checked;focused;control;constructor(t,n,i,a){this.cd=t,this.injector=n,this.registry=i,this.config=a}ngOnInit(){this.control=this.injector.get(l.vO),this.checkName(),this.registry.add(this.control,this)}handleClick(t,n,i){this.disabled||(this.select(t),i&&n.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:t,value:this.value}))}writeValue(t){this.checked=t==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}static \u0275fac=function(n){return new(n||o)(e.rXU(e.gRc),e.rXU(e.zZn),e.rXU(dt),e.rXU(K.r1))};static \u0275cmp=e.VBU({type:o,selectors:[["p-radioButton"]],viewQuery:function(n,i){if(1&n&&e.GBs(it,5),2&n){let a;e.mGM(a=e.lsd())&&(i.inputViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39],label:"label",variant:"variant",tabindex:[e.Mj6.HasDecoratorInputTransform,"tabindex","tabindex",e.Udg],inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",autofocus:[e.Mj6.HasDecoratorInputTransform,"autofocus","autofocus",e.L39]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[e.Jv_([lt]),e.GFd],decls:7,vars:30,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio","pAutoFocus","",3,"focus","blur","checked","disabled","value","autofocus"],[3,"ngClass"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"click","ngClass"]],template:function(n,i){if(1&n){const a=e.RV6();e.j41(0,"div",1),e.bIt("click",function(c){e.eBV(a);const u=e.sdS(3);return e.Njj(i.handleClick(c,u,!0))}),e.j41(1,"div",2)(2,"input",3,0),e.bIt("focus",function(c){return e.eBV(a),e.Njj(i.onInputFocus(c))})("blur",function(c){return e.eBV(a),e.Njj(i.onInputBlur(c))}),e.k0s()(),e.j41(4,"div",4),e.nrm(5,"span",5),e.k0s()(),e.DNE(6,ct,2,10,"label",6)}2&n&&(e.HbH(i.styleClass),e.Y8G("ngStyle",i.style)("ngClass",e.ziG(21,at,i.checked,i.disabled,i.focused,"filled"===i.variant||"filled"===i.config.inputStyle())),e.BMQ("data-pc-name","radiobutton")("data-pc-section","root"),e.R7$(),e.BMQ("data-pc-section","hiddenInputWrapper"),e.R7$(),e.Y8G("checked",i.checked)("disabled",i.disabled)("value",i.value)("autofocus",i.autofocus),e.BMQ("id",i.inputId)("name",i.name)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("tabindex",i.tabindex)("data-pc-section","hiddenInput"),e.R7$(2),e.Y8G("ngClass",e.sMw(26,st,i.checked,i.disabled,i.focused)),e.BMQ("data-pc-section","input"),e.R7$(),e.BMQ("data-pc-section","icon"),e.R7$(),e.Y8G("ngIf",i.label))},dependencies:[p.YU,p.bT,p.B3,oe.q],encapsulation:2,changeDetection:0})}return o})(),ut=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[p.MD,oe.u]})}return o})();const $=()=>["company"],H=()=>["company-insighter"],W=()=>["insighter"];function pt(o,s){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.TITLE_COMPANY")," "))}function gt(o,s){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.TITLE_INSIGHTER")," "))}function mt(o,s){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.DESCRIPTION_COMPANY")," "))}function ht(o,s){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.DESCRIPTION_INSIGHTER")," "))}function ft(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",16)(1,"p-radioButton",17),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(3);return e.DH7(a.deactivationType,i)||(a.deactivationType=i),e.Njj(i)}),e.k0s(),e.j41(2,"label",18),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.R50("ngModel",t.deactivationType),e.Y8G("inputId","user"),e.R7$(),e.Y8G("for","user"),e.R7$(),e.JRh(e.bMT(4,4,"DEACTIVATE_ACCOUNT.MODAL.DEACTIVATE_USER_ONLY"))}}function _t(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",16)(1,"p-radioButton",19),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(3);return e.DH7(a.deactivationType,i)||(a.deactivationType=i),e.Njj(i)}),e.k0s(),e.j41(2,"label",18),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.R50("ngModel",t.deactivationType),e.Y8G("inputId","company"),e.R7$(),e.Y8G("for","company"),e.R7$(),e.JRh(e.bMT(4,4,"DEACTIVATE_ACCOUNT.MODAL.DEACTIVATE_COMPANY_ONLY"))}}function bt(o,s){if(1&o&&(e.j41(0,"div",12)(1,"label",13),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",14),e.DNE(5,ft,5,6,"div",15)(6,_t,5,6,"div",15),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,3,"DEACTIVATE_ACCOUNT.MODAL.DEACTIVATION_TYPE")),e.R7$(3),e.Y8G("ngIf","active"===t.config.data.insighter_status),e.R7$(),e.Y8G("ngIf","active"===t.config.data.company_status)}}function vt(o,s){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_USER")," "))}function Tt(o,s){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_COMPANY")," "))}function Ct(o,s){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_BOTH")," "))}function It(o,s){if(1&o&&(e.qex(0),e.DNE(1,vt,3,3,"ng-container",0)(2,Tt,3,3,"ng-container",0)(3,Ct,3,3,"ng-container",0),e.bVm()),2&o){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf","user"===t.deactivationType),e.R7$(),e.Y8G("ngIf","company"===t.deactivationType),e.R7$(),e.Y8G("ngIf","both"===t.deactivationType)}}function yt(o,s){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_COMPANY")," "))}function Et(o,s){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_INSIGHTER")," "))}function Rt(o,s){if(1&o&&(e.qex(0),e.DNE(1,It,4,3,"ng-container",0)(2,yt,3,3,"ng-container",0)(3,Et,3,3,"ng-container",0),e.bVm()),2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.hasRole(e.lJ4(3,$))),e.R7$(),e.Y8G("ngIf",t.hasRole(e.lJ4(4,H))),e.R7$(),e.Y8G("ngIf",t.hasRole(e.lJ4(5,W)))}}function xt(o,s){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.nrm(3,"span",20),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"COMMON.PLEASE_WAIT")," "))}function At(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e.DNE(5,pt,3,3,"ng-container",0)(6,gt,3,3,"ng-container",0),e.k0s(),e.j41(7,"p",5),e.DNE(8,mt,3,3,"ng-container",0)(9,ht,3,3,"ng-container",0),e.k0s()(),e.DNE(10,bt,7,5,"div",6),e.j41(11,"div",7)(12,"label",8),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"textarea",9),e.nI1(16,"translate"),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.deactivationReason,i)||(a.deactivationReason=i),e.Njj(i)}),e.k0s()(),e.j41(17,"div",10)(18,"button",11),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.deactivateAccount())}),e.DNE(19,Rt,4,6,"ng-container",0)(20,xt,4,3,"ng-container",0),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(5),e.Y8G("ngIf",t.hasRole(e.lJ4(15,$))||t.hasRole(e.lJ4(16,H))),e.R7$(),e.Y8G("ngIf",t.hasRole(e.lJ4(17,W))),e.R7$(2),e.Y8G("ngIf",t.hasRole(e.lJ4(18,$))||t.hasRole(e.lJ4(19,H))),e.R7$(),e.Y8G("ngIf",t.hasRole(e.lJ4(20,W))),e.R7$(),e.Y8G("ngIf",t.hasRole(e.lJ4(21,$))),e.R7$(3),e.JRh(e.bMT(14,11,"DEACTIVATE_ACCOUNT.MODAL.REASON_LABEL")),e.R7$(2),e.R50("ngModel",t.deactivationReason),e.Y8G("placeholder",e.bMT(16,13,"DEACTIVATE_ACCOUNT.MODAL.REASON_PLACEHOLDER")),e.R7$(3),e.Y8G("disabled",!t.deactivationReason||t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading),e.R7$(),e.Y8G("ngIf",t.isLoading)}}function St(o,s){1&o&&(e.qex(0),e.j41(1,"div",21)(2,"div",2)(3,"div",22)(4,"div",23),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.nrm(7,"app-keenicon",24),e.k0s()()(),e.bVm()),2&o&&(e.R7$(5),e.SpI(" ",e.bMT(6,1,"DEACTIVATE_ACCOUNT_SUCCESS_MESSAGE")," "))}let Dt=(()=>{class o extends C.${deactivateService;getProfileService;ref;config;deactivationReason="";step=1;roles=[];isLoading=!1;deactivationType="both";constructor(t,n,i,a,r){super(t),this.deactivateService=n,this.getProfileService=i,this.ref=a,this.config=r}ngOnInit(){this.config.data&&this.config.data.deactivationType&&(this.deactivationType=this.config.data.deactivationType);const t=this.getProfileService.getProfile().subscribe({next:n=>{this.roles=n.roles,this.hasRole(["company"])&&!this.config.data?.deactivationType&&(this.deactivationType="both")}});this.unsubscribe.push(t)}deactivateInsighter(){this.isLoading=!0;const t=this.deactivateService.deactivateInsighterWithoutDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0646\u0634\u064a\u0637 \u0628\u0646\u062c\u0627\u062d":"Account deactivated successfully"),this.step=2,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0)},1500)},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(t)}deactivateCompany(){this.isLoading=!0;const t=this.deactivateService.deactivateCompanyWithoutDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0646\u0634\u064a\u0637 \u0628\u0646\u062c\u0627\u062d":"Account deactivated successfully"),this.step=2,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0)},1500)},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(t)}deactivateAccount(){if(this.hasRole(["insighter"]))this.deactivateInsighter();else if(this.hasRole(["company"]))if("user"===this.deactivationType)this.deactivateInsighter();else if("company"===this.deactivationType)this.deactivateCompany();else if("both"===this.deactivationType){const t=this.deactivateService.deactivateCompanyWithoutDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.deactivateInsighter()},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(t)}}hasRole(t){return this.roles.some(n=>t.includes(n))}handleServerErrors(t){if(t.error&&t.error.errors){const n=t.error.errors;for(const i in n)n.hasOwnProperty(i)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",n[i].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(ne),e.rXU(j.p),e.rXU(v.Pw),e.rXU(v.sb))};static \u0275cmp=e.VBU({type:o,selectors:[["app-deactivate-dialog"]],features:[e.Vt3],decls:2,vars:2,consts:[[4,"ngIf"],[1,"card","border-0","shadow-none"],[1,"card-body"],[1,"mb-5"],[1,"text-xl","font-bold","mb-3"],[1,"text-gray-600"],["class","form-group mb-4",4,"ngIf"],[1,"form-group"],[1,"form-label","required"],["rows","4",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","justify-content-end","mt-5"],["type","button",1,"btn","btn-danger","w-100",3,"click","disabled"],[1,"form-group","mb-4"],[1,"form-label"],[1,"d-flex","flex-column","gap-2","mt-2"],["class","p-field-radiobutton",4,"ngIf"],[1,"p-field-radiobutton"],["name","deactivationType","value","user",3,"ngModelChange","ngModel","inputId"],[1,"ms-2",3,"for"],["name","deactivationType","value","company",3,"ngModelChange","ngModel","inputId"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"card"],[1,"text-center"],[1,"text-success","font-bold","text-xl","mb-3"],["name","check",1,"text-success","fs-3xl"]],template:function(n,i){1&n&&e.DNE(0,At,21,22,"ng-container",0)(1,St,8,3,"ng-container",0),2&n&&(e.Y8G("ngIf",1===i.step),e.R7$(),e.Y8G("ngIf",2===i.step))},dependencies:[p.bT,l.me,l.BC,l.vS,ie,I.D9],encapsulation:2})}return o})();function Mt(o,s){1&o&&(e.j41(0,"span",17),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.CONFIRM_BUTTON")," "))}function Nt(o,s){1&o&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"translate"),e.nrm(3,"span",19),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"COMMON.PLEASE_WAIT")," "))}function kt(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p",5),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",6)(11,"i",7),e.nrm(12,"span",8)(13,"span",9),e.k0s(),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"div",10)(17,"label",11),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"textarea",12),e.nI1(21,"translate"),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.deactivationReason,i)||(a.deactivationReason=i),e.Njj(i)}),e.k0s()(),e.j41(22,"div",13)(23,"button",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.deactivateAccount())}),e.DNE(24,Mt,3,3,"span",15)(25,Nt,4,3,"span",16),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(5),e.SpI(" ",e.bMT(6,9,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.TITLE")," "),e.R7$(3),e.SpI(" ",e.bMT(9,11,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.DESCRIPTION")," "),e.R7$(6),e.SpI(" ",e.bMT(15,13,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.WARNING")," "),e.R7$(4),e.JRh(e.bMT(19,15,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.REASON_LABEL")),e.R7$(2),e.R50("ngModel",t.deactivationReason),e.Y8G("placeholder",e.bMT(21,17,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.REASON_PLACEHOLDER")),e.R7$(3),e.Y8G("disabled",!t.deactivationReason||t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading),e.R7$(),e.Y8G("ngIf",t.isLoading)}}function wt(o,s){1&o&&(e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",20)(4,"div",21),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.nrm(7,"app-keenicon",22),e.k0s()()(),e.bVm()),2&o&&(e.R7$(5),e.SpI(" ",e.bMT(6,1,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.SUCCESS_MESSAGE")," "))}let Ft=(()=>{class o extends C.${deactivateService;getProfileService;ref;deactivationReason="";step=1;roles=[];isLoading=!1;constructor(t,n,i,a){super(t),this.deactivateService=n,this.getProfileService=i,this.ref=a}ngOnInit(){const t=this.getProfileService.getProfile().subscribe({next:n=>{this.roles=n.roles}});this.unsubscribe.push(t)}deactivateInsighter(){this.isLoading=!0;const t=this.deactivateService.deactivateInsighterWithDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0646\u0634\u064a\u0637 \u0648\u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0646\u062c\u0627\u062d":"Account deactivated and data deleted successfully"),this.step=2,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0)},1500)},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(t)}deactivateCompany(){this.isLoading=!0;const t=this.deactivateService.deactivateCompanyWithDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0646\u0634\u064a\u0637 \u0648\u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0646\u062c\u0627\u062d":"Account deactivated and data deleted successfully"),this.step=2,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0)},1500)},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(t)}deactivateAccount(){this.hasRole(["insighter"])?this.deactivateInsighter():this.hasRole(["company"])&&this.deactivateCompany()}hasRole(t){return this.roles.some(n=>t.includes(n))}handleServerErrors(t){if(t.error&&t.error.errors){const n=t.error.errors;for(const i in n)n.hasOwnProperty(i)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",n[i].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(ne),e.rXU(j.p),e.rXU(v.Pw))};static \u0275cmp=e.VBU({type:o,selectors:[["app-delete-dialog"]],features:[e.Vt3],decls:2,vars:2,consts:[[4,"ngIf"],[1,"card","shadow-none","border-0"],[1,"card-body"],[1,"mb-5"],[1,"text-xl","font-bold","mb-3"],[1,"text-gray-600"],[1,"alert","alert-danger","mt-4"],[1,"ki-duotone","ki-warning-2","fs-2","me-2"],[1,"path1"],[1,"path2"],[1,"form-group"],[1,"form-label","required"],["rows","4",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","justify-content-end","mt-5"],["type","button",1,"btn","btn-danger","w-100",3,"click","disabled"],["class","indicator-label",4,"ngIf"],["class","indicator-progress",4,"ngIf"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"text-center"],[1,"text-success","font-bold","text-xl","mb-3"],["name","check",1,"text-success","fs-3xl"]],template:function(n,i){1&n&&e.DNE(0,kt,26,19,"ng-container",0)(1,wt,8,3,"ng-container",0),2&n&&(e.Y8G("ngIf",1===i.step),e.R7$(),e.Y8G("ngIf",2===i.step))},dependencies:[p.bT,l.me,l.BC,l.vS,I.D9],encapsulation:2})}return o})();var Ot=d(152),Pt=d(3294),jt=d(5558),ae=d(6977);let Gt=(()=>{class o{http;translationService;apiUrl="https://api.foresighta.co/api/company/transfer/account/invitation";isLoadingSubject=new R.t(!1);searchInsighterUrl="https://api.foresighta.co/api/insighter/search/insighter";isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t,n){this.http=t,this.translationService=n,this.translationService.onLanguageChange().subscribe(i=>{this.currentLang=i||"en"})}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){return(0,B.$)(t)}sendTransferInvitation(t,n){const i=new _.Lr({Accept:"application/json","Accept-Language":n}),a=new FormData;return a.append("email",t),this.setLoading(!0),this.http.post(this.apiUrl,a,{headers:i}).pipe((0,T.T)(r=>r),(0,N.W)(r=>this.handleError(r)),(0,k.j)(()=>this.setLoading(!1)))}verifyTransferInvitation(t,n,i){const a=new _.Lr({Accept:"application/json","Accept-Language":i}),r=new FormData;return r.append("email",t),r.append("code",n),this.setLoading(!0),this.http.post("https://api.foresighta.co/api/company/transfer/account/verification",r,{headers:a}).pipe((0,T.T)(c=>c),(0,N.W)(c=>this.handleError(c)),(0,k.j)(()=>this.setLoading(!1)))}searchInsighters(t,n="en"){const i=new _.Lr({"Accept-Language":n});return this.http.get(this.searchInsighterUrl,{headers:i,params:{keyword:t}})}static \u0275fac=function(n){return new(n||o)(e.KVO(_.Qq),e.KVO(Z.L))};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Lt(o,s){if(1&o&&e.nrm(0,"img",25),2&o){const t=e.XpG().$implicit;e.Y8G("src",t.profile_image,e.B4B)("alt",t.name)}}function Ut(o,s){if(1&o&&(e.j41(0,"span",26),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit,n=e.XpG(3);e.Y8G("ngClass",t.bgClass),e.R7$(),e.SpI(" ",n.getInitials(t.name)," ")}}function $t(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",16)(1,"div",17)(2,"div",18),e.DNE(3,Lt,1,2,"img",19)(4,Ut,2,2,"span",20),e.k0s(),e.j41(5,"div",21)(6,"div",22),e.EFF(7),e.k0s(),e.j41(8,"div",23),e.EFF(9),e.k0s()()(),e.j41(10,"button",24),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG(3);return e.Njj(a.inviteUser(i))}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()}if(2&o){const t=s.$implicit;e.R7$(3),e.Y8G("ngIf",t.profile_image),e.R7$(),e.Y8G("ngIf",!t.profile_image),e.R7$(3),e.JRh(t.name),e.R7$(2),e.JRh(t.email),e.R7$(2),e.SpI(" ",e.bMT(12,5,"TRANSFER_COMPANY_ACCOUNT.INVITE")," ")}}function Vt(o,s){1&o&&(e.j41(0,"div",27),e.nrm(1,"span",28),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&o&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"COMMON.LOADING")," "))}function Yt(o,s){1&o&&(e.j41(0,"div",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TRANSFER_COMPANY_ACCOUNT.NO_USERS_FOUND")," "))}function Bt(o,s){if(1&o&&(e.qex(0),e.j41(1,"div",13),e.DNE(2,$t,13,7,"div",14)(3,Vt,4,3,"div",15)(4,Yt,3,3,"div",15),e.k0s(),e.bVm()),2&o){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.fetchedUsers),e.R7$(),e.Y8G("ngIf",t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading&&0===t.fetchedUsers.length)}}function Ht(o,s){if(1&o&&(e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",5),e.EFF(8),e.nI1(9,"translate"),e.j41(10,"a",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.EFF(13,". "),e.k0s()(),e.j41(14,"div",7)(15,"span",8)(16,"i",9),e.nrm(17,"span",10)(18,"span",11),e.k0s()(),e.nrm(19,"input",12),e.nI1(20,"translate"),e.k0s(),e.DNE(21,Bt,5,3,"ng-container",0),e.k0s()(),e.bVm()),2&o){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,6,"TRANSFER_COMPANY_ACCOUNT.TRANSFER_TO")),e.R7$(3),e.SpI(" ",e.bMT(9,8,"TRANSFER_COMPANY_ACCOUNT.MORE_INFO_TEXT")," "),e.R7$(3),e.JRh(e.bMT(12,10,"TRANSFER_COMPANY_ACCOUNT.THIS_PAGE")),e.R7$(8),e.Y8G("placeholder",e.bMT(20,12,"COMMON.SEARCH"))("formControl",t.searchControl),e.R7$(2),e.Y8G("ngIf",t.searchControl.value.length>0)}}function Wt(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",23),e.EFF(8),e.nI1(9,"translate"),e.j41(10,"div",29),e.EFF(11),e.k0s()()(),e.j41(12,"div",30)(13,"input",31),e.nI1(14,"translate"),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.code,i)||(a.code=i),e.Njj(i)}),e.k0s(),e.j41(15,"button",32),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.transfer())}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,7,"AUTH.TWO_FA.VERIFY_PHONE")),e.R7$(3),e.SpI(" ",e.bMT(9,9,"AUTH.TWO_FA.ENTER_VERIFICATION_CODE")," "),e.R7$(3),e.JRh(null==t.selectedUser?null:t.selectedUser.email),e.R7$(2),e.R50("ngModel",t.code),e.Y8G("placeholder",e.bMT(14,11,"AUTH.TWO_FA.ENTER_CODE")),e.R7$(2),e.Y8G("disabled",6!==t.code.length),e.R7$(),e.SpI(" ",e.bMT(17,13,"TRANSFER_COMPANY_ACCOUNT.BUTTON_TEXT")," ")}}let Xt=(()=>{class o extends C.${transferCoporateAccountService;ref;step=1;isLoading=!1;fetchedUsers=[];selectedUser=null;searchControl=new l.MJ("");code="";constructor(t,n,i){super(t),this.transferCoporateAccountService=n,this.ref=i}ngOnInit(){this.searchControl.valueChanges.pipe((0,Ot.B)(300),(0,Pt.F)(),(0,jt.n)(t=>""===t.trim()?(0,D.of)([]):(this.isLoading=!0,this.transferCoporateAccountService.searchInsighters(t,this.lang??"en"))),(0,ae.Q)(this.unsubscribe$)).subscribe({next:t=>{const n=Array.isArray(t)?t:t.data||[];this.fetchedUsers=n.map(i=>({...i,bgClass:this.getRandomClass()})),this.isLoading=!1},error:t=>{this.handleServerErrors(t),this.isLoading=!1}})}inviteUser(t){const n=t.email;this.selectedUser=t;const i=this.transferCoporateAccountService.sendTransferInvitation(n,this.lang??"en").subscribe({next:()=>{this.showSuccess("ar"===this.lang?"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062f\u0639\u0648\u0629 \u0628\u0646\u062c\u0627\u062d":"Invitation sent successfully","ar"===this.lang?`\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062f\u0639\u0648\u0629 \u0625\u0644\u0649 ${n} \u0628\u0646\u062c\u0627\u062d`:`Invitation sent to ${n} successfully`),this.step=2},error:a=>this.handleServerErrors(a)});this.unsubscribe.push(i)}transfer(){if(!this.selectedUser)return;const t=this.transferCoporateAccountService.verifyTransferInvitation(this.selectedUser.email,this.code,this.lang??"en").subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0627\u0644\u062a\u062d\u0642\u0642 \u0628\u0646\u062c\u0627\u062d":"Verification successful"),this.ref.close(!0),window.location.reload()},error:n=>this.handleServerErrors(n)});this.unsubscribe.push(t)}getInitials(t){return t.split(" ").map(n=>n[0]).join("")}getRandomClass(){const t=["bg-light-success","bg-light-info","bg-light-primary","bg-light-warning","bg-light-danger","bg-light-secondary","bg-light-dark"];return t[Math.floor(Math.random()*t.length)]}handleServerErrors(t){if(t.error&&t.error.errors){const n=t.error.errors;for(const i in n)n.hasOwnProperty(i)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",n[i].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(Gt),e.rXU(v.Pw))};static \u0275cmp=e.VBU({type:o,selectors:[["app-transfer-dialog"]],features:[e.Vt3],decls:2,vars:2,consts:[[4,"ngIf"],[1,"card"],[1,"card-body"],[1,"text-center","mb-8"],[1,"mb-3"],[1,"text-muted","fw-semibold"],[1,"link-primary","fw-bold"],[1,"input-group","mb-5"],[1,"input-group-text","border-0"],[1,"ki-duotone","ki-magnifier","fs-3"],[1,"path1"],[1,"path2"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"mh-300px","overflow-auto"],["class","d-flex align-items-center justify-content-between p-4 border-bottom",4,"ngFor","ngForOf"],["class","text-center py-4",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-between","p-4","border-bottom"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-35px","symbol-circle"],[3,"src","alt",4,"ngIf"],["class","symbol-label fw-semibold",3,"ngClass",4,"ngIf"],[1,"ms-4"],[1,"fs-5","fw-bold","text-gray-900"],[1,"text-muted"],[1,"btn","btn-sm","btn-light",3,"click"],[3,"src","alt"],[1,"symbol-label","fw-semibold",3,"ngClass"],[1,"text-center","py-4"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fw-bold","mt-2"],[1,"d-flex","flex-column","align-items-center","gap-4"],["type","text","maxlength","6",1,"form-control","form-control-lg","text-center","w-200px",3,"ngModelChange","ngModel","placeholder"],[1,"btn","btn-primary","w-200px",3,"click","disabled"]],template:function(n,i){1&n&&e.DNE(0,Ht,22,14,"ng-container",0)(1,Wt,18,15,"ng-container",0),2&n&&(e.Y8G("ngIf",1===i.step),e.R7$(),e.Y8G("ngIf",2===i.step))},dependencies:[p.YU,p.Sq,p.bT,l.me,l.BC,l.tU,l.vS,l.l_,I.D9],styles:[".card[_ngcontent-%COMP%]{border:none;box-shadow:none}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.symbol[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;position:relative;border-radius:50%;background-color:var(--bs-gray-100)}.symbol-35px[_ngcontent-%COMP%]{width:35px;height:35px}.symbol-label[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:500;color:var(--bs-gray-800);border-radius:50%}.bg-light-success[_ngcontent-%COMP%]{background-color:var(--bs-light-success)}.bg-light-info[_ngcontent-%COMP%]{background-color:var(--bs-light-info)}.bg-light-primary[_ngcontent-%COMP%]{background-color:var(--bs-light-primary)}.bg-light-warning[_ngcontent-%COMP%]{background-color:var(--bs-light-warning)}.bg-light-danger[_ngcontent-%COMP%]{background-color:var(--bs-light-danger)}.bg-light-secondary[_ngcontent-%COMP%]{background-color:var(--bs-light-secondary)}.bg-light-dark[_ngcontent-%COMP%]{background-color:var(--bs-light-dark)}.mh-300px[_ngcontent-%COMP%]{max-height:300px}.w-200px[_ngcontent-%COMP%]{width:200px}.gap-4[_ngcontent-%COMP%]{gap:1rem}"]})}return o})();var se=d(8600);function Zt(o,s){1&o&&(e.j41(0,"span",8),e.EFF(1," Please wait... "),e.nrm(2,"span",9),e.k0s())}function zt(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"h2",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",3),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",4)(9,"button",5),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.reactivateAccount())}),e.j41(10,"span",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,Zt,3,0,"span",7),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,5,"REACTIVATE_ACCOUNT.MODAL.TITLE")),e.R7$(3),e.JRh(e.bMT(7,7,"REACTIVATE_ACCOUNT.MODAL.DESCRIPTION")),e.R7$(3),e.Y8G("disabled",t.isLoading),e.R7$(2),e.SpI(" ",e.bMT(12,9,"REACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON")," "),e.R7$(2),e.Y8G("ngIf",t.isLoading)}}function Jt(o,s){1&o&&(e.qex(0),e.j41(1,"div",10)(2,"div",11),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"app-keenicon",12),e.k0s(),e.bVm()),2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"REACTIVATE_ACCOUNT.MODAL.SUCCESS_MESSAGE")," "))}function Kt(o,s){1&o&&(e.qex(0),e.j41(1,"div",10)(2,"div",13),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"i",14),e.k0s(),e.bVm()),2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"REACTIVATE_ACCOUNT.MODAL.ERROR_MESSAGE")," "))}let qt=(()=>{class o extends C.${userRequestsService;ref;profileService;step=1;successStep=!1;errorStep=!1;isLoading=!1;roles=[];constructor(t,n,i,a){super(t),this.userRequestsService=n,this.ref=i,this.profileService=a}ngOnInit(){this.profileService.getProfile().subscribe(n=>{this.roles=n.roles})}reactivateAccount(){this.isLoading=!0,this.userRequestsService.sendReactivateRequest(this.roles.includes("company")?"company":"insighter").subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0639\u0627\u062f\u0629 \u062a\u0641\u0639\u064a\u0644 \u062d\u0633\u0627\u0628\u0643 \u0628\u0646\u062c\u0627\u062d":"Your account has been successfully reactivated"),this.successStep=!0,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0),window.location.reload()},1500)},error:()=>{this.errorStep=!0,this.isLoading=!1,this.showError("","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0639\u0627\u062f\u0629 \u062a\u0641\u0639\u064a\u0644 \u062d\u0633\u0627\u0628\u0643":"An error occurred while reactivating your account"),setTimeout(()=>{this.ref.close(!1)},1500)}})}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(se.J),e.rXU(v.Pw),e.rXU(j.p))};static \u0275cmp=e.VBU({type:o,selectors:[["app-reactivate-dialog"]],features:[e.Vt3],decls:3,vars:3,consts:[[4,"ngIf"],[1,"text-center","mb-5"],[1,"text-xl","font-bold","mb-2"],[1,"text-gray-600"],[1,"flex","justify-content-center"],["type","button",1,"btn","btn-success","w-100",3,"click","disabled"],[1,"indicator-label"],["class","indicator-progress",4,"ngIf"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"text-center"],[1,"text-success","font-bold","text-xl","mb-3"],["name","check",1,"text-success","fs-3xl"],[1,"text-danger","font-bold","text-xl","mb-3"],[1,"pi","pi-times-circle","text-danger",2,"font-size","3rem"]],template:function(n,i){1&n&&e.DNE(0,zt,14,11,"ng-container",0)(1,Jt,6,3,"ng-container",0)(2,Kt,6,3,"ng-container",0),2&n&&(e.Y8G("ngIf",1===i.step&&!i.successStep&&!i.errorStep),e.R7$(),e.Y8G("ngIf",i.successStep),e.R7$(),e.Y8G("ngIf",i.errorStep))},dependencies:[p.bT,I.D9]})}return o})();function Qt(o,s){if(1&o&&(e.j41(0,"div",6),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ","ar"===t.lang?"\u0627\u0639\u0627\u062f\u0629 \u062a\u0646\u0634\u064a\u0637 \u062d\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629":"Reactivate Company Account"," ")}}function en(o,s){if(1&o&&(e.j41(0,"div",6),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ","ar"===t.lang?"\u0627\u0639\u0627\u062f\u0629 \u062a\u0646\u0634\u064a\u0637 \u062d\u0633\u0627\u0628 \u0627\u0644\u0627\u0646\u0633\u0627\u064a\u062a\u0631":"Reactivate Insighter Account"," ")}}let tn=(()=>{class o extends C.${dialogService;ref;role="company";constructor(t,n){super(n),this.dialogService=t}showReactivateDialog(){this.ref=this.dialogService.open(qt,{header:"Reactivate Account",width:"450px",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,closable:!0}),this.ref.onClose.subscribe(t=>{t&&window.location.reload()})}ngOnDestroy(){this.ref&&this.ref.close()}static \u0275fac=function(n){return new(n||o)(e.rXU(v.o3),e.rXU(e.zZn))};static \u0275cmp=e.VBU({type:o,selectors:[["app-activate-account"]],inputs:{role:"role"},features:[e.Jv_([v.o3]),e.Vt3],decls:11,vars:8,consts:[[1,"delete-section","border-1","border-light-danger","w-100","mb-10"],[1,"p-24px"],["class","fs-2 fw-bolder",4,"ngIf"],[1,"warning-text"],[1,"action-footer","bg-light-success"],[1,"delete-button",3,"click"],[1,"fs-2","fw-bolder"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,Qt,2,1,"div",2)(3,en,2,1,"div",2),e.j41(4,"p",3),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"div",4)(8,"button",5),e.bIt("click",function(){return i.showReactivateDialog()}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()),2&n&&(e.R7$(2),e.Y8G("ngIf","company"===i.role),e.R7$(),e.Y8G("ngIf","insighter"===i.role),e.R7$(2),e.SpI(" ",e.bMT(6,4,"REACTIVATE_ACCOUNT.DESCRIPTION")," "),e.R7$(4),e.SpI(" ",e.bMT(10,6,"REACTIVATE_ACCOUNT.BUTTON_TEXT")," "))},dependencies:[p.bT,I.D9],styles:[".delete-section[_ngcontent-%COMP%]{border-radius:6px}.p-24px[_ngcontent-%COMP%]{padding:24px}.border-light-danger[_ngcontent-%COMP%]{border:1px solid #bdfdc5}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 16px}.warning-text[_ngcontent-%COMP%]{color:#4b5563;margin-bottom:24px;line-height:1.5}.project-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background:#fafafa;border:1px solid #eaeaea;border-radius:6px}.project-icon[_ngcontent-%COMP%]{margin-right:16px}.placeholder-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#eaeaea;border-radius:4px}.project-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:0}.last-updated[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:4px 0 0}.action-footer[_ngcontent-%COMP%]{padding:12px 24px;display:flex;justify-content:flex-end}.delete-button[_ngcontent-%COMP%]{background:#26dc60;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.delete-button[_ngcontent-%COMP%]:hover{background:#1cb91f}"]})}return o})();var nn=d(1413),on=d(3804);const X=(o,s,t,n)=>({"bi bi-eye-slash":o,"bi bi-eye":s,"end-0 pe-3":t,"start-0 ps-3":n});function an(o,s){1&o&&(e.j41(0,"div",11)(1,"div",12),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",13),e.EFF(5,"************"),e.k0s()()),2&o&&(e.R7$(2),e.JRh(e.bMT(3,1,"ACCOUNT_SETTINGS.PASSWORD")))}function sn(o,s){1&o&&(e.j41(0,"div",32),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ACCOUNT_SETTINGS.PASSWORDS_DO_NOT_MATCH")," "))}function rn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",14)(1,"form",15,0),e.bIt("ngSubmit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.changePassword())}),e.j41(3,"div",16)(4,"div",17)(5,"div",18)(6,"label",19),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",20)(10,"input",21),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.oldPassword,i)||(a.oldPassword=i),e.Njj(i)}),e.k0s(),e.j41(11,"i",22),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleOldPasswordVisibility())}),e.k0s()()()(),e.j41(12,"div",17)(13,"div",18)(14,"label",23),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"div",20)(18,"input",24),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.newPassword,i)||(a.newPassword=i),e.Njj(i)}),e.k0s(),e.j41(19,"i",22),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleNewPasswordVisibility())}),e.k0s()()()(),e.j41(20,"div",17)(21,"div",18)(22,"label",25),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",20)(26,"input",26),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.confirmPassword,i)||(a.confirmPassword=i),e.Njj(i)}),e.k0s(),e.j41(27,"i",22),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleConfirmPasswordVisibility())}),e.k0s()()(),e.DNE(28,sn,3,3,"div",27),e.k0s()(),e.j41(29,"div",28),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"div",29)(33,"button",30),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"button",31),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cancelEdit())}),e.EFF(37),e.nI1(38,"translate"),e.k0s()()()()}if(2&o){const t=e.sdS(2),n=e.XpG();e.R7$(7),e.SpI(" ",e.bMT(8,17,"ACCOUNT_SETTINGS.CURRENT_PASSWORD")," "),e.R7$(3),e.Y8G("type",n.showOldPassword()?"text":"password"),e.R50("ngModel",n.oldPassword),e.R7$(),e.Y8G("ngClass",e.ziG(29,X,n.showOldPassword(),!n.showOldPassword(),!n.isRtl(),n.isRtl())),e.R7$(4),e.SpI(" ",e.bMT(16,19,"ACCOUNT_SETTINGS.NEW_PASSWORD")," "),e.R7$(3),e.Y8G("type",n.showNewPassword()?"text":"password"),e.R50("ngModel",n.newPassword),e.R7$(),e.Y8G("ngClass",e.ziG(34,X,n.showNewPassword(),!n.showNewPassword(),!n.isRtl(),n.isRtl())),e.R7$(4),e.SpI(" ",e.bMT(24,21,"ACCOUNT_SETTINGS.CONFIRM_NEW_PASSWORD")," "),e.R7$(3),e.Y8G("type",n.showConfirmPassword()?"text":"password"),e.R50("ngModel",n.confirmPassword),e.R7$(),e.Y8G("ngClass",e.ziG(39,X,n.showConfirmPassword(),!n.showConfirmPassword(),!n.isRtl(),n.isRtl())),e.R7$(),e.Y8G("ngIf",!n.passwordsMatch()&&n.isEditing()),e.R7$(2),e.SpI(" ",e.bMT(31,23,"ACCOUNT_SETTINGS.PASSWORD_RULES")," "),e.R7$(3),e.Y8G("disabled",!n.passwordsMatch()||t.invalid),e.R7$(),e.SpI(" ",e.bMT(35,25,"ACCOUNT_SETTINGS.UPDATE_PASSWORD")," "),e.R7$(3),e.SpI(" ",e.bMT(38,27,"ACCOUNT_SETTINGS.CANCEL")," ")}}function cn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",33)(1,"button",34),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.editPassword())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&o&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"ACCOUNT_SETTINGS.CHANGE_PASSWORD")," "))}let ln=(()=>{class o extends C.${_changepassword;constructor(t,n){super(n),this._changepassword=t}unsub$=new nn.B;_oldPassword=(0,e.vPA)("");_newPassword=(0,e.vPA)("");_confirmPassword=(0,e.vPA)("");showOldPassword=(0,e.vPA)(!1);showNewPassword=(0,e.vPA)(!1);showConfirmPassword=(0,e.vPA)(!1);isRtl(){return"ar"===this.lang}toggleOldPasswordVisibility(){this.showOldPassword.update(t=>!t)}toggleNewPasswordVisibility(){this.showNewPassword.update(t=>!t)}toggleConfirmPasswordVisibility(){this.showConfirmPassword.update(t=>!t)}get oldPassword(){return this._oldPassword()}set oldPassword(t){this._oldPassword.set(t)}get newPassword(){return this._newPassword()}set newPassword(t){this._newPassword.set(t)}get confirmPassword(){return this._confirmPassword()}set confirmPassword(t){this._confirmPassword.set(t)}passwordsMatch=(0,e.EWP)(()=>this._newPassword()===this._confirmPassword());_messages=(0,e.vPA)([]);get messages(){return this._messages()}set messages(t){this._messages.set(t)}isEditing=(0,e.vPA)(!1);handleServerErrors(t){if(t.error&&t.error.errors){const n=t.error.errors;for(const i in n)n.hasOwnProperty(i)&&this.showError("",n[i].join(", "))}else this.showError("","An unexpected error occurred.")}changePassword(){if(!this.passwordsMatch())return void this._messages.set([{severity:"error",summary:"Validation Error",detail:"New Password and Confirm Password do not match."}]);const t={old_password:this._oldPassword(),new_password:this._newPassword(),password_confirmation:this._confirmPassword()};this.isEditing.set(!0),this._changepassword.changePassword(t).pipe((0,ae.Q)(this.unsub$)).subscribe({next:()=>{this.showSuccess("","Changes Successfully"),this.isEditing.set(!1),this.clearForm()},error:n=>{this.handleServerErrors(n),this.isEditing.set(!0)}})}clearForm(){this._oldPassword.set(""),this._newPassword.set(""),this._confirmPassword.set(""),this.showOldPassword.set(!1),this.showNewPassword.set(!1),this.showConfirmPassword.set(!1)}editPassword(){this.isEditing.set(!0)}cancelEdit(){this.isEditing.set(!1),this.clearForm()}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}static \u0275fac=function(n){return new(n||o)(e.rXU(on.F),e.rXU(e.zZn))};static \u0275cmp=e.VBU({type:o,selectors:[["app-reset-password"]],features:[e.Vt3],decls:12,vars:6,consts:[["passwordForm","ngForm"],[1,"card","mb-5","mb-xl-10","shadow-none","border-1","border","border-gray-300","rounded-2"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_signin_method",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bold","m-0"],["id","kt_account_settings_signin_method",1,"collapse","show"],[1,"card-body","border-top","p-9"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","mb-10"],["id","kt_signin_password",4,"ngIf"],["id","kt_signin_password_edit","class","flex-row-fluid",4,"ngIf"],["id","kt_signin_password_button",4,"ngIf"],["id","kt_signin_password"],[1,"fs-6","fw-bold","mb-1"],[1,"fw-semibold","text-gray-600"],["id","kt_signin_password_edit",1,"flex-row-fluid"],[3,"ngSubmit"],[1,"row","mb-1"],[1,"col-lg-4"],[1,"fv-row","mb-0"],["for","currentpassword",1,"form-label","fs-6","fw-bold","mb-3"],[1,"position-relative"],["pInputText","","id","currentpassword","name","currentpassword","required","",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","type","ngModel"],[1,"position-absolute","top-50","translate-middle-y","cursor-pointer",3,"click","ngClass"],["for","newpassword",1,"form-label","fs-6","fw-bold","mb-3"],["pInputText","","id","newpassword","name","newpassword","required","",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","type","ngModel"],["for","confirmpassword",1,"form-label","fs-6","fw-bold","mb-3"],["pInputText","","id","confirmpassword","name","confirmpassword","required","",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","type","ngModel"],["class","text-danger mb-3",4,"ngIf"],[1,"form-text","mb-5"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","me-2","px-6",3,"disabled"],["type","button",1,"btn","btn-color-gray-500","btn-active-light-primary","px-6",3,"click"],[1,"text-danger","mb-3"],["id","kt_signin_password_button"],[1,"btn","btn-light","btn-sm","btn-active-light-primary",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),e.EFF(4),e.nI1(5,"translate"),e.k0s()()(),e.j41(6,"div",5)(7,"div",6)(8,"div",7),e.DNE(9,an,6,3,"div",8)(10,rn,39,44,"div",9)(11,cn,4,3,"div",10),e.k0s()()()()),2&n&&(e.R7$(4),e.JRh(e.bMT(5,4,"ACCOUNT_SETTINGS.CHANGE_PASSWORD")),e.R7$(5),e.Y8G("ngIf",!i.isEditing()),e.R7$(),e.Y8G("ngIf",i.isEditing()),e.R7$(),e.Y8G("ngIf",!i.isEditing()))},dependencies:[p.YU,p.bT,l.qT,l.me,l.BC,l.cb,l.YS,l.vS,l.cV,I.D9]})}return o})();const L=()=>["company"],dn=()=>["insighter"],re=()=>["company-insighter"];function un(o,s){1&o&&e.nrm(0,"app-reset-password")}function pn(o,s){1&o&&e.nrm(0,"app-activate-account",6),2&o&&e.Y8G("role","insighter")}function gn(o,s){if(1&o&&(e.qex(0),e.DNE(1,pn,1,1,"app-activate-account",2),e.bVm()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.isPrimaryKey)}}function mn(o,s){if(1&o&&e.nrm(0,"app-activate-account",6),2&o){const t=e.XpG();e.Y8G("role",t.hasRole(e.lJ4(1,L))||t.hasRole(e.lJ4(2,re))?"company":"insighter")}}function hn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",0)(4,"div",10),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"span",11),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()(),e.j41(10,"div",12)(11,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showTransferDialog())}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}2&o&&(e.R7$(5),e.SpI(" ",e.bMT(6,3,"TRANSFER_COMPANY_ACCOUNT.TITLE")," "),e.R7$(3),e.SpI(" ",e.bMT(9,5,"TRANSFER_COMPANY_ACCOUNT.DESCRIPTION")," "),e.R7$(4),e.SpI(" ",e.bMT(13,7,"TRANSFER_COMPANY_ACCOUNT.BUTTON_TEXT")," "))}function fn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",14)(1,"div",0)(2,"div",10),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"p",15),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",16)(8,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showDeactivateDialog())}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()}2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,3,"DEACTIVATE_ACCOUNT.TITLE_INSIGHTER")," "),e.R7$(2),e.Y8G("innerHTML",e.bMT(6,5,"DEACTIVATE_ACCOUNT.DESCRIPTION"),e.npT),e.R7$(4),e.SpI(" ",e.bMT(10,7,"DEACTIVATE_ACCOUNT.BUTTON_TEXT_INSIGHTER")," "))}function _n(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",14)(1,"div",0)(2,"div",10),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"p",15),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",16)(8,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showDeactivateDialog("user"))}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()}2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,3,"DEACTIVATE_ACCOUNT.TITLE_ACCOUNT")," "),e.R7$(2),e.Y8G("innerHTML",e.bMT(6,5,"DEACTIVATE_ACCOUNT.DESCRIPTION_USER_ONLY"),e.npT),e.R7$(4),e.SpI(" ",e.bMT(10,7,"DEACTIVATE_ACCOUNT.TITLE_ACCOUNT")," "))}function bn(o,s){if(1&o){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.showDeleteDialog())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT_WITH_DELETE.BUTTON_TEXT")," "))}function vn(o,s){1&o&&(e.j41(0,"div",21),e.nrm(1,"i",22),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&o&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"DEACTIVATE_ACCOUNT_WITH_DELETE.PENDING_REQUEST")," "))}function Tn(o,s){if(1&o&&(e.j41(0,"div",18)(1,"div",0)(2,"div",10),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"p",15),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",16),e.DNE(8,bn,3,3,"button",19)(9,vn,4,3,"div",20),e.k0s()()),2&o){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,4,"DEACTIVATE_ACCOUNT_WITH_DELETE.TITLE")),e.R7$(2),e.Y8G("innerHTML",e.bMT(6,6,"DEACTIVATE_ACCOUNT_WITH_DELETE.DESCRIPTION"),e.npT),e.R7$(3),e.Y8G("ngIf",!t.hasPendingDeactivationRequest),e.R7$(),e.Y8G("ngIf",t.hasPendingDeactivationRequest)}}let Cn=(()=>{class o extends C.${getProfileService;dialogService;userRequestsService;cdr;profile;roles;isActive=!0;isPrimaryKey=!1;ref;hasPendingDeactivationRequest=!1;constructor(t,n,i,a,r){super(t),this.getProfileService=n,this.dialogService=i,this.userRequestsService=a,this.cdr=r}ngOnInit(){this.getProfile(),this.checkPendingRequests()}getProfile(){const t=this.getProfileService.getProfile().subscribe(n=>{switch(this.profile=n,this.roles=n.roles,!0){case this.hasRole(["insighter"]):this.isActive="active"===n.insighter_status,this.isPrimaryKey=!0;break;case this.hasRole(["company"]):this.isActive="active"===n.company?.status,this.isPrimaryKey=!!n.company?.primary_activate_at;break;default:this.isActive=!1}this.cdr.detectChanges()});this.unsubscribe.push(t)}checkPendingRequests(){if(!this.hasRole(["insighter"]))return void console.log("User is not an insighter, skipping deactivation request check");const t=this.userRequestsService.getAllUserRequests(this.lang).subscribe({next:n=>{if(console.log("All user requests:",n),!n||0===n.length)return console.log("No requests returned from API"),this.hasPendingDeactivationRequest=!1,void this.cdr.detectChanges();this.hasPendingDeactivationRequest=n.some(i=>{const a=(i.type?.key||"").toLowerCase(),r=(i.type?.label||"").toLowerCase(),c=(i.status||"").toLowerCase(),u=(i.requestable_type||"").toLowerCase();console.log("Request data:",{typeKey:a,typeName:r,status:c,requestableType:u});const y=["deactivat","delet","remov","cancel"].some(E=>a.includes(E)||r.includes(E)),A=["insighter","expert","consultant"].some(E=>a.includes(E)||u.includes(E)||r.includes(E)),F=y&&A&&"pending"===c;return F&&console.log("Found pending deactivation request:",i),F}),console.log("Final check result - Has pending deactivation request:",this.hasPendingDeactivationRequest),this.cdr.detectChanges()},error:n=>{console.error("Error fetching user requests:",n),this.cdr.detectChanges()}});this.unsubscribe.push(t)}showTransferDialog(){this.ref=this.dialogService.open(Xt,{header:"ar"===this.lang?"\u0646\u0642\u0644 \u0627\u0644\u062d\u0633\u0627\u0628":"Transfer Account",width:"650px",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,closable:!0}),this.ref.onClose.subscribe(t=>{t&&window.location.reload()})}showDeactivateDialog(t){this.ref=this.dialogService.open(Dt,{width:"650px",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,closable:!0,data:{deactivationType:t,insighter_status:this.profile.insighter_status,company_status:this.profile.company?.status}}),this.ref.onClose.subscribe(n=>{n&&window.location.reload()})}showDeleteDialog(){this.ref=this.dialogService.open(Ft,{width:"650px",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,closable:!0}),this.ref.onClose.subscribe(t=>{t&&window.location.reload()})}hasRole(t){return t.some(n=>this.roles.includes(n))}ngOnDestroy(){this.ref&&this.ref.close()}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(j.p),e.rXU(v.o3),e.rXU(se.J),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:o,selectors:[["app-general-settings"]],features:[e.Jv_([v.o3]),e.Vt3],decls:8,vars:13,consts:[[1,"p-24px"],[4,"ngIf"],[3,"role",4,"ngIf"],["class","mt-5 border border-1 border-gray-300 rounded-2 mb-10 bg-white",4,"ngIf"],["class","delete-section border-1 border-light-danger w-100 mb-10 bg-white",4,"ngIf"],["class","delete-section border-1 border-light-danger w-100 bg-white",4,"ngIf"],[3,"role"],[1,"mt-5","border","border-1","border-gray-300","rounded-2","mb-10","bg-white"],[1,"col-12"],[1,"action-section","border-1","border-light","w-100"],[1,"fs-2","fw-bolder","mb-2"],[1,"text-gray-600","fw-semibold","fs-6","mb-6","d-block"],[1,"action-footer","bg-light"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"delete-section","border-1","border-light-danger","w-100","mb-10","bg-white"],[1,"warning-text",3,"innerHTML"],[1,"action-footer","bg-light-danger"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"delete-section","border-1","border-light-danger","w-100","bg-white"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["class","pending-request",4,"ngIf"],[1,"pending-request"],[1,"bi","bi-hourglass-split","me-2"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.DNE(1,un,1,0,"app-reset-password",1)(2,gn,2,1,"ng-container",1)(3,mn,1,3,"app-activate-account",2)(4,hn,14,9,"div",3)(5,fn,11,9,"div",4)(6,_n,11,9,"div",4)(7,Tn,10,8,"div",5),e.k0s()),2&n&&(e.R7$(),e.Y8G("ngIf",!(null!=i.profile&&i.profile.login_social)),e.R7$(),e.Y8G("ngIf",i.hasRole(e.lJ4(7,L))&&"inactive"===i.profile.insighter_status),e.R7$(),e.Y8G("ngIf",!i.isActive&&i.isPrimaryKey),e.R7$(),e.Y8G("ngIf",i.hasRole(e.lJ4(8,L))&&i.isActive),e.R7$(),e.Y8G("ngIf",i.hasRole(e.lJ4(9,dn))&&i.isActive&&!i.hasRole(e.lJ4(10,L))),e.R7$(),e.Y8G("ngIf",i.hasRole(e.lJ4(11,L))),e.R7$(),e.Y8G("ngIf",!i.hasRole(e.lJ4(12,re))))},dependencies:[p.bT,tn,ln,I.D9],styles:[".delete-section[_ngcontent-%COMP%]{border-radius:6px}.p-24px[_ngcontent-%COMP%]{padding:24px}.border-light-danger[_ngcontent-%COMP%]{border:1px solid #fcdee2}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 16px}.warning-text[_ngcontent-%COMP%]{color:#4b5563;margin-bottom:24px;line-height:1.5}.project-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background:#fafafa;border:1px solid #eaeaea;border-radius:6px}.project-icon[_ngcontent-%COMP%]{margin-right:16px}.placeholder-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#eaeaea;border-radius:4px}.project-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:0}.last-updated[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:4px 0 0}.action-footer[_ngcontent-%COMP%]{padding:12px 24px;display:flex;justify-content:flex-end}.delete-button[_ngcontent-%COMP%]{background:#dc2626;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.delete-button[_ngcontent-%COMP%]:hover{background:#b91c1c}.pending-request[_ngcontent-%COMP%]{display:flex;align-items:center;color:#856404;font-weight:500;padding:8px 16px}.pending-request[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:.5}50%{opacity:1}to{opacity:.5}}.payment-card-illustration[_ngcontent-%COMP%]{max-width:300px;height:auto}@media screen and (max-width: 576px){.payment-card-illustration[_ngcontent-%COMP%]{max-width:200px}}"]})}return o})();var In=d(4077),yn=d(9998),En=d(1579),Rn=d(288);const xn=()=>["insighter"],An=()=>["company"];function Sn(o,s){1&o&&(e.j41(0,"div",17)(1,"div",18)(2,"span",19),e.EFF(3,"Loading..."),e.k0s()()())}function Dn(o,s){if(1&o&&(e.j41(0,"div",3)(1,"div",27)(2,"div",21)(3,"div",29)(4,"label",30),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",35),e.EFF(8),e.k0s()()(),e.j41(9,"div",21)(10,"div",29)(11,"label",30),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"div",35),e.EFF(15),e.k0s()()()()()),2&o){let t,n;const i=e.XpG(3);e.R7$(5),e.SpI("",e.bMT(6,4,"PAYMENT_ACCOUNT.ACCOUNT_NAME"),":"),e.R7$(3),e.JRh(null==(t=i.getManualAccountDetails())?null:t.account_name),e.R7$(4),e.SpI("",e.bMT(13,6,"PAYMENT_ACCOUNT.IBAN"),":"),e.R7$(3),e.JRh(null==(n=i.getManualAccountDetails())?null:n.iban)}}function Mn(o,s){if(1&o&&(e.j41(0,"div",21)(1,"div",29)(2,"label",30),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",35),e.EFF(6),e.nI1(7,"date"),e.k0s()()()),2&o){let t;const n=e.XpG(4);e.R7$(3),e.SpI("",e.bMT(4,2,"PAYMENT_ACCOUNT.DETAILS_SUBMITTED"),":"),e.R7$(3),e.JRh(e.i5U(7,4,null==(t=n.getStripeAccountDetails())?null:t.details_submitted_at,"short"))}}function Nn(o,s){if(1&o&&(e.j41(0,"div",21)(1,"div",29)(2,"label",30),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",35),e.EFF(6),e.nI1(7,"date"),e.k0s()()()),2&o){let t;const n=e.XpG(4);e.R7$(3),e.SpI("",e.bMT(4,2,"PAYMENT_ACCOUNT.CHARGES_ENABLED"),":"),e.R7$(3),e.JRh(e.i5U(7,4,null==(t=n.getStripeAccountDetails())?null:t.charges_enable_at,"short"))}}function kn(o,s){if(1&o&&(e.j41(0,"div",3)(1,"div",27),e.DNE(2,Mn,8,7,"div",36)(3,Nn,8,7,"div",36),e.k0s()()),2&o){let t,n;const i=e.XpG(3);e.R7$(2),e.Y8G("ngIf",null==(t=i.getStripeAccountDetails())?null:t.details_submitted_at),e.R7$(),e.Y8G("ngIf",null==(n=i.getStripeAccountDetails())?null:n.charges_enable_at)}}function wn(o,s){if(1&o&&(e.j41(0,"div")(1,"div",20)(2,"div",21)(3,"div",22)(4,"div",23),e.nrm(5,"i"),e.k0s(),e.j41(6,"div")(7,"div",24),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",25),e.EFF(11),e.k0s()()()(),e.j41(12,"div",21)(13,"div",22)(14,"div",23),e.nrm(15,"i"),e.k0s(),e.j41(16,"div")(17,"div",24),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"div",26),e.EFF(21),e.k0s()()()()(),e.j41(22,"div",27)(23,"div",28)(24,"div",29)(25,"label",30),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"div",31),e.nrm(29,"img",32),e.j41(30,"span",33),e.EFF(31),e.k0s()()()(),e.DNE(32,Dn,16,8,"div",34)(33,kn,4,2,"div",34),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(3),e.HbH("stripe"===t.paymentAccountDetails.type?"bg-light-info":"bg-light-success"),e.R7$(2),e.HbH("stripe"===t.paymentAccountDetails.type?"bi bi-credit-card text-info fs-3":"bi bi-bank text-success fs-3"),e.R7$(3),e.JRh(e.bMT(9,22,"PAYMENT_ACCOUNT.TYPE")),e.R7$(2),e.HbH("stripe"===t.paymentAccountDetails.type?"text-info":"text-success"),e.R7$(),e.SpI(" ","stripe"===t.paymentAccountDetails.type?"Stripe":"Manual"," "),e.R7$(2),e.HbH("active"===t.paymentAccountDetails.status?"bg-light-success":"bg-light-warning"),e.R7$(2),e.HbH("active"===t.paymentAccountDetails.status?"bi bi-check-circle text-success fs-3":"bi bi-clock text-warning fs-3"),e.R7$(3),e.JRh(e.bMT(19,24,"PAYMENT_ACCOUNT.STATUS")),e.R7$(2),e.HbH("active"===t.paymentAccountDetails.status?"text-success":"text-warning"),e.R7$(),e.SpI(" ",t.paymentAccountDetails.status," "),e.R7$(5),e.SpI("",e.bMT(27,26,"PAYMENT_ACCOUNT.COUNTRY"),":"),e.R7$(3),e.Y8G("src",t.getCountryFlagPath(t.paymentAccountDetails.country.name),e.B4B)("alt",t.paymentAccountDetails.country.name),e.R7$(2),e.JRh(t.paymentAccountDetails.country.name),e.R7$(),e.Y8G("ngIf",t.isManualAccount()),e.R7$(),e.Y8G("ngIf",t.isStripeAccount())}}function Fn(o,s){if(1&o&&(e.j41(0,"div",37),e.nrm(1,"i",38),e.j41(2,"div",39)(3,"h4",40),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"span"),e.EFF(7),e.k0s()()()),2&o){const t=e.XpG(2);e.R7$(4),e.JRh(e.bMT(5,2,"PAYMENT_ACCOUNT.ERROR_TITLE")),e.R7$(3),e.JRh(t.paymentAccountError)}}function On(o,s){if(1&o){const t=e.RV6();e.j41(0,"button",41),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.navigateToSetupPayment())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"PAYMENT_ACCOUNT.ADD_DETAILS_BUTTON")," "))}function Pn(o,s){if(1&o){const t=e.RV6();e.j41(0,"button",41),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.navigateToSetupPayment())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"PAYMENT_ACCOUNT.EDIT_BUTTON")," "))}function jn(o,s){if(1&o&&(e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",0)(4,"div",5)(5,"span"),e.EFF(6),e.nI1(7,"translate"),e.nI1(8,"translate"),e.k0s(),e.j41(9,"span",6),e.EFF(10),e.nI1(11,"translate"),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"div",7)(14,"div",8)(15,"div",9),e.nrm(16,"img",10),e.k0s()(),e.j41(17,"div",11),e.DNE(18,Sn,4,0,"div",12)(19,wn,34,28,"div",13)(20,Fn,8,4,"div",14),e.k0s()()()()(),e.j41(21,"div",15),e.DNE(22,On,3,3,"button",16)(23,Pn,3,3,"button",16),e.k0s()()),2&o){const t=e.XpG();e.R7$(6),e.SpI(" ",t.paymentAccountDetails?e.bMT(8,9,"PAYMENT_ACCOUNT.TITLE"):e.bMT(7,7,"PAYMENT_ACCOUNT.ADD_TITLE")," "),e.R7$(4),e.SpI(" ",t.paymentAccountDetails?e.bMT(12,13,"PAYMENT_ACCOUNT.DESCRIPTION"):e.bMT(11,11,"PAYMENT_ACCOUNT.ADD_DESCRIPTION")," "),e.R7$(8),e.Y8G("ngIf",t.paymentAccountLoading),e.R7$(),e.Y8G("ngIf",!t.paymentAccountLoading&&t.paymentAccountDetails),e.R7$(),e.Y8G("ngIf",!t.paymentAccountLoading&&t.paymentAccountError),e.R7$(2),e.Y8G("ngIf",!t.paymentAccountLoading&&!t.paymentAccountDetails),e.R7$(),e.Y8G("ngIf",!t.paymentAccountLoading&&t.paymentAccountDetails)}}const Ln=[{path:"",component:P,children:[{path:"",redirectTo:"general-settings",pathMatch:"full"},{path:"company-account",component:ot,canActivate:[In.R],data:{roles:["insighter"]}},{path:"general-settings",component:Cn},{path:"payment-settings",component:(()=>{class o extends C.${getProfileService;cdr;paymentService;router;profile;roles;isActive=!0;paymentAccountDetails=null;paymentAccountLoading=!1;paymentAccountError=null;constructor(t,n,i,a,r){super(t),this.getProfileService=n,this.cdr=i,this.paymentService=a,this.router=r}ngOnInit(){this.getProfile(),this.loadPaymentAccountDetails()}getProfile(){const t=this.getProfileService.getProfile().subscribe(n=>{switch(this.profile=n,this.roles=n.roles,!0){case this.hasRole(["insighter"]):this.isActive="active"===n.insighter_status;break;case this.hasRole(["company"]):this.isActive="active"===n.company?.status;break;default:this.isActive=!1}this.cdr.detectChanges()});this.unsubscribe.push(t)}loadPaymentAccountDetails(){if(!this.isActive||!this.hasRole(["insighter"])&&!this.hasRole(["company"]))return;this.paymentAccountLoading=!0,this.paymentAccountError=null;const t=this.paymentService.getStripeAccountDetails().subscribe({next:n=>{this.paymentAccountDetails=n.data,this.paymentAccountLoading=!1,this.cdr.detectChanges()},error:n=>{const i=this.paymentService.getManualAccountDetails().subscribe({next:a=>{this.paymentAccountDetails=a.data,this.paymentAccountLoading=!1,this.cdr.detectChanges()},error:a=>{404===n.status&&404===a.status?this.paymentAccountDetails=null:this.paymentAccountError="ar"===this.lang?"\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u062d\u0633\u0627\u0628 \u0627\u0644\u062f\u0641\u0639":"Failed to load payment account details",this.paymentAccountLoading=!1,this.cdr.detectChanges()}});this.unsubscribe.push(i)}});this.unsubscribe.push(t)}isManualAccount(){return"manual"===this.paymentAccountDetails?.type}isStripeAccount(){return"stripe"===this.paymentAccountDetails?.type}getManualAccountDetails(){return this.isManualAccount()?this.paymentAccountDetails:null}getStripeAccountDetails(){return this.isStripeAccount()?this.paymentAccountDetails:null}getCountryFlagPath(t){return t?"assets/media/flags/"+t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,"")+".svg":"assets/media/flags/default.svg"}refreshPaymentAccountDetails(){this.loadPaymentAccountDetails()}navigateToSetupPayment(){this.router.navigate(["/app/setup-payment-info"])}hasRole(t){return t.some(n=>this.roles.includes(n))}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(j.p),e.rXU(e.gRc),e.rXU(Rn.W),e.rXU(O.Ix))};static \u0275cmp=e.VBU({type:o,selectors:[["app-payment-settings"]],features:[e.Vt3],decls:2,vars:3,consts:[[1,"p-24px"],["class","mt-5 border border-1 border-gray-300 rounded-2 mb-10 bg-white",4,"ngIf"],[1,"mt-5","border","border-1","border-gray-300","rounded-2","mb-10","bg-white"],[1,"col-12"],[1,"action-section","border-1","border-light","w-100"],[1,"fs-2","fw-bolder","mb-2","d-flex","flex-column"],[1,"text-gray-600","fw-semibold","fs-6"],[1,"row","align-items-center","mb-4"],[1,"col-md-4"],[1,"text-center"],["src","https://firebasestorage.googleapis.com/v0/b/webartpath.appspot.com/o/eurekxay-videos%2Fcard.png?alt=media&token=19ec10b4-3718-440f-b217-18a3a903dd3b","alt","Payment Card Illustration",1,"payment-card-illustration"],[1,"col-md-8"],["class","text-center p-4",4,"ngIf"],[4,"ngIf"],["class","alert alert-light-danger d-flex align-items-center p-5",4,"ngIf"],[1,"action-footer","bg-light"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],[1,"text-center","p-4"],["role","status",1,"spinner-border","spinner-border-sm","text-info"],[1,"visually-hidden"],[1,"row","mb-3"],[1,"col-md-6"],[1,"d-flex","align-items-center","p-3","rounded"],[1,"me-3"],[1,"fs-7","fw-bold","text-gray-600","mb-1"],[1,"fs-6","fw-bolder"],[1,"fs-6","fw-bolder","text-capitalize"],[1,"row"],[1,"col-md-12"],[1,"mb-3"],[1,"fs-6","fw-bold","text-gray-800"],[1,"d-flex","align-items-center","mt-2","p-2","bg-light","rounded"],[1,"me-2",2,"width","24px","height","18px",3,"src","alt"],[1,"fs-6","fw-semibold","text-gray-700"],["class","col-12",4,"ngIf"],[1,"text-gray-600","mt-1"],["class","col-md-6",4,"ngIf"],[1,"alert","alert-light-danger","d-flex","align-items-center","p-5"],[1,"bi","bi-exclamation-triangle","fs-2hx","text-danger","me-4"],[1,"d-flex","flex-column"],[1,"mb-1","text-danger"],[1,"btn","btn-sm","btn-info",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.DNE(1,jn,24,15,"div",1),e.k0s()),2&n&&(e.R7$(),e.Y8G("ngIf",i.isActive&&(i.hasRole(e.lJ4(1,xn))||i.hasRole(e.lJ4(2,An)))))},dependencies:[p.bT,p.vh,I.D9],styles:[".p-24px[_ngcontent-%COMP%]{padding:24px}.action-footer[_ngcontent-%COMP%]{padding:12px 24px;display:flex;justify-content:flex-end}.payment-card-illustration[_ngcontent-%COMP%]{max-width:300px;height:auto}@media screen and (max-width: 576px){.payment-card-illustration[_ngcontent-%COMP%]{max-width:200px}}.action-section[_ngcontent-%COMP%]{border-radius:6px}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 16px}"]})}return o})()}]}];let Un=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[p.MD,O.iI.forChild(Ln),S.E,l.YN,z.S,l.X1,J.P,v.k_,yn.MB,En.d,q.q4,ut,Q.o,ee.kr,te.R]})}return o})()}}]);