(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[7187],{8918:(O,D,l)=>{"use strict";l.d(D,{q:()=>o});var t=l(4438),b=l(1626),e=l(5098),g=l(4133),I=l(2791),x=l(7112),C=l(177),y=l(4035);let A=(()=>{class s{transform(i){switch(i){case"deactivate_company":case"deactivate_company_with_delete":case"deactivate_insighter":case"deactivate_insighter_with_delete":return"duotune/general/gen047.svg";case"activate_company":case"activate_insighter":return"duotune/arrows/arr086.svg";case"accept_knowledge":return"duotune/files/fil025.svg";case"client_meeting_insighter_approved":case"client_meeting_new":case"insighter_meeting_client_new":case"insighter_meeting_approved":case"client_meeting_insighter_postponed":case"client_meeting_reschedule":case"insighter_meeting_client_reschedule":case"insighter_meeting_reminder":case"client_meeting_reminder":return"duotune/general/gen014.svg";default:return"duotune/general/gen007.svg"}}static \u0275fac=function(d){return new(d||s)};static \u0275pipe=t.EJ8({name:"notificationsIcons",type:s,pure:!0,standalone:!0})}return s})(),k=(()=>{class s{transform(i){switch(i){case"activate_company":return"Activate Company";case"deactivate_company":return"Deactivate Company";case"deactivate_company_with_delete":return"Deactivate Company with Delete";case"activate_insighter":return"Activate Insighter";case"deactivate_insighter":return"Deactivate Insighter";case"deactivate_insighter_with_delete":return"Deactivate Insighter with Delete";case"deactivate_delete_insighter":return"Deactivate Delete Insighter";case"deactivate_delete_company":return"Deactivate Delete Company";case"verified_company":return"Verified Company";case"verified_insighter":return"Verified Insighter";case"accept_knowledge":return"Knowledge Request";case"insighter_meeting_reminder":case"client_meeting_reminder":return"Meeting Reminder";case"question_received":return"Question Received";case"client_meeting_new":case"insighter_meeting_client_new":return"New Meeting Request";case"insighter_meeting_approved":case"client_meeting_insighter_approved":return"Meeting Approved";case"client_meeting_insighter_postponed":return"Meeting Postponed";case"client_meeting_reschedule":case"insighter_meeting_client_reschedule":return"Meeting Rescheduled";default:return i}}static \u0275fac=function(d){return new(d||s)};static \u0275pipe=t.EJ8({name:"notificationsNames",type:s,pure:!0,standalone:!0})}return s})(),P=(()=>{class s{transform(i,d){return"admin"===d?"/admin-dashboard/admin/dashboard/main-dashboard/requests":"requests"===i?"/app/insighter-dashboard/my-requests":"/app/insighter-dashboard/my-dashboard"}static \u0275fac=function(d){return new(d||s)};static \u0275pipe=t.EJ8({name:"notificationsLinks",type:s,pure:!0,standalone:!0})}return s})(),L=(()=>{class s{transform(i){switch(i){case"activate_company":return"success";case"deactivate_company":case"deactivate_company_with_delete":case"deactivate_delete_company":case"deactivate_insighter":case"deactivate_insighter_with_delete":case"deactivate_delete_insighter":return"danger";default:return"info"}}static \u0275fac=function(d){return new(d||s)};static \u0275pipe=t.EJ8({name:"notificationsBg",type:s,pure:!0,standalone:!0})}return s})();var _=l(3955);const p=(s,f)=>({"fw-bolder":s,"fw-light":f}),M=s=>({"fw-bold":s});function B(s,f){1&s&&(t.j41(0,"div",5)(1,"div",6),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&s&&(t.R7$(2),t.JRh(t.bMT(3,1,"NOTIFICATIONS.NO_NEW")))}function S(s,f){if(1&s){const i=t.RV6();t.qex(0),t.j41(1,"a",8),t.nI1(2,"notificationsLinks"),t.bIt("click",function(m){const T=t.eBV(i).$implicit,w=t.XpG(2);return t.Njj(w.onNotificationClick(T,m))}),t.j41(3,"div",9)(4,"div",10)(5,"div",11)(6,"span",12),t.nI1(7,"notificationsBg"),t.nrm(8,"span",13),t.nI1(9,"notificationsIcons"),t.nI1(10,"notificationsBg"),t.k0s()(),t.j41(11,"div",14)(12,"a",15),t.EFF(13),t.nI1(14,"notificationsNames"),t.k0s(),t.j41(15,"div",16),t.EFF(16),t.k0s()()(),t.j41(17,"span",17),t.EFF(18),t.nI1(19,"translate"),t.k0s()()(),t.bVm()}if(2&s){const i=f.$implicit,d=t.XpG(2);t.R7$(),t.Y8G("routerLink","knowledge"===i.type&&i.category?null:t.i5U(2,9,i.type,d.parent)),t.R7$(5),t.Y8G("ngClass","bg-light-"+t.bMT(7,12,i.sub_type)),t.R7$(2),t.Y8G("inlineSVG","./assets/media/icons/"+t.bMT(9,14,i.sub_type))("ngClass","svg-icon-"+t.bMT(10,16,i.sub_type)),t.R7$(4),t.Y8G("ngClass",t.l_i(22,p,!i.read_at,i.read_at)),t.R7$(),t.SpI(" ",t.bMT(14,18,i.sub_type)," "),t.R7$(2),t.Y8G("ngClass",t.eq3(25,M,!i.read_at)),t.R7$(),t.JRh(i.message),t.R7$(2),t.JRh(t.bMT(19,20,"NOTIFICATIONS.VIEW"))}}function R(s,f){if(1&s&&(t.qex(0),t.DNE(1,S,20,27,"ng-container",7),t.bVm()),2&s){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.notifications)}}let o=(()=>{class s extends e.${translationService;router;profileService;http;notifications=[];parent="";notificationClicked=new t.bkB;clickOutside=new t.bkB;alerts=n;logs=a;get unreadNotificationsCount(){return this.notifications.filter(i=>!i.read_at).length}constructor(i,d,m,T,w){super(i),this.translationService=d,this.router=m,this.profileService=T,this.http=w}ngOnInit(){document.addEventListener("click",this.onClickOutside.bind(this))}onClickOutside(i){const d=i.target;d&&!d.closest(".notification-dropdown")&&!d.closest(".notification-toggle")&&this.clickOutside.emit()}markAsRead(i,d){const m=new b.Lr({"Content-Type":"application/json",Accept:"application/json","Accept-Language":this.translationService.getSelectedLanguage()});this.http.put(`https://api.foresighta.co/api/account/notification/read/${i}`,{},{headers:m}).subscribe(()=>{if(this.notifications){const T=this.notifications.find(w=>w.id===i);T&&(T.read_at=(new Date).toISOString(),this.notifications.filter(G=>!G.read_at),this.notificationClicked.emit(i),d&&d())}},T=>{console.error(`Error marking notification ${i} as read:`,T),d&&d()})}ngOnDestroy(){document.removeEventListener("click",this.onClickOutside.bind(this))}onNotificationClick(i,d){d&&d.preventDefault(),this.markAsRead(i.id,()=>{this.handleNotificationNavigation(i)})}handleNotificationNavigation(i){if("knowledge"!==i.type||"accept_knowledge"!==i.sub_type&&"declined"!==i.sub_type)if("knowledge"===i.type&&i.category){const m=`https://knoldg.com/${this.translationService.getSelectedLanguage()||"en"}/knowledge/${i.category}/${i.param||""}?tab=ask`;window.open(m,"_blank")}else"meeting"===i.type&&(console.log("Meeting notification clicked:",i),this.profileService.refreshProfile().subscribe(d=>{console.log("Profile refreshed, user roles:",d.roles);let m=[];if("insighter_meeting_reminder"===i.sub_type||"insighter_meeting_client_new"===i.sub_type||"insighter_meeting_client_approved"===i.sub_type?m=["/app/insighter-dashboard/my-meetings/received"]:i.sub_type.startsWith("client_")?m=["/app/insighter-dashboard/my-meetings/sent"]:i.sub_type.startsWith("insighter_")?m=["/app/insighter-dashboard/my-meetings/received"]:i.sub_type.startsWith("client_meeting_insighter_postponed")?m=["/app/insighter-dashboard/my-meetings/sent"]:i.sub_type.startsWith("insighter_meeting_client_reschedule")?m=["/app/insighter-dashboard/my-meetings/received"]:i.sub_type.startsWith("client_meeting_reschedule")?m=["/app/insighter-dashboard/my-meetings/sent"]:i.sub_type.startsWith("insighter_meeting_reminder")?m=["/app/insighter-dashboard/my-meetings/received"]:i.sub_type.startsWith("client_meeting_reminder")&&(m=["/app/insighter-dashboard/my-meetings/sent"]),m.length>0){const T=this.router.url,w=m.join("/");T.includes(w)||this.router.navigate(m)}}));else this.profileService.getProfile().pipe().subscribe(d=>{d&&d.roles&&d.roles.includes("company-insighter")&&this.router.navigate(["/app/my-knowledge-base/view-my-knowledge/",i.param,"details"])})}static \u0275fac=function(d){return new(d||s)(t.rXU(t.zZn),t.rXU(g.L),t.rXU(I.Ix),t.rXU(x.p),t.rXU(b.Qq))};static \u0275cmp=t.VBU({type:s,selectors:[["app-notifications-inner"]],hostAttrs:[1,"menu","menu-sub","menu-sub-dropdown","menu-column","w-350px","w-lg-375px"],hostVars:2,hostBindings:function(d,m){2&d&&t.AVh("show",!0)},inputs:{notifications:"notifications",parent:"parent"},outputs:{notificationClicked:"notificationClicked",clickOutside:"clickOutside"},features:[t.Vt3],decls:7,vars:7,consts:[[1,"d-flex","flex-column","bgi-no-repeat","rounded-top"],[1,"text-white","fw-bold","px-9","mt-10","mb-6"],[1,"scroll-y","mh-325px","my-5"],["class","text-center py-4",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-4"],[1,"text-gray-500"],[4,"ngFor","ngForOf"],[3,"click","routerLink"],[1,"d-flex","flex-stack","py-4","cursor-pointer","bg-hover-light-info","px-8"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-35px","me-4"],[1,"symbol-label",3,"ngClass"],[1,"svg-icon","fs-3",3,"inlineSVG","ngClass"],[1,"mb-0","me-2"],[1,"fs-6","text-gray-800","text-hover-primary","text-capitalize",3,"ngClass"],[1,"text-gray-500","fs-7",3,"ngClass"],[1,"badge","badge-light-info","fs-8","badge-hover-primary"]],template:function(d,m){1&d&&(t.j41(0,"div",0)(1,"h3",1),t.EFF(2),t.nI1(3,"translate"),t.k0s()(),t.j41(4,"div",2),t.DNE(5,B,4,3,"div",3)(6,R,2,1,"ng-container",4),t.k0s()),2&d&&(t.xc7("background-image","url(./assets/media/misc/menu-header-bg.jpg)"),t.R7$(2),t.SpI(" ",t.bMT(3,5,"NOTIFICATIONS.TITLE")," "),t.R7$(3),t.Y8G("ngIf",0===m.notifications.length),t.R7$(),t.Y8G("ngIf",m.notifications.length>0))},dependencies:[C.YU,C.Sq,C.bT,y.ll,I.Wk,A,k,P,L,_.D9],styles:["[_nghost-%COMP%]{position:absolute;z-index:105;background:#fff;border-radius:.475rem;box-shadow:0 0 50px #523f6926}@media (max-width: 767px){[_nghost-%COMP%]{width:300px!important;max-width:90vw!important}}"]})}return s})();const n=[],a=[]},440:(O,D,l)=>{"use strict";l.d(D,{g:()=>A});var t=l(177),b=l(2791),e=l(4035),g=l(4133),I=l(4187),x=l(9417),C=l(8646),y=l(4438);let A=(()=>{class k{static \u0275fac=function(_){return new(_||k)};static \u0275mod=y.$C({type:k});static \u0275inj=y.G2t({imports:[t.MD,x.YN,e.e1,b.iI,g.E,I.n8,C.G]})}return k})()},8646:(O,D,l)=>{"use strict";l.d(D,{G:()=>e});var t=l(177),b=l(4438);let e=(()=>{class g{static \u0275fac=function(C){return new(C||g)};static \u0275mod=b.$C({type:g});static \u0275inj=b.G2t({imports:[t.MD]})}return g})()},4367:(O,D,l)=>{"use strict";l.d(D,{uR:()=>t.u});var t=l(176)},77:function(O,D){var l,t,b;!function(e,g){"use strict";"object"==typeof O.exports?O.exports=g():(t=[],void 0!==(b="function"==typeof(l=g)?l.apply(D,t):l)&&(O.exports=b))}(0,function(){"use strict";var e=Object.prototype.toString;function g(_,p){return null!=_&&Object.prototype.hasOwnProperty.call(_,p)}function I(_){if(!_||y(_)&&0===_.length)return!0;if("string"!=typeof _){for(var p in _)if(g(_,p))return!1;return!0}return!1}function x(_){return e.call(_)}var y=Array.isArray||function(_){return"[object Array]"===e.call(_)};function k(_){var p=parseInt(_);return p.toString()===_?p:_}function P(_){var M,S,p=function(o){return Object.keys(p).reduce(function(n,a){return"create"===a||"function"==typeof p[a]&&(n[a]=p[a].bind(p,o)),n},{})};function B(o,n){if(M(o,n))return o[n]}function R(o,n,a,s){if("number"==typeof n&&(n=[n]),!n||0===n.length)return o;if("string"==typeof n)return R(o,n.split(".").map(k),a,s);var f=n[0],i=S(o,f);return 1===n.length?((void 0===i||!s)&&(o[f]=a),i):(void 0===i&&(o[f]="number"==typeof n[1]?[]:{}),R(o[f],n.slice(1),a,s))}return M=(_=_||{}).includeInheritedProps?function(){return!0}:function(o,n){return"number"==typeof n&&Array.isArray(o)||g(o,n)},S=_.includeInheritedProps?function(o,n){"string"!=typeof n&&"number"!=typeof n&&(n=String(n));var a=B(o,n);if("__proto__"===n||"prototype"===n||"constructor"===n&&"function"==typeof a)throw new Error("For security reasons, object's magic properties cannot be set");return a}:function(o,n){return B(o,n)},p.has=function(o,n){if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!!o;for(var a=0;a<n.length;a++){var s=k(n[a]);if(!("number"==typeof s&&y(o)&&s<o.length||(_.includeInheritedProps?s in Object(o):g(o,s))))return!1;o=o[s]}return!0},p.ensureExists=function(o,n,a){return R(o,n,a,!0)},p.set=function(o,n,a,s){return R(o,n,a,s)},p.insert=function(o,n,a,s){var f=p.get(o,n);s=~~s,y(f)||p.set(o,n,f=[]),f.splice(s,0,a)},p.empty=function(o,n){var a,s;if(!I(n)&&null!=o&&(a=p.get(o,n))){if("string"==typeof a)return p.set(o,n,"");if(function A(_){return"boolean"==typeof _||"[object Boolean]"===x(_)}(a))return p.set(o,n,!1);if("number"==typeof a)return p.set(o,n,0);if(y(a))a.length=0;else{if(!function C(_){return"object"==typeof _&&"[object Object]"===x(_)}(a))return p.set(o,n,null);for(s in a)M(a,s)&&delete a[s]}}},p.push=function(o,n){var a=p.get(o,n);y(a)||p.set(o,n,a=[]),a.push.apply(a,Array.prototype.slice.call(arguments,2))},p.coalesce=function(o,n,a){for(var s,f=0,i=n.length;f<i;f++)if(void 0!==(s=p.get(o,n[f])))return s;return a},p.get=function(o,n,a){if("number"==typeof n&&(n=[n]),!n||0===n.length)return o;if(null==o)return a;if("string"==typeof n)return p.get(o,n.split("."),a);var s=k(n[0]),f=S(o,s);return void 0===f?a:1===n.length?f:p.get(o[s],n.slice(1),a)},p.del=function(n,a){if("number"==typeof a&&(a=[a]),null==n||I(a))return n;if("string"==typeof a)return p.del(n,a.split("."));var s=k(a[0]);return S(n,s),M(n,s)?1!==a.length?p.del(n[s],a.slice(1)):(y(n)?n.splice(s,1):delete n[s],n):n},p}var L=P();return L.create=P,L.withInheritedProps=P({includeInheritedProps:!0}),L})},5875:(O,D,l)=>{"use strict";l.d(D,{B:()=>w,n:()=>G});var t=l(9969),b=l(177),e=l(4438),g=l(5779),I=l(1455),x=l(1512),C=l(563),y=l(4420);const A=["*"],k=(c,E,r,u,h,v)=>({"p-sidebar":!0,"p-sidebar-active":c,"p-sidebar-left":E,"p-sidebar-right":r,"p-sidebar-top":u,"p-sidebar-bottom":h,"p-sidebar-full":v}),P=(c,E)=>({transform:c,transition:E}),L=c=>({value:"visible",params:c});function _(c,E){1&c&&e.eu8(0)}function p(c,E){if(1&c&&(e.qex(0),e.DNE(1,_,1,0,"ng-container",5),e.bVm()),2&c){const r=e.XpG(2);e.R7$(),e.Y8G("ngTemplateOutlet",r.headlessTemplate)}}function M(c,E){1&c&&e.eu8(0)}function B(c,E){1&c&&e.nrm(0,"TimesIcon",13),2&c&&(e.Y8G("styleClass","p-sidebar-close-icon"),e.BMQ("data-pc-section","closeicon"))}function S(c,E){}function R(c,E){1&c&&e.DNE(0,S,0,0,"ng-template")}function o(c,E){if(1&c&&(e.j41(0,"span",14),e.DNE(1,R,1,0,null,5),e.k0s()),2&c){const r=e.XpG(4);e.BMQ("data-pc-section","closeicon"),e.R7$(),e.Y8G("ngTemplateOutlet",r.closeIconTemplate)}}function n(c,E){if(1&c){const r=e.RV6();e.j41(0,"button",10),e.bIt("click",function(h){e.eBV(r);const v=e.XpG(3);return e.Njj(v.close(h))})("keydown.enter",function(h){e.eBV(r);const v=e.XpG(3);return e.Njj(v.close(h))}),e.DNE(1,B,1,2,"TimesIcon",11)(2,o,2,2,"span",12),e.k0s()}if(2&c){const r=e.XpG(3);e.BMQ("aria-label",r.ariaCloseLabel)("data-pc-section","closebutton")("data-pc-group-section","iconcontainer"),e.R7$(),e.Y8G("ngIf",!r.closeIconTemplate),e.R7$(),e.Y8G("ngIf",r.closeIconTemplate)}}function a(c,E){1&c&&e.eu8(0)}function s(c,E){1&c&&e.eu8(0)}function f(c,E){if(1&c&&(e.qex(0),e.j41(1,"div",15),e.DNE(2,s,1,0,"ng-container",5),e.k0s(),e.bVm()),2&c){const r=e.XpG(3);e.R7$(),e.BMQ("data-pc-section","footer"),e.R7$(),e.Y8G("ngTemplateOutlet",r.footerTemplate)}}function i(c,E){if(1&c&&(e.j41(0,"div",6),e.DNE(1,M,1,0,"ng-container",5)(2,n,3,5,"button",7),e.k0s(),e.j41(3,"div",8),e.SdG(4),e.DNE(5,a,1,0,"ng-container",5),e.k0s(),e.DNE(6,f,3,2,"ng-container",9)),2&c){const r=e.XpG(2);e.BMQ("data-pc-section","header"),e.R7$(),e.Y8G("ngTemplateOutlet",r.headerTemplate),e.R7$(),e.Y8G("ngIf",r.showCloseIcon),e.R7$(),e.BMQ("data-pc-section","content"),e.R7$(2),e.Y8G("ngTemplateOutlet",r.contentTemplate),e.R7$(),e.Y8G("ngIf",r.footerTemplate)}}function d(c,E){if(1&c){const r=e.RV6();e.j41(0,"div",3,0),e.bIt("@panelState.start",function(h){e.eBV(r);const v=e.XpG();return e.Njj(v.onAnimationStart(h))})("@panelState.done",function(h){e.eBV(r);const v=e.XpG();return e.Njj(v.onAnimationEnd(h))})("keydown",function(h){e.eBV(r);const v=e.XpG();return e.Njj(v.onKeyDown(h))}),e.DNE(2,p,2,1,"ng-container",4)(3,i,7,6,"ng-template",null,1,e.C5r),e.k0s()}if(2&c){const r=e.sdS(4),u=e.XpG();e.HbH(u.styleClass),e.Y8G("ngClass",e.l4e(9,k,u.visible,"left"===u.position&&!u.fullScreen,"right"===u.position&&!u.fullScreen,"top"===u.position&&!u.fullScreen,"bottom"===u.position&&!u.fullScreen,u.fullScreen))("@panelState",e.eq3(19,L,e.l_i(16,P,u.transformOptions,u.transitionOptions)))("ngStyle",u.style),e.BMQ("data-pc-name","sidebar")("data-pc-section","root"),e.R7$(2),e.Y8G("ngIf",u.headlessTemplate)("ngIfElse",r)}}const m=(0,t.lY)([(0,t.iF)({transform:"{{transform}}",opacity:0}),(0,t.i0)("{{transition}}")]),T=(0,t.lY)([(0,t.i0)("{{transition}}",(0,t.iF)({transform:"{{transform}}",opacity:0}))]);let w=(()=>{class c{document;el;renderer;cd;config;appendTo;blockScroll=!1;style;styleClass;ariaCloseLabel;autoZIndex=!0;baseZIndex=0;modal=!0;dismissible=!0;showCloseIcon=!0;closeOnEscape=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(r){this._visible=r}get position(){return this._position}set position(r){switch(this._position=r,r){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(r){this._fullScreen=r,r&&(this.transformOptions="none")}templates;onShow=new e.bkB;onHide=new e.bkB;visibleChange=new e.bkB;initialized;_visible;_position="left";_fullScreen=!1;container;transformOptions="translate3d(-100%, 0px, 0px)";mask;maskClickListener;documentEscapeListener;animationEndListener;contentTemplate;headerTemplate;footerTemplate;closeIconTemplate;headlessTemplate;constructor(r,u,h,v,N){this.document=r,this.el=u,this.renderer=h,this.cd=v,this.config=N}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates?.forEach(r=>{switch(r.getType()){case"content":default:this.contentTemplate=r.template;break;case"header":this.headerTemplate=r.template;break;case"footer":this.footerTemplate=r.template;break;case"closeicon":this.closeIconTemplate=r.template;break;case"headless":this.headlessTemplate=r.template}})}onKeyDown(r){"Escape"===r.code&&this.hide(!1)}show(){this.autoZIndex&&y.Q$.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(r=!0){r&&this.onHide.emit({}),this.modal&&this.disableModality()}close(r){this.hide(!1),this.visibleChange.emit(!1),r.preventDefault()}enableModality(){const r=this.document.querySelectorAll(".p-sidebar-active"),h=String(1==r.length?parseInt(this.container.style.zIndex)-1:parseInt(r[0].style.zIndex)-1);this.mask||(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",h),I.D.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",v=>{this.dismissible&&this.close(v)})),this.renderer.appendChild(this.document.body,this.mask),this.blockScroll&&I.D.blockBodyScroll())}disableModality(){this.mask&&(I.D.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyModal.bind(this)))}destroyModal(){this.unbindMaskClickListener(),this.mask&&this.renderer.removeChild(this.document.body,this.mask),this.blockScroll&&I.D.unblockBodyScroll(),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(r){"visible"===r.toState&&(this.container=r.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(r){"void"===r.toState&&(this.hide(!0),y.Q$.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):I.D.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,"keydown",u=>{27==u.which&&parseInt(this.container.style.zIndex)===y.Q$.get(this.container)&&this.close(u)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.renderer.appendChild(this.el.nativeElement,this.container),this.container&&this.autoZIndex&&y.Q$.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}static \u0275fac=function(u){return new(u||c)(e.rXU(b.qQ),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(g.r1))};static \u0275cmp=e.VBU({type:c,selectors:[["p-sidebar"]],contentQueries:function(u,h,v){if(1&u&&e.wni(v,g.Ei,4),2&u){let N;e.mGM(N=e.lsd())&&(h.templates=N)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:[e.Mj6.HasDecoratorInputTransform,"blockScroll","blockScroll",e.L39],style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:[e.Mj6.HasDecoratorInputTransform,"autoZIndex","autoZIndex",e.L39],baseZIndex:[e.Mj6.HasDecoratorInputTransform,"baseZIndex","baseZIndex",e.Udg],modal:[e.Mj6.HasDecoratorInputTransform,"modal","modal",e.L39],dismissible:[e.Mj6.HasDecoratorInputTransform,"dismissible","dismissible",e.L39],showCloseIcon:[e.Mj6.HasDecoratorInputTransform,"showCloseIcon","showCloseIcon",e.L39],closeOnEscape:[e.Mj6.HasDecoratorInputTransform,"closeOnEscape","closeOnEscape",e.L39],transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},features:[e.GFd],ngContentSelectors:A,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["role","complementary",3,"ngClass","ngStyle","class","keydown",4,"ngIf"],["role","complementary",3,"keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngIf"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-sidebar-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-sidebar-close-icon"],[1,"p-sidebar-footer"]],template:function(u,h){1&u&&(e.NAR(),e.DNE(0,d,5,21,"div",2)),2&u&&e.Y8G("ngIf",h.visible)},dependencies:()=>[b.YU,b.bT,b.T3,b.B3,C.n,x.A],styles:["@layer primeng{.p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto;flex-grow:1}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-footer{margin-top:auto}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;-webkit-transition:none;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}}\n"],encapsulation:2,data:{animation:[(0,t.hZ)("panelState",[(0,t.kY)("void => visible",[(0,t.sM)(m)]),(0,t.kY)("visible => void",[(0,t.sM)(T)])])]},changeDetection:0})}return c})(),G=(()=>{class c{static \u0275fac=function(u){return new(u||c)};static \u0275mod=e.$C({type:c});static \u0275inj=e.G2t({imports:[b.MD,C.Z,g.Gg,x.A,g.Gg]})}return c})()}}]);