"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[6793],{8948:(E,I,c)=>{c.d(I,{C:()=>p});var r=c(1626),t=c(4412),y=c(8810),f=c(6354),v=c(9437),g=c(980),A=c(4438),S=c(779);let p=(()=>{class L{http;translationService;insightaHost="https://api.foresighta.co";accountExistApi=`${this.insightaHost}/api/company/account/exist`;inviteInsighterApi=`${this.insightaHost}/api/company/insighter`;companyOrderKnowledgeStatisticsApi=`${this.insightaHost}/api/company/order/knowledge/statistics`;companyOrderMeetingStatisticsApi=`${this.insightaHost}/api/company/order/meeting/statistics`;dashboardStatisticsApi=`${this.insightaHost}/api/company/insighter/statistics`;isLoadingSubject=new t.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(i,e){this.http=i,this.translationService=e,this.translationService.onLanguageChange().subscribe(a=>{this.currentLang=a||"en"})}setLoading(i){this.isLoadingSubject.next(i)}handleError(i){return(0,y.$)(i)}checkAccountExist(i){const e=new r.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(this.accountExistApi,{email:i},{headers:e}).pipe((0,f.T)(a=>a),(0,v.W)(a=>this.handleError(a)),(0,g.j)(()=>this.setLoading(!1)))}getInsighters(i=1,e=10){const a=new r.Lr({Accept:"application/json","Accept-Language":this.currentLang});let h=(new r.Nl).set("page",i.toString()).set("per_page",e.toString());return this.setLoading(!0),this.http.get(this.inviteInsighterApi,{headers:a,params:h}).pipe((0,f.T)(m=>m),(0,v.W)(m=>this.handleError(m)),(0,g.j)(()=>this.setLoading(!1)))}inviteInsighter(i){const e=new r.Lr({Accept:"application/json","Accept-Language":this.currentLang}),a=new FormData;return a.append("email",i.email),a.append("first_name",i.first_name),a.append("last_name",i.last_name),i.country_id&&a.append("country_id",i.country_id.toString()),i.industries&&i.industries.length>0&&i.industries.forEach(h=>{a.append("industries[]",h)}),i.consulting_field&&i.consulting_field.length>0&&i.consulting_field.forEach(h=>{a.append("consulting_field[]",h)}),this.setLoading(!0),this.http.post(this.inviteInsighterApi,a,{headers:e}).pipe((0,f.T)(h=>h),(0,v.W)(h=>this.handleError(h)),(0,g.j)(()=>this.setLoading(!1)))}activateInsighter(i){const e=new r.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.inviteInsighterApi}/activate/${i}`,{},{headers:e}).pipe((0,f.T)(a=>a),(0,v.W)(a=>this.handleError(a)),(0,g.j)(()=>this.setLoading(!1)))}deactivateInsighter(i){const e=new r.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.inviteInsighterApi}/deactivate/${i}`,{},{headers:e}).pipe((0,f.T)(a=>a),(0,v.W)(a=>this.handleError(a)),(0,g.j)(()=>this.setLoading(!1)))}deleteInsighter(i){const e=new r.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.delete(`${this.inviteInsighterApi}/${i}`,{headers:e}).pipe((0,f.T)(a=>a),(0,v.W)(a=>this.handleError(a)),(0,g.j)(()=>this.setLoading(!1)))}getEmployeeStatusStatistics(){this.setLoading(!0);const i=new r.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.http.get(this.inviteInsighterApi,{headers:i}).pipe((0,f.T)(e=>{const a={active:0,pending:0,inactive:0};return e.data.forEach(h=>{const m=h.insighter_status;m in a&&a[m]++}),{data:[{type:"active",count:a.active},{type:"pending",count:a.pending},{type:"inactive",count:a.inactive}]}}),(0,v.W)(e=>this.handleError(e)),(0,g.j)(()=>this.setLoading(!1)))}getEmployeeKnowledgeStatistics(){this.setLoading(!0);const i=new r.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.http.get(this.inviteInsighterApi,{headers:i}).pipe((0,f.T)(e=>({data:e.data.filter(h=>h.knowledge_type_statistics).map(h=>{const m=h.knowledge_type_statistics||{},j=Object.values(m).reduce((O,B)=>O+("number"==typeof B?B:0),0);return{id:h.id,name:h.name,profile_photo_url:h.profile_photo_url,statistics:{report:m.report||0,data:m.data||0,insight:m.insight||0,manual:m.manual||0,course:m.course||0},totalKnowledge:j}}).sort((h,m)=>m.totalKnowledge-h.totalKnowledge).slice(0,10)})),(0,v.W)(e=>this.handleError(e)),(0,g.j)(()=>this.setLoading(!1)))}getCompanyOrderKnowledgeStatistics(){this.setLoading(!0);const i=new r.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.http.get(this.companyOrderKnowledgeStatisticsApi,{headers:i}).pipe((0,f.T)(e=>{const a=(e?.data?.insighters??[]).map(h=>({uuid:h?.uuid??"",insighter_name:h?.insighter_name??"",total_orders:h?.total_orders??0,total_amount:h?.total_amount??0,insighter_profit:h?.insighter_profit??0}));return{total_orders:e?.data?.total_orders??0,total_amount:e?.data?.total_amount??0,total_company_profit:e?.data?.total_company_profit??0,insighters:a}}),(0,v.W)(e=>this.handleError(e)),(0,g.j)(()=>this.setLoading(!1)))}getCompanyOrderMeetingStatistics(){this.setLoading(!0);const i=new r.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.http.get(this.companyOrderMeetingStatisticsApi,{headers:i}).pipe((0,f.T)(e=>{const a=(e?.data?.insighters??[]).map(h=>({uuid:h?.uuid??"",insighter_name:h?.insighter_name??"",total_orders:h?.total_orders??0,total_amount:h?.total_amount??0,insighter_profit:h?.insighter_profit??0}));return{total_orders:e?.data?.total_orders??0,total_amount:e?.data?.total_amount??0,total_company_profit:e?.data?.total_company_profit??0,insighters:a}}),(0,v.W)(e=>this.handleError(e)),(0,g.j)(()=>this.setLoading(!1)))}getDashboardStatistics(){this.setLoading(!0);const i=new r.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.http.get(this.dashboardStatisticsApi,{headers:i}).pipe((0,f.T)(e=>e.data),(0,v.W)(e=>this.handleError(e)),(0,g.j)(()=>this.setLoading(!1)))}static \u0275fac=function(e){return new(e||L)(A.KVO(r.Qq),A.KVO(S.L))};static \u0275prov=A.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})()},6661:(E,I,c)=>{c.d(I,{Q:()=>M,J:()=>F});var r=c(467),t=c(4438),y=c(177),f=c(6780);let g,v=1;const A={};function S(d){return d in A&&(delete A[d],!0)}const p={setImmediate(d){const o=v++;return A[o]=!0,g||(g=Promise.resolve()),g.then(()=>S(o)&&d()),o},clearImmediate(d){S(d)}},{setImmediate:u,clearImmediate:i}=p,e={setImmediate(...d){const{delegate:o}=e;return(o?.setImmediate||u)(...d)},clearImmediate(d){const{delegate:o}=e;return(o?.clearImmediate||i)(d)},delegate:void 0};var h=c(9687);const j=new class m extends h.q{flush(o){this._active=!0;const s=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let l;o=o||n.shift();do{if(l=o.execute(o.state,o.delay))break}while((o=n[0])&&o.id===s&&n.shift());if(this._active=!1,l){for(;(o=n[0])&&o.id===s&&n.shift();)o.unsubscribe();throw l}}}(class a extends f.R{constructor(o,s){super(o,s),this.scheduler=o,this.work=s}requestAsyncId(o,s,n=0){return null!==n&&n>0?super.requestAsyncId(o,s,n):(o.actions.push(this),o._scheduled||(o._scheduled=e.setImmediate(o.flush.bind(o,void 0))))}recycleAsyncId(o,s,n=0){var l;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(o,s,n);const{actions:_}=o;null!=s&&(null===(l=_[_.length-1])||void 0===l?void 0:l.id)!==s&&(e.clearImmediate(s),o._scheduled===s&&(o._scheduled=void 0))}}),B=["chart"];let M=(()=>{class d{constructor(){this.chart=(0,t.hFB)(),this.annotations=(0,t.hFB)(),this.colors=(0,t.hFB)(),this.dataLabels=(0,t.hFB)(),this.series=(0,t.hFB)(),this.stroke=(0,t.hFB)(),this.labels=(0,t.hFB)(),this.legend=(0,t.hFB)(),this.markers=(0,t.hFB)(),this.noData=(0,t.hFB)(),this.parsing=(0,t.hFB)(),this.fill=(0,t.hFB)(),this.tooltip=(0,t.hFB)(),this.plotOptions=(0,t.hFB)(),this.responsive=(0,t.hFB)(),this.xaxis=(0,t.hFB)(),this.yaxis=(0,t.hFB)(),this.forecastDataPoints=(0,t.hFB)(),this.grid=(0,t.hFB)(),this.states=(0,t.hFB)(),this.title=(0,t.hFB)(),this.subtitle=(0,t.hFB)(),this.theme=(0,t.hFB)(),this.autoUpdateSeries=(0,t.hFB)(!0),this.chartReady=(0,t.CGW)(),this.chartInstance=(0,t.vPA)(null),this.chartElement=t.ebz.required("chart"),this.ngZone=(0,t.WQX)(t.SKi),this.isBrowser=(0,y.UE)((0,t.WQX)(t.Agw))}ngOnChanges(s){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{j.schedule(()=>this.hydrate(s))})}ngOnDestroy(){this.destroy()}hydrate(s){this.autoUpdateSeries()&&0===Object.keys(s).filter(l=>"series"!==l).length?this.updateSeries(this.series(),!0):this.createElement()}createElement(){var s=this;return(0,r.A)(function*(){const{default:n}=yield c.e(4550).then(c.t.bind(c,4550,19));window.ApexCharts||=n;const l={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","parsing","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(w=>{const C=s[w]();C&&(l[w]=C)}),s.destroy();const D=s.ngZone.runOutsideAngular(()=>new n(s.chartElement().nativeElement,l));s.chartInstance.set(D),s.render(),s.chartReady.emit({chartObj:D})})()}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(s,n,l,_){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(s,n,l,_))}updateSeries(s,n){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(s,n))}appendSeries(s,n){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(s,n))}appendData(s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(s))}highlightSeries(s){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(s))}toggleSeries(s){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(s))}showSeries(s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(s))}hideSeries(s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(s))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(s,n){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(s,n))}toggleDataPointSelection(s,n){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(s,n))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(s))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(s,n,l){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(s,n,l))}addYaxisAnnotation(s,n,l){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(s,n,l))}addPointAnnotation(s,n,l){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(s,n,l))}removeAnnotation(s,n){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(s,n))}clearAnnotations(s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(s))}dataURI(s){return this.chartInstance()?.dataURI(s)}static{this.\u0275fac=function(n){return new(n||d)}}static{this.\u0275cmp=t.VBU({type:d,selectors:[["apx-chart"]],viewQuery:function(n,l){1&n&&t.wEZ(l.chartElement,B,5),2&n&&t.NyB()},inputs:{chart:[t.Mj6.SignalBased,"chart"],annotations:[t.Mj6.SignalBased,"annotations"],colors:[t.Mj6.SignalBased,"colors"],dataLabels:[t.Mj6.SignalBased,"dataLabels"],series:[t.Mj6.SignalBased,"series"],stroke:[t.Mj6.SignalBased,"stroke"],labels:[t.Mj6.SignalBased,"labels"],legend:[t.Mj6.SignalBased,"legend"],markers:[t.Mj6.SignalBased,"markers"],noData:[t.Mj6.SignalBased,"noData"],parsing:[t.Mj6.SignalBased,"parsing"],fill:[t.Mj6.SignalBased,"fill"],tooltip:[t.Mj6.SignalBased,"tooltip"],plotOptions:[t.Mj6.SignalBased,"plotOptions"],responsive:[t.Mj6.SignalBased,"responsive"],xaxis:[t.Mj6.SignalBased,"xaxis"],yaxis:[t.Mj6.SignalBased,"yaxis"],forecastDataPoints:[t.Mj6.SignalBased,"forecastDataPoints"],grid:[t.Mj6.SignalBased,"grid"],states:[t.Mj6.SignalBased,"states"],title:[t.Mj6.SignalBased,"title"],subtitle:[t.Mj6.SignalBased,"subtitle"],theme:[t.Mj6.SignalBased,"theme"],autoUpdateSeries:[t.Mj6.SignalBased,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:0,consts:[["chart",""]],template:function(n,l){1&n&&t.nrm(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return d})(),F=(()=>{class d{static{this.\u0275fac=function(n){return new(n||d)}}static{this.\u0275mod=t.$C({type:d})}static{this.\u0275inj=t.G2t({})}}return d})()},9820:(E,I,c)=>{c.d(I,{F:()=>S,X:()=>A});var r=c(4438),t=c(177),y=c(9763);y.t1.register(...y.$L);const f=y.t1,v=(p,L)=>({position:"relative",width:p,height:L}),g=(p,L)=>({width:p,height:L});let A=(()=>{class p{platformId;el;zone;type;plugins=[];width;height;responsive=!0;ariaLabel;ariaLabelledBy;get data(){return this._data}set data(u){this._data=u,this.reinit()}get options(){return this._options}set options(u){this._options=u,this.reinit()}onDataSelect=new r.bkB;isBrowser=!1;initialized;_data;_options={};chart;constructor(u,i,e){this.platformId=u,this.el=i,this.zone=e}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(u){if(this.chart){const i=this.chart.getElementsAtEventForMode(u,"nearest",{intersect:!0},!1),e=this.chart.getElementsAtEventForMode(u,"dataset",{intersect:!0},!1);i&&i[0]&&e&&this.onDataSelect.emit({originalEvent:u,element:i[0],dataset:e})}}initChart(){if((0,t.UE)(this.platformId)){let u=this.options||{};u.responsive=this.responsive,u.responsive&&(this.height||this.width)&&(u.maintainAspectRatio=!1),this.zone.runOutsideAngular(()=>{this.chart=new f(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})})}}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}static \u0275fac=function(i){return new(i||p)(r.rXU(r.Agw),r.rXU(r.aKT),r.rXU(r.SKi))};static \u0275cmp=r.VBU({type:p,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:[r.Mj6.HasDecoratorInputTransform,"responsive","responsive",r.L39],ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},features:[r.GFd],decls:2,vars:10,consts:[[3,"ngStyle"],["role","img",3,"click","ngStyle"]],template:function(i,e){1&i&&(r.j41(0,"div",0)(1,"canvas",1),r.bIt("click",function(h){return e.onCanvasClick(h)}),r.k0s()()),2&i&&(r.Y8G("ngStyle",r.l_i(4,v,e.responsive&&!e.width?null:e.width,e.responsive&&!e.height?null:e.height)),r.R7$(),r.Y8G("ngStyle",r.l_i(7,g,e.responsive&&!e.width?null:e.width,e.responsive&&!e.height?null:e.height)),r.BMQ("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy))},dependencies:[t.B3],encapsulation:2,changeDetection:0})}return p})(),S=(()=>{class p{static \u0275fac=function(i){return new(i||p)};static \u0275mod=r.$C({type:p});static \u0275inj=r.G2t({imports:[t.MD]})}return p})()}}]);