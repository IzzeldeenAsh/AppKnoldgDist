"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[591],{2972:(Ft,x,r)=>{r.r(x),r.d(x,{MyDashboardModule:()=>Dt});var d=r(177),g=r(2791),m=r(5098),t=r(4438),u=r(7112),C=r(1413),f=r(6977),v=r(7947),E=r(1400),h=r(3955);const k=()=>["/app/insighter-dashboard/my-meetings/sent"],I=()=>["/app/insighter-register/vertical"];function S(n,a){if(1&n&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.JRh(e)}}function R(n,a){if(1&n&&(t.j41(0,"span",7),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI("$",t.i5U(2,1,e.walletBalance,"1.2-2"),"")}}function D(n,a){1&n&&(t.j41(0,"span",7),t.nrm(1,"i",45),t.k0s())}function F(n,a){1&n&&(t.qSk(),t.j41(0,"svg",56),t.nrm(1,"path",57)(2,"path",58)(3,"path",59)(4,"path",60),t.k0s())}function P(n,a){1&n&&(t.qSk(),t.j41(0,"svg",61),t.nrm(1,"path",62),t.k0s())}function j(n,a){1&n&&(t.qSk(),t.j41(0,"svg",63),t.nrm(1,"path",64)(2,"path",65)(3,"path",66)(4,"path",67),t.k0s())}function L(n,a){1&n&&(t.qSk(),t.j41(0,"svg",63),t.nrm(1,"path",68)(2,"path",69)(3,"path",70)(4,"path",71),t.k0s())}function G(n,a){1&n&&(t.qSk(),t.j41(0,"svg",72),t.nrm(1,"path",73)(2,"path",74),t.k0s())}function $(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",46)(1,"div",47),t.bIt("click",function(){const s=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.redirectToKnowledge(s.type))}),t.j41(2,"div",48),t.DNE(3,F,5,0,"svg",49)(4,P,2,0,"svg",50)(5,j,5,0,"svg",51)(6,L,5,0,"svg",51)(7,G,3,0,"svg",52),t.k0s(),t.j41(8,"div",53)(9,"span",54),t.EFF(10),t.nI1(11,"titlecase"),t.k0s()(),t.nrm(12,"i",55),t.k0s()()}if(2&n){const e=a.$implicit;t.R7$(3),t.Y8G("ngIf","data"===e.type),t.R7$(),t.Y8G("ngIf","insight"===e.type),t.R7$(),t.Y8G("ngIf","report"===e.type),t.R7$(),t.Y8G("ngIf","manual"===e.type),t.R7$(),t.Y8G("ngIf","course"===e.type),t.R7$(3),t.JRh(t.bMT(11,6,e.type))}}let N=(()=>{class n extends m.${sentMeetingsService;walletService;todayMeetingsCount=0;sentMeetings=[];expertsCount=1250;topIndustries=["Technology","Healthcare","Finance","Education","Marketing"];knowledgeLinks=[{name:"Data",type:"data"},{name:"Insight",type:"insight"},{name:"Manual",type:"manual"},{name:"Courses",type:"course"},{name:"Report",type:"report"}];walletBalance=0;isLoadingBalance=!0;destroy$=new C.B;constructor(e,i,s){super(e),this.sentMeetingsService=i,this.walletService=s}ngOnInit(){this.loadTodayMeetings(),this.loadWalletBalance()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadTodayMeetings(){this.sentMeetingsService.getSentMeetings(1,30).pipe((0,f.Q)(this.destroy$)).subscribe({next:e=>{this.sentMeetings=e.data;const i=(new Date).toISOString().split("T")[0];this.todayMeetingsCount=this.sentMeetings.filter(s=>s.date===i).length},error:e=>{console.error("Error loading sent meetings:",e),this.todayMeetingsCount=0}})}redirectToExperts(){window.open("https://foresighta.co/en/home?search_type=insighter&accuracy=any","_blank")}redirectToKnowledge(e){window.open(`https://foresighta.co/en/home?search_type=knowledge&type=${e}`,"_blank")}loadWalletBalance(){this.walletService.getBalance().pipe((0,f.Q)(this.destroy$)).subscribe({next:e=>{this.walletBalance=e,this.isLoadingBalance=!1},error:e=>{console.error("Error loading wallet balance:",e),this.walletBalance=0,this.isLoadingBalance=!1}})}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(v.q),t.rXU(E.F))};static \u0275cmp=t.VBU({type:n,selectors:[["app-client-my-dashboard"]],features:[t.Vt3],decls:78,vars:45,consts:[[1,"row","g-5","gx-xl-10","mb-5","mb-xl-10"],[1,"col-md-6","col-lg-6","col-xl-6","col-xxl-3","mb-md-5","mb-xl-10"],[1,"cursor-pointer","card","h-md-50","mb-5","mb-xl-10","light-meetning-gradient-bg",3,"routerLink"],[1,"card-body","d-flex","justify-content-between","align-items-start","flex-column"],[1,"m-0"],[1,"ki-outline","ki-calendar-tick","text-gray-700","fs-2tx"],[1,"d-flex","flex-column","my-7"],[1,"fw-semibold","fs-3x","lh-1","ls-n2"],[1,"fw-semibold","fs-6","text-gray-500"],[1,"cursor-pointer","card","card-flush","h-md-50","mb-5","mb-xl-10",2,"background-image","linear-gradient(to bottom right, #fff , #ecf4fd)",3,"click"],[1,"card-header","pt-5"],[1,"card-title","d-flex","flex-column"],[1,"fs-2","fw-bold","text-gray-900","me-2"],[1,"text-gray-500","pt-1","fw-semibold","fs-6"],[1,"card-body","d-flex","flex-column","justify-content-end","pe-0"],[1,"fs-6","fw-bolder","text-gray-800","d-block","mb-2"],[1,"d-flex","flex-wrap","gap-2"],["class","badge badge-light-info fs-8 fw-semibold px-3 py-2",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"text-gray-500","fs-7","fw-semibold","me-2"],[1,"ki-outline","ki-arrow-right","text-info","fs-5"],[1,"card","h-md-50","mb-5","mb-xl-10","light-wallet-gradient-bg"],[1,"d-flex","justify-content-between","align-items-center","w-100","mb-2"],[1,"ki-outline","ki-dollar","text-gray-700","fs-2tx"],[1,"badge","badge-light-warning","fs-8","fw-semibold"],["class","fw-semibold fs-3x lh-1 ls-n2",4,"ngIf"],[1,"mt-auto"],[1,"text-gray-600","fs-7","mb-1"],[1,"card","card-flush","h-lg-50",2,"background-image","linear-gradient(to bottom right, #fff , #ecfdfa)"],[1,"px-6","pt-5","pb-0"],[1,"card-body","pt-5"],[1,"row","g-2"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-xxl-6"],[1,"card","card-flush","h-md-100",2,"background-image","url('./assets/media/auth/bg-dark-line-blue.jpg')","background-size","cover","background-position","center"],[1,"card-body","d-flex","flex-column","justify-content-between","mt-9","bgi-no-repeat","bgi-size-cover","bgi-position-x-center","pb-0",2,"background-position","100% 50%","background-image","url('/metronic8/demo6/assets/media/stock/900x600/42.png')"],[1,"mb-10"],[1,"fs-2hx","fw-bold","text-gray-100","text-center"],[1,"me-2"],[1,"text-center","text-gray-300","fw-semibold","fs-2","px-8"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#kt_modal_create_campaign",1,"btn","btn-info","fw-semibold","px-6","py-3",3,"routerLink"],["src","/metronic8/demo6/assets/media/illustrations/misc/upgrade.svg","alt","",1,"mx-auto","h-150px","h-lg-200px","theme-light-show"],["src","/metronic8/demo6/assets/media/illustrations/misc/upgrade-dark.svg","alt","",1,"mx-auto","h-150px","h-lg-200px","theme-dark-show"],[1,"badge","badge-light-info","fs-8","fw-semibold","px-3","py-2"],[1,"ki-outline","ki-loading","fs-3x","text-gray-500"],[1,"col-6"],[1,"cursor-pointer","d-flex","align-items-center","p-3","rounded","border","border-gray-200","hover-border-primary","transition-all",3,"click"],[1,"d-flex","align-items-center","me-3"],["width","15","height","15","viewBox","0 0 30 34","fill","none","xmlns","http://www.w3.org/2000/svg","class","icon-image me-2",4,"ngIf"],["width","15","height","15","viewBox","0 0 42 42","fill","none","xmlns","http://www.w3.org/2000/svg","class","icon-image me-2",4,"ngIf"],["width","15","height","15","viewBox","0 0 50 50","fill","none","xmlns","http://www.w3.org/2000/svg","class","icon-image me-2",4,"ngIf"],["width","15","height","15","viewBox","0 0 39 36","fill","none","xmlns","http://www.w3.org/2000/svg","class","icon-image me-2",4,"ngIf"],[1,"flex-grow-1"],[1,"text-gray-800","fw-semibold","fs-7"],[1,"ki-outline","ki-arrow-right","text-gray-500","fs-6"],["width","15","height","15","viewBox","0 0 30 34","fill","none","xmlns","http://www.w3.org/2000/svg",1,"icon-image","me-2"],["d","M14.5464 0C10.5851 0 6.86364 0.704566 4.06815 1.98373C1.48292 3.16777 0 4.73376 0 6.28348C0 7.8332 1.48292 9.39967 4.06815 10.5831C6.86364 11.8623 10.585 12.5669 14.5464 12.5669C18.5078 12.5669 22.2297 11.8623 25.0243 10.5831C27.6099 9.39967 29.0933 7.8333 29.0933 6.28348C29.0933 4.73367 27.6099 3.16777 25.0243 1.98373C22.2293 0.704566 18.5077 0 14.5464 0Z","fill","#000000"],["d","M0 9.45442C0.821516 10.3442 1.99713 11.1499 3.49489 11.8359C6.46628 13.1954 10.3914 13.9444 14.5469 13.9444C18.7023 13.9444 22.627 13.1949 25.5984 11.8359C27.0961 11.1499 28.2718 10.3445 29.0933 9.45442V13.4496C29.0933 15.004 27.6131 16.5723 25.0331 17.7531C22.2436 19.029 18.5194 19.7326 14.5464 19.7326C10.5734 19.7326 6.84871 19.029 4.05982 17.7531C1.47967 16.5723 0 15.004 0 13.4496V9.45442Z","fill","#000000"],["d","M29.0933 16.6207C26.6302 19.2908 21.1116 21.1102 14.5464 21.1102C7.98116 21.1102 2.46273 19.2908 0 16.6207V20.1383C0 21.6918 1.47967 23.261 4.05982 24.4417C6.84871 25.7181 10.5734 26.4217 14.5464 26.4217C18.5194 26.4217 22.2436 25.7181 25.0336 24.4417C27.6136 23.261 29.0933 21.6918 29.0933 20.1383V16.6207Z","fill","#000000"],["d","M4.05982 31.608C1.47967 30.4272 0 28.858 0 27.3041V23.3093C2.46273 25.9799 7.98116 27.7994 14.5464 27.7994C21.1116 27.7994 26.6302 25.9799 29.0933 23.3093V27.3041C29.0933 28.858 27.6131 30.4272 25.0331 31.608C22.2436 32.8844 18.5194 33.5875 14.5464 33.5875C10.5734 33.5875 6.84871 32.8844 4.05982 31.608Z","fill","#000000"],["width","15","height","15","viewBox","0 0 42 42","fill","none","xmlns","http://www.w3.org/2000/svg",1,"icon-image","me-2"],["d","M29.5625 0C37.1458 0 41.6663 4.52116 41.6455 12.1045V29.5625C41.6455 37.1457 37.1251 41.6669 29.542 41.667H12.1045C4.52127 41.667 0.00012927 37.146 0 29.542V12.1045C0 4.52116 4.52116 0 12.1045 0H29.5625ZM11.9346 21.46C10.7753 21.4601 9.83305 22.4022 9.83301 23.5615V29.4678C9.83321 30.6269 10.7754 31.5682 11.9346 31.5684C13.112 31.5684 14.0545 30.627 14.0547 29.4678V23.5615C14.0546 22.4021 13.1121 21.46 11.9346 21.46ZM19.96 12.1846C18.7825 12.1847 17.8409 13.1268 17.8408 14.2861V29.4678C17.841 30.6269 18.7827 31.5682 19.96 31.5684C21.1192 31.5684 22.0613 30.627 22.0615 29.4678V14.2861C22.0615 13.1267 21.1194 12.1846 19.96 12.1846ZM27.6689 8.83301C26.4561 8.83301 25.4854 9.93196 25.4854 11.2842V28.9912C25.4855 30.3434 26.4561 31.4424 27.6689 31.4424C28.863 31.4423 29.8329 30.3433 29.833 28.9912V11.2842C29.8329 9.93204 28.8631 8.83313 27.6689 8.83301Z","fill","#891638"],["width","15","height","15","viewBox","0 0 50 50","fill","none","xmlns","http://www.w3.org/2000/svg",1,"icon-image","me-2"],["opacity","0.4","d","M45.125 21.75L43.0833 30.4583C41.3333 37.9792 37.875 41.0208 31.375 40.3958C30.3333 40.3125 29.2083 40.125 28 39.8333L24.5 39C15.8125 36.9375 13.125 32.6458 15.1667 23.9375L17.2083 15.2083C17.625 13.4375 18.125 11.8958 18.75 10.625C21.1875 5.58333 25.3333 4.22916 32.2917 5.875L35.7708 6.6875C44.5 8.72916 47.1667 13.0417 45.125 21.75Z","fill","#699DDE"],["d","M31.375 40.3958C30.0833 41.2708 28.4583 42 26.4792 42.6458L23.1875 43.7292C14.9167 46.3958 10.5625 44.1667 7.87499 35.8958L5.20833 27.6667C2.54166 19.3958 4.74999 15.0208 13.0208 12.3542L16.3125 11.2708C17.1667 11 17.9792 10.7708 18.75 10.625C18.125 11.8958 17.625 13.4375 17.2083 15.2083L15.1667 23.9375C13.125 32.6458 15.8125 36.9375 24.5 39L28 39.8333C29.2083 40.125 30.3333 40.3125 31.375 40.3958Z","fill","#3699FF"],["d","M36.4375 21.8959C36.3125 21.8959 36.1875 21.875 36.0417 21.8542L25.9375 19.2917C25.1042 19.0834 24.6042 18.2292 24.8125 17.3959C25.0208 16.5625 25.875 16.0625 26.7083 16.2709L36.8125 18.8334C37.6458 19.0417 38.1458 19.8959 37.9375 20.7292C37.7708 21.4167 37.125 21.8959 36.4375 21.8959Z","fill","white"],["d","M30.3333 28.9375C30.2083 28.9375 30.0833 28.9167 29.9375 28.8959L23.875 27.3542C23.0417 27.1459 22.5417 26.2917 22.75 25.4584C22.9583 24.625 23.8125 24.125 24.6458 24.3334L30.7083 25.875C31.5417 26.0834 32.0417 26.9375 31.8333 27.7709C31.6667 28.4792 31.0417 28.9375 30.3333 28.9375Z","fill","white"],["d","M42.7083 14.5834V31.25H13.2292C9.95834 31.25 7.29167 33.9167 7.29167 37.1875V14.5834C7.29167 6.25002 9.37501 4.16669 17.7083 4.16669H32.2917C40.625 4.16669 42.7083 6.25002 42.7083 14.5834Z","fill","#FF9F43"],["d","M42.7083 31.25V38.5417C42.7083 42.5625 39.4375 45.8333 35.4167 45.8333H14.5833C10.5625 45.8333 7.29167 42.5625 7.29167 38.5417V37.1875C7.29167 33.9167 9.95834 31.25 13.2292 31.25H42.7083Z","fill","#f8cda3"],["d","M33.3333 16.1458H16.6667C15.8125 16.1458 15.1042 15.4375 15.1042 14.5833C15.1042 13.7291 15.8125 13.0208 16.6667 13.0208H33.3333C34.1875 13.0208 34.8958 13.7291 34.8958 14.5833C34.8958 15.4375 34.1875 16.1458 33.3333 16.1458Z","fill","white"],["d","M27.0833 23.4375H16.6667C15.8125 23.4375 15.1042 22.7292 15.1042 21.875C15.1042 21.0208 15.8125 20.3125 16.6667 20.3125H27.0833C27.9375 20.3125 28.6458 21.0208 28.6458 21.875C28.6458 22.7292 27.9375 23.4375 27.0833 23.4375Z","fill","white"],["width","15","height","15","viewBox","0 0 39 36","fill","none","xmlns","http://www.w3.org/2000/svg",1,"icon-image","me-2"],["d","M31.9898 26.8163C31.9898 24.1788 29.8518 22.0408 27.2143 22.0408C24.5767 22.0408 22.4388 24.1788 22.4388 26.8163C22.4388 28.1696 23.0037 29.3885 23.9081 30.2576V36L27.2143 33.7959L30.5204 36V30.2576C31.4248 29.3885 31.9898 28.1696 31.9898 26.8163Z","fill","#C3D8F2"],["d","M37.1327 0H1.86734C1.05624 0 0.397949 0.657551 0.397949 1.46939V30.8572C0.397949 31.6683 1.05624 32.3265 1.86734 32.3265H20.9694V31.3443C20.0143 30.0372 19.5 28.4694 19.5 26.8163C19.5 22.5625 22.9604 19.102 27.2143 19.102C31.4682 19.102 34.9286 22.5625 34.9286 26.8163C34.9286 28.4701 34.4143 30.038 33.4592 31.345V32.3265H37.1327C37.9438 32.3265 38.6021 31.6683 38.6021 30.8572V1.46939C38.6021 0.657551 37.9438 0 37.1327 0ZM20.9694 13.2245H8.47959V10.2857H20.9694V13.2245ZM30.5204 7.34694H8.47959V4.40816H30.5204V7.34694Z","fill","#0ABB87"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.k0s(),t.j41(6,"div",6)(7,"span",7),t.EFF(8),t.k0s(),t.j41(9,"div",4)(10,"span",8),t.EFF(11),t.nI1(12,"translate"),t.k0s()()()()(),t.j41(13,"div",9),t.bIt("click",function(){return s.redirectToExperts()}),t.j41(14,"div",10)(15,"div",11)(16,"span",12),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"span",13),t.EFF(20),t.nI1(21,"translate"),t.k0s()()(),t.j41(22,"div",14)(23,"span",15),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.j41(26,"div",16),t.DNE(27,S,2,1,"span",17),t.j41(28,"div",18)(29,"span",19),t.EFF(30),t.nI1(31,"translate"),t.k0s(),t.nrm(32,"i",20),t.k0s()()()()(),t.j41(33,"div",1)(34,"div",21)(35,"div",3)(36,"div",22),t.nrm(37,"i",23),t.j41(38,"span",24),t.EFF(39),t.nI1(40,"translate"),t.k0s()(),t.j41(41,"div",6),t.DNE(42,R,3,4,"span",25)(43,D,2,0,"span",25),t.j41(44,"div",4)(45,"span",8),t.EFF(46),t.nI1(47,"translate"),t.k0s()()(),t.j41(48,"div",26)(49,"p",27),t.EFF(50),t.nI1(51,"translate"),t.k0s()()()(),t.j41(52,"div",28)(53,"div",29)(54,"div",12),t.EFF(55),t.nI1(56,"translate"),t.k0s()(),t.j41(57,"div",30)(58,"div",31),t.DNE(59,$,13,8,"div",32),t.k0s()()()(),t.j41(60,"div",33)(61,"div",34)(62,"div",35)(63,"div",36)(64,"div",37)(65,"span",38),t.EFF(66),t.nI1(67,"translate"),t.j41(68,"p",39),t.EFF(69),t.nI1(70,"translate"),t.k0s(),t.nrm(71,"br"),t.k0s()(),t.j41(72,"div",40)(73,"a",41),t.EFF(74),t.nI1(75,"translate"),t.k0s()()(),t.nrm(76,"img",42)(77,"img",43),t.k0s()()()()),2&i&&(t.R7$(2),t.Y8G("routerLink",t.lJ4(43,k)),t.R7$(6),t.JRh(s.todayMeetingsCount),t.R7$(3),t.JRh(t.bMT(12,19,"TODAY_MEETINGS")),t.R7$(6),t.JRh(t.bMT(18,21,"TOP_EXPERTS")),t.R7$(3),t.JRh(t.bMT(21,23,"CHECK_EXPERTS")),t.R7$(4),t.JRh(t.bMT(25,25,"VARIOUS_INDUSTRIES")),t.R7$(3),t.Y8G("ngForOf",s.topIndustries),t.R7$(3),t.JRh(t.bMT(31,27,"HOME.DISCOVER")),t.R7$(9),t.JRh(t.bMT(40,29,"COMING_SOON")),t.R7$(3),t.Y8G("ngIf",!s.isLoadingBalance),t.R7$(),t.Y8G("ngIf",s.isLoadingBalance),t.R7$(3),t.JRh(t.bMT(47,31,"IN_WALLET")),t.R7$(4),t.JRh(t.bMT(51,33,"DEPOSIT_WALLET_DESCRIPTION")),t.R7$(5),t.JRh(t.bMT(56,35,"LATEST_KNOWLEDGE")),t.R7$(4),t.Y8G("ngForOf",s.knowledgeLinks),t.R7$(7),t.SpI(" ",t.bMT(67,37,"BECOME_INSIHGER_HEADER")," "),t.R7$(3),t.SpI(" ",t.bMT(70,39,"BECOME_INSIGHTER_DESCRIPTION")," "),t.R7$(4),t.Y8G("routerLink",t.lJ4(44,I)),t.R7$(),t.SpI(" ",t.bMT(75,41,"START_NOW")," "))},dependencies:[d.Sq,d.bT,g.Wk,d.QX,d.PV,h.D9],styles:[".border-0[_ngcontent-%COMP%]{border:none!important}.transition-arrow[_ngcontent-%COMP%]{transition:transform .3s ease}.card[_ngcontent-%COMP%]:hover   .transition-arrow[_ngcontent-%COMP%]{transform:translate(5px)}.light-meetning-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#ecfdec);color:#0bbc2f!important}.light-wallet-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#eceefd);color:#4f28ed}"]})}return n})();var M=r(8948),y=r(4133),b=r(6661);const Y=["chart"];function B(n,a){1&n&&(t.j41(0,"div",15)(1,"div",16)(2,"span",17),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"COMMON.LOADING")))}function A(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",18),t.nrm(1,"i",19),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",20),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.refresh())}),t.j41(6,"span"),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,2,"EMPLOYEE_KNOWLEDGE.LOAD_ERROR")),t.R7$(4),t.JRh(t.bMT(8,4,"EMPLOYEE_KNOWLEDGE.RETRY")))}function U(n,a){1&n&&(t.j41(0,"div",21),t.nrm(1,"img",22),t.j41(2,"h3",23),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p",24),t.EFF(6),t.nI1(7,"translate"),t.k0s()()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,2,"EMPLOYEE_KNOWLEDGE.NO_DATA_TITLE")),t.R7$(3),t.JRh(t.bMT(7,4,"EMPLOYEE_KNOWLEDGE.NO_DATA_DESCRIPTION")))}function V(n,a){if(1&n&&(t.j41(0,"div")(1,"div",25),t.nrm(2,"apx-chart",26),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("series",e.barChartOptions.series)("chart",e.barChartOptions.chart)("dataLabels",e.barChartOptions.dataLabels)("plotOptions",e.barChartOptions.plotOptions)("xaxis",e.barChartOptions.xaxis)("yaxis",e.barChartOptions.yaxis)("stroke",e.barChartOptions.stroke)("fill",e.barChartOptions.fill)("tooltip",e.barChartOptions.tooltip)("colors",e.barChartOptions.colors)("grid",e.barChartOptions.grid)("legend",e.barChartOptions.legend)}}function K(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"span",5),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"div",6)(11,"button",7),t.nI1(12,"translate"),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.refresh())}),t.j41(13,"i",8),t.nrm(14,"span",9)(15,"span",10),t.k0s()()()(),t.j41(16,"div",11),t.DNE(17,B,5,3,"div",12)(18,A,9,6,"div",13)(19,U,8,6,"div",14)(20,V,3,12,"div",0),t.k0s()(),t.bVm()}if(2&n){const e=t.XpG();t.R7$(5),t.JRh(t.bMT(6,8,"EMPLOYEE_KNOWLEDGE.TITLE")),t.R7$(3),t.JRh(t.bMT(9,10,"EMPLOYEE_KNOWLEDGE.SUBTITLE")),t.R7$(3),t.FS9("title",t.bMT(12,12,"EMPLOYEE_KNOWLEDGE.REFRESH")),t.Y8G("disabled",e.loading),t.R7$(6),t.Y8G("ngIf",e.loading),t.R7$(),t.Y8G("ngIf",e.error&&!e.loading),t.R7$(),t.Y8G("ngIf",!(e.loading||e.error||e.employees&&0!==e.employees.length)),t.R7$(),t.Y8G("ngIf",!e.loading&&!e.error)}}let z=(()=>{class n{companyAccountService;translationService;chart;hasMultipleEmployees=new t.bkB;barChartOptions={series:[],chart:{type:"bar",height:400,fontFamily:"Poppins, sans-serif",stacked:!0,toolbar:{show:!1},animations:{enabled:!0,speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",sparkline:{enabled:!1}},colors:["#0095E8","#1E90FF","#0070C0","#4682B4","#104E8B","#000080","#0047AB"],plotOptions:{bar:{horizontal:!1,columnWidth:"30px",borderRadius:6,distributed:!1,dataLabels:{position:"top"}}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"],curve:"smooth"},xaxis:{categories:[],labels:{style:{fontSize:"12px",fontWeight:500,colors:"#555555"},rotate:-45,hideOverlappingLabels:!0,trim:!0,maxHeight:120},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{title:{text:""},labels:{style:{fontSize:"12px",fontWeight:500,colors:"#555555"}}},tooltip:{y:{formatter:function(e){return e+" items"}},shared:!0,intersect:!1,style:{fontSize:"12px",fontFamily:"Poppins, sans-serif"},theme:"light",marker:{show:!0},fixed:{enabled:!0,position:"topRight",offsetX:0,offsetY:0}},fill:{opacity:.9,type:"solid"},legend:{position:"bottom",horizontalAlign:"center",fontSize:"11px",fontWeight:500,markers:{},itemMargin:{horizontal:8,vertical:5}},grid:{show:!0,borderColor:"#f1f1f1",strokeDashArray:3,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},padding:{top:0,right:0,bottom:10,left:10}},states:{normal:{filter:{type:"none"}},hover:{filter:{type:"lighten",value:.05}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.1}}}};employees=[];loading=!1;error=!1;constructor(e,i){this.companyAccountService=e,this.translationService=i}ngOnInit(){this.loadStatistics(),this.updateChartTranslations(),this.translationService.onLanguageChange().subscribe(()=>{this.updateChartTranslations(),this.employees.length>0&&this.initChart()})}updateChartTranslations(){this.barChartOptions={...this.barChartOptions,xaxis:{...this.barChartOptions.xaxis,title:{text:this.translationService.getTranslation("EMPLOYEE_KNOWLEDGE.EMPLOYEES")}},tooltip:{...this.barChartOptions.tooltip,y:{...this.barChartOptions.tooltip?.y,formatter:e=>e+" "+this.translationService.getTranslation("EMPLOYEE_KNOWLEDGE.ITEMS")}}}}loadStatistics(){this.loading=!0,this.error=!1,this.companyAccountService.getEmployeeKnowledgeStatistics().subscribe(e=>{this.employees=e.data,this.loading=!1,this.error=!1;const i=this.employees.length>1;this.hasMultipleEmployees.emit(i),i&&this.initChart()},e=>{console.error("Error loading employee knowledge statistics",e),this.error=!0,this.loading=!1})}getTotalCount(){return this.employees&&0!==this.employees.length?this.employees.reduce((e,i)=>e+i.totalKnowledge,0):0}initChart(){if(!this.employees||0===this.employees.length)return;const e=this.employees.map(c=>c.statistics.report),i=this.employees.map(c=>c.statistics.data),s=this.employees.map(c=>c.statistics.insight),o=this.employees.map(c=>c.statistics.manual),l=this.employees.map(c=>c.statistics.course),p=this.employees.map(c=>c.name);this.barChartOptions={...this.barChartOptions,series:[{name:this.translationService.getTranslation("KNOWLEDGE_TYPES.REPORT"),data:e},{name:this.translationService.getTranslation("KNOWLEDGE_TYPES.DATA"),data:i},{name:this.translationService.getTranslation("KNOWLEDGE_TYPES.INSIGHT"),data:s},{name:this.translationService.getTranslation("KNOWLEDGE_TYPES.MANUAL"),data:o},{name:this.translationService.getTranslation("KNOWLEDGE_TYPES.COURSE"),data:l}],xaxis:{...this.barChartOptions.xaxis,categories:p}}}refresh(){this.loadStatistics()}static \u0275fac=function(i){return new(i||n)(t.rXU(M.C),t.rXU(y.L))};static \u0275cmp=t.VBU({type:n,selectors:[["app-employee-knowledge-statistics"]],viewQuery:function(i,s){if(1&i&&t.GBs(Y,5),2&i){let o;t.mGM(o=t.lsd())&&(s.chart=o.first)}},outputs:{hasMultipleEmployees:"hasMultipleEmployees"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"card","card-flush","h-md-100","mb-5","mb-xl-10"],[1,"card-header","pt-5"],[1,"card-title","d-flex","flex-column"],[1,"fs-1","fw-bold","text-gray-800"],[1,"text-gray-500","pt-1","fw-semibold","fs-4"],[1,"card-toolbar"],["type","button",1,"btn","btn-sm","btn-icon","btn-color-primary","btn-active-light-primary",3,"click","disabled","title"],[1,"ki-duotone","ki-arrows-circle","fs-2"],[1,"path1"],[1,"path2"],[1,"card-body","pt-0"],["class","d-flex justify-content-center align-items-center","style","height: 320px;",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","text-center py-10",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"height","320px"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn","btn-sm","btn-danger","ms-2",3,"click"],[1,"text-center","py-10"],["src","./assets/media/illustrations/sigma-1/4.png","alt","No data",1,"mw-200px","mb-5"],[1,"fs-4","fw-bold","mb-2"],[1,"text-gray-600","fs-6"],["id","barChart"],[3,"series","chart","dataLabels","plotOptions","xaxis","yaxis","stroke","fill","tooltip","colors","grid","legend"]],template:function(i,s){1&i&&t.DNE(0,K,21,14,"ng-container",0),2&i&&t.Y8G("ngIf",s.employees&&s.employees.length>1)},dependencies:[d.bT,b.Q,h.D9],styles:["#barChart[_ngcontent-%COMP%]{width:100%;min-height:300px;margin:0 auto;border-radius:8px;overflow:hidden}.apexcharts-legend[_ngcontent-%COMP%]{margin-top:10px!important;padding:5px 0!important}.apexcharts-tooltip[_ngcontent-%COMP%]{box-shadow:0 8px 16px #0000001a!important;border:none!important;z-index:9999!important}[_nghost-%COMP%]     .apexcharts-tooltip{z-index:9999!important;position:absolute!important}[_nghost-%COMP%]     .apexcharts-tooltip-series-group{z-index:9999!important}.apexcharts-bar-series[_ngcontent-%COMP%]   .apexcharts-bar[_ngcontent-%COMP%]{transition:all .3s ease}.apexcharts-gridline[_ngcontent-%COMP%]{stroke-dasharray:3;opacity:.5}"]})}return n})();const W=["chart"];function X(n,a){1&n&&(t.j41(0,"div",9)(1,"div",10)(2,"span",11),t.EFF(3,"Loading..."),t.k0s()()())}function J(n,a){1&n&&(t.j41(0,"div",9)(1,"div",12),t.nrm(2,"i",13),t.EFF(3," Error loading statistics "),t.k0s()())}function H(n,a){if(1&n&&(t.j41(0,"div",14),t.nrm(1,"apx-chart",15,0),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("series",e.chartOptions.series)("chart",e.chartOptions.chart)("dataLabels",e.chartOptions.dataLabels)("plotOptions",e.chartOptions.plotOptions)("legend",e.chartOptions.legend)("responsive",e.chartOptions.responsive)("labels",e.chartOptions.labels)("colors",e.chartOptions.colors)}}function q(n,a){if(1&n&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"span",5),t.EFF(7),t.nI1(8,"translate"),t.k0s()()(),t.j41(9,"div",6),t.DNE(10,X,4,0,"div",7)(11,J,4,0,"div",7)(12,H,3,8,"div",8),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.JRh(t.bMT(5,5,"KNOWLEDGE_TYPES.TITLE")),t.R7$(3),t.JRh(t.bMT(8,7,"KNOWLEDGE_TYPES.SUBTITLE")),t.R7$(3),t.Y8G("ngIf",e.loading),t.R7$(),t.Y8G("ngIf",e.error&&!e.loading),t.R7$(),t.Y8G("ngIf",!e.loading&&!e.error&&e.chartOptions&&e.chartOptions.series&&e.chartOptions.series.length>0)}}let Z=(()=>{class n{companyAccountService;loading=!1;error=!1;hasEnoughData=!1;employees=[];hasMultipleEmployeesDonut=new t.bkB;chart;chartOptions;constructor(e){this.companyAccountService=e,this.initializeChartOptions()}initializeChartOptions(){this.chartOptions={series:[],chart:{type:"donut",height:180},labels:[],colors:["#0095E8","#1E90FF","#0070C0","#4682B4","#104E8B"],responsive:[{breakpoint:480,options:{chart:{width:100},legend:{position:"bottom"}}}],legend:{position:"right",horizontalAlign:"start",offsetY:20},plotOptions:{pie:{startAngle:0,offsetX:-10,donut:{size:"70%",labels:{show:!0,name:{show:!0},value:{show:!0,formatter:function(e){return e}},total:{show:!0,label:"Total",formatter:function(e){return e.globals.seriesTotals.reduce((i,s)=>i+s,0)}}}}}},dataLabels:{enabled:!0,formatter:function(e,i){return i.w.globals.seriesTotals[i.seriesIndex]}}}}ngOnInit(){this.loadStatistics()}extractKnowledgeStatistics(e){const i={report:0,data:0,insight:0,manual:0,course:0};let s=0;return e.forEach(o=>{const l=o.statistics;l&&"object"==typeof l&&Object.keys(i).forEach(p=>{const c=l[p]||0;i[p]+=c,s+=c})}),{byType:i,total:s}}loadStatistics(){this.loading=!0,this.error=!1,this.companyAccountService.getEmployeeKnowledgeStatistics().subscribe({next:e=>{if(this.employees=e.data,this.loading=!1,this.error=!1,console.log(this.employees),this.hasEnoughData=this.employees.length>0&&this.employees.some(i=>{const s=i.statistics;return s&&(s.report>0||s.data>0||s.insight>0||s.manual>0||s.course>0)}),this.hasMultipleEmployeesDonut.emit(this.hasEnoughData),this.hasEnoughData){const i=this.extractKnowledgeStatistics(this.employees),s=[i.byType.report||0,i.byType.data||0,i.byType.insight||0,i.byType.manual||0,i.byType.course||0];s.some(o=>o>0)?this.chartOptions={...this.chartOptions,series:s,labels:["Reports","Data","Insights","Manual","Courses"]}:this.hasMultipleEmployeesDonut.emit(!1)}},error:e=>{console.error("Error loading employee knowledge statistics",e),this.error=!0,this.loading=!1}})}static \u0275fac=function(i){return new(i||n)(t.rXU(M.C))};static \u0275cmp=t.VBU({type:n,selectors:[["app-donut-employee-chart"]],viewQuery:function(i,s){if(1&i&&t.GBs(W,5),2&i){let o;t.mGM(o=t.lsd())&&(s.chart=o.first)}},outputs:{hasMultipleEmployeesDonut:"hasMultipleEmployeesDonut"},decls:1,vars:1,consts:[["chart",""],[1,"card","card-flush"],[1,"card-header","pt-5"],[1,"card-title","d-flex","flex-column"],[1,"fs-1","fw-bold","text-gray-800"],[1,"text-gray-500","pt-1","fw-semibold","fs-5"],[1,"card-body"],["class","text-center py-5",4,"ngIf"],["class","chart-container","style","display: flex; justify-content: flex-start; margin-left: 20px;",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"],[1,"text-muted"],[1,"fas","fa-exclamation-triangle","text-warning","me-2"],[1,"chart-container",2,"display","flex","justify-content","flex-start","margin-left","20px"],[3,"series","chart","dataLabels","plotOptions","legend","responsive","labels","colors"]],template:function(i,s){1&i&&t.DNE(0,q,13,9,"div",1),2&i&&t.vxM(0,s.hasEnoughData?0:-1)},dependencies:[d.bT,b.Q,h.D9]})}return n})();var w=r(7468),Q=r(8600),tt=r(5606);let O=(()=>{class n extends m.${requestsService;profileService;sentMeetingsService;meetingsService;walletService;userRole="";todayMeetingsCount=0;pendingRequestsCount=0;userProfile=null;destroy$=new C.B;sentMeetings=[];receivedMeetings=[];walletBalance=0;constructor(e,i,s,o,l,p){super(e),this.requestsService=i,this.profileService=s,this.sentMeetingsService=o,this.meetingsService=l,this.walletService=p}ngOnInit(){this.getProfile(),this.loadAllMeetings(),this.loadWalletBalance()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getProfile(){this.profileService.getProfile().subscribe(e=>{this.userProfile=e,this.getRequestsStatistics()})}getRequestsStatistics(){const e={userRequests:this.requestsService.getAllUserRequests(this.lang?this.lang:"en")};this.userProfile?.roles.includes("company")&&(e.insighterRequests=this.requestsService.getInsighterRequests(this.lang?this.lang:"en")),(0,w.p)(e).subscribe({next:i=>{this.pendingRequestsCount=0,[...i.userRequests||[],...i.insighterRequests||[]].forEach(o=>{(0===o.parent_id||null==o.parent_id)&&"pending"===o.final_status?.toLowerCase()&&this.pendingRequestsCount++})},error:i=>{console.error("Error fetching requests statistics:",i),this.pendingRequestsCount=0}})}loadAllMeetings(e=1){const i=this.sentMeetingsService.getSentMeetings(e,30);if("client"===this.userRole)i.pipe((0,f.Q)(this.destroy$)).subscribe({next:s=>{this.sentMeetings=s.data;const o=(new Date).toISOString().split("T")[0];this.todayMeetingsCount=this.sentMeetings.filter(l=>l.date===o).length,console.log("Today's sent meetings count:",this.todayMeetingsCount)},error:s=>{console.error("Error loading sent meetings:",s)}});else{const s=this.meetingsService.getMeetings(e,30);(0,w.p)({sent:i,received:s}).pipe((0,f.Q)(this.destroy$)).subscribe({next:o=>{this.sentMeetings=o.sent.data,this.receivedMeetings=o.received.data;const l=(new Date).toISOString().split("T")[0],p=this.sentMeetings.filter(_=>_.date===l).length,c=this.receivedMeetings.filter(_=>_.date===l).length;this.todayMeetingsCount=p+c,console.log("Sent meetings today:",p),console.log("Received meetings today:",c),console.log("Total meetings today:",this.todayMeetingsCount)},error:o=>{console.error("Error loading meetings:",o)}})}}loadWalletBalance(){this.walletService.getBalance().pipe((0,f.Q)(this.destroy$)).subscribe({next:e=>{this.walletBalance=e,console.log("Wallet balance loaded:",this.walletBalance)},error:e=>{console.error("Error loading wallet balance:",e),this.walletBalance=0}})}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(Q.J),t.rXU(u.p),t.rXU(v.q),t.rXU(tt.k),t.rXU(E.F))};static \u0275cmp=t.VBU({type:n,selectors:[["app-widgets-row"]],inputs:{userRole:"userRole"},features:[t.Vt3],decls:48,vars:5,consts:[[1,"dashboard-widgets-flex"],[1,"dashboard-card","wallet-card"],[1,"card","h-lg-100","light-wallet-gradient-bg"],[1,"card-body","d-flex","justify-content-between","align-items-start","flex-column"],[1,"m-0"],[1,"ki-outline","ki-dollar","text-gray-700","fs-2tx"],[1,"d-flex","flex-column","my-7"],[1,"fw-bold","fs-3x","lh-1","ls-n2"],[1,"fw-semibold","fs-6","text-gray-500"],[1,"dashboard-card"],[1,"card","h-lg-100","light-meetning-gradient-bg"],[1,"ki-outline","ki-calendar-tick","text-gray-700","fs-2tx"],[1,"fw-semibold","fs-3x","lh-1","ls-n2"],[1,"card","h-lg-100","light-requests-gradient-bg"],[1,"ki-outline","ki-question-2","text-gray-700","fs-2tx"],[1,"card","h-lg-100","light-published-gradient-bg"],[1,"ki-outline","ki-abstract-26","text-gray-700","fs-2tx"],[1,"badge","badge-light-info","fs-base"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.k0s(),t.j41(6,"div",6)(7,"span",7),t.EFF(8),t.nI1(9,"currency"),t.k0s(),t.j41(10,"div",4)(11,"span",8),t.EFF(12,"in Wallet"),t.k0s()()()()()(),t.j41(13,"div",9)(14,"div",10)(15,"div",3)(16,"div",4),t.nrm(17,"i",11),t.k0s(),t.j41(18,"div",6)(19,"span",12),t.EFF(20),t.k0s(),t.j41(21,"div",4)(22,"span",8),t.EFF(23,"Meetings Today"),t.k0s()()()()()(),t.j41(24,"div",9)(25,"div",13)(26,"div",3)(27,"div",4),t.nrm(28,"i",14),t.k0s(),t.j41(29,"div",6)(30,"span",12),t.EFF(31),t.k0s(),t.j41(32,"div",4)(33,"span",8),t.EFF(34,"Pending Requests"),t.k0s()()()()()(),t.j41(35,"div",9)(36,"div",15)(37,"div",3)(38,"div",4),t.nrm(39,"i",16),t.k0s(),t.j41(40,"div",6)(41,"span",12),t.EFF(42,"---"),t.k0s(),t.j41(43,"div",4)(44,"span",8),t.EFF(45,"Published Knowledge"),t.k0s()()(),t.j41(46,"span",17),t.EFF(47,"Coming Soon"),t.k0s()()()()()),2&i&&(t.R7$(8),t.JRh(t.bMT(9,3,s.walletBalance)),t.R7$(12),t.JRh(s.todayMeetingsCount),t.R7$(11),t.JRh(s.pendingRequestsCount))},dependencies:[d.oe],styles:[".dashboard-widgets-flex[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.25rem;margin-bottom:2.5rem}.dashboard-card[_ngcontent-%COMP%]{flex:0 0 calc(20% - 1rem);min-width:0}@media (max-width: 1400px) and (min-width: 1201px){.dashboard-card[_ngcontent-%COMP%]{flex:0 0 calc(20% - 1rem)}}@media (max-width: 1300px) and (min-width: 1201px){.dashboard-card[_ngcontent-%COMP%]{flex:0 0 calc(19% - .8rem)}}@media (max-width: 1200px){.dashboard-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem)}.dashboard-card[_ngcontent-%COMP%]:nth-child(4), .dashboard-card[_ngcontent-%COMP%]:nth-child(5){flex:0 0 calc(50% - 1rem)}}@media (max-width: 992px){.dashboard-card[_ngcontent-%COMP%]{flex:0 0 calc(50% - .625rem)}}@media (max-width: 576px){.dashboard-card[_ngcontent-%COMP%]{flex:0 0 100%}}.light-meetning-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#ecfdec);color:#0bbc2f}.light-requests-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#fdf8ec);color:#ed8e28}.light-knowledge-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#ecfdfa);color:#28a1ed}.light-wallet-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#eceefd);color:#4f28ed}.light-published-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#f8ecfd);color:#a128ed}.wallet-card[_ngcontent-%COMP%]{flex:0 0 calc(40% - .75rem)!important}@media (max-width: 1400px) and (min-width: 1201px){.wallet-card[_ngcontent-%COMP%]{flex:0 0 calc(40% - .75rem)!important}}@media (max-width: 1300px) and (min-width: 1201px){.wallet-card[_ngcontent-%COMP%]{flex:0 0 calc(38% - .6rem)!important}}@media (max-width: 1200px){.wallet-card[_ngcontent-%COMP%]{flex:0 0 calc(66.666% - 1rem)!important}}@media (max-width: 992px){.wallet-card[_ngcontent-%COMP%]{flex:0 0 100%!important}}"]})}return n})();const et=(n,a)=>({"col-12 col-md-5":n,"col-12 col-md-6":a}),nt=(n,a)=>({"col-12 col-md-7":n,"col-12 col-md-6":a}),T=n=>({"rtl-bg-flip":n}),it=()=>({"background-image":"url(./assets/media/illustrations/misc/buildup_dashboard.svg)","background-size":"40%","background-repeat":"no-repeat","background-position":"100% 40%","border-radius":"10px"}),st=()=>["/app/insighter-dashboard/my-knowledge/general"],at=()=>({"background-image":"url(./assets/media/illustrations/misc/buildup_team.svg)","background-size":"cover","background-repeat":"no-repeat","background-position":"center","border-radius":"10px","margin-bottom":"10px"}),ot=()=>["/app/insighter-dashboard/my-company-settings"];function rt(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-donut-employee-chart",4),t.bIt("hasMultipleEmployeesDonut",function(s){t.eBV(e);const o=t.XpG();return t.Njj(o.onHasMultipleEmployeesDonut(s))}),t.k0s()}}function lt(n,a){if(1&n&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7)(3,"h1",8),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.nrm(6,"p",9),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div")(9,"a",10),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()()),2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(12,T,"ar"===e.lang))("ngStyle",t.lJ4(14,it)),t.R7$(4),t.SpI(" ",t.bMT(5,6,"START_UPLOADING"),""),t.R7$(2),t.Y8G("innerHTML",t.bMT(7,8,"START_UPLOADING_DESRIPTION"),t.npT),t.R7$(3),t.Y8G("routerLink",t.lJ4(15,st)),t.R7$(),t.SpI(" ",t.bMT(11,10,"MENU.MY_LIBRARY")," ")}}function ct(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-employee-knowledge-statistics",11),t.bIt("hasMultipleEmployees",function(s){t.eBV(e);const o=t.XpG();return t.Njj(o.onHasMultipleEmployees(s))}),t.k0s()}}function dt(n,a){if(1&n&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7)(3,"h1",8),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.nrm(6,"p",9),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div")(9,"a",10),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()()),2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(12,T,"ar"===e.lang))("ngStyle",t.lJ4(14,at)),t.R7$(4),t.SpI(" ",t.bMT(5,6,"BUILD_YOUR_TEAM"),""),t.R7$(2),t.Y8G("innerHTML",t.bMT(7,8,"BUILD_YOUR_TEAM_DESCRIPTION"),t.npT),t.R7$(3),t.Y8G("routerLink",t.lJ4(15,ot)),t.R7$(),t.SpI(" ",t.bMT(11,10,"MY_COMPANY.ADD_EMPLOYEE")," ")}}let pt=(()=>{class n extends m.${profileService;router;userRole="";userProfile=null;destroy$=new C.B;showDonutChart=!0;showEmployeeStats=!0;constructor(e,i,s){super(e),this.profileService=i,this.router=s}ngOnInit(){this.getUserRole()}getUserRole(){this.profileService.getProfile().subscribe({next:e=>{this.userProfile=e,e.roles.includes("company")?this.userRole="company":e.roles.includes("client")?this.userRole="client":e.roles.includes("insighter")&&(this.userRole="insighter")},error:e=>{console.error("Error getting user profile:",e)}})}onHasMultipleEmployees(e){this.showEmployeeStats=e,console.log("hasMultipleEmployees",e)}onHasMultipleEmployeesDonut(e){this.showDonutChart=e,console.log("hasMultipleEmployeesDonut",e)}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(u.p),t.rXU(g.Ix))};static \u0275cmp=t.VBU({type:n,selectors:[["app-company-my-dashboard"]],features:[t.Vt3],decls:8,vars:11,consts:[[3,"userRole"],[1,"row"],[1,"d-flex","flex-column","gap-6",3,"ngClass"],[3,"ngClass"],[3,"hasMultipleEmployeesDonut"],[1,"card","card-xl-stretch","border-0",3,"ngClass","ngStyle"],[1,"card-body","d-flex","flex-column","flex-wrap"],[1,"d-flex","flex-column","align-items-start"],[1,"fs-2x","fw-bolder","text-gray-800","pb-3","m-0","p-0"],[1,"text-start","text-gray-800","pb-4","fw-semibold","fs-5",3,"innerHTML"],["data-bs-toggle","modal","data-bs-target","#kt_modal_create_campaign",1,"btn","btn-info","fw-semibold","px-6","py-3",3,"routerLink"],[3,"hasMultipleEmployees"]],template:function(i,s){1&i&&(t.nrm(0,"app-widgets-row",0),t.j41(1,"div",1)(2,"div",2),t.DNE(3,rt,1,0,"app-donut-employee-chart")(4,lt,12,16),t.k0s(),t.j41(5,"div",3),t.DNE(6,ct,1,0,"app-employee-knowledge-statistics")(7,dt,12,16),t.k0s()()),2&i&&(t.Y8G("userRole",s.userRole),t.R7$(2),t.Y8G("ngClass",t.l_i(5,et,s.showDonutChart,!s.showDonutChart)),t.R7$(),t.vxM(3,s.showDonutChart?3:4),t.R7$(2),t.Y8G("ngClass",t.l_i(8,nt,s.showDonutChart,!s.showDonutChart)),t.R7$(),t.vxM(6,s.showEmployeeStats?6:7))},dependencies:[d.YU,d.B3,g.Wk,z,Z,O,h.D9],styles:[".rtl-bg-flip[_ngcontent-%COMP%], .rtl-bg-flip[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{transform:scaleX(-1)}"]})}return n})();var ht=r(4392);const gt=["chart"];function mt(n,a){1&n&&(t.j41(0,"div",10)(1,"div",11)(2,"span",12),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"COMMON.LOADING")))}function ft(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",13),t.nrm(1,"i",14),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",15),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.refresh())}),t.j41(6,"span"),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,2,"KNOWLEDGE_TYPES.LOAD_ERROR")),t.R7$(4),t.JRh(t.bMT(8,4,"KNOWLEDGE_TYPES.RETRY")))}function ut(n,a){if(1&n&&(t.j41(0,"div",16)(1,"div",17),t.nrm(2,"apx-chart",18),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("series",e.pieChartOptions.series)("chart",e.pieChartOptions.chart)("labels",e.pieChartOptions.labels)("plotOptions",e.pieChartOptions.plotOptions)("fill",e.pieChartOptions.fill)("dataLabels",e.pieChartOptions.dataLabels)("tooltip",e.pieChartOptions.tooltip)("stroke",e.pieChartOptions.stroke)("legend",e.pieChartOptions.legend)("colors",e.pieChartOptions.colors)}}function bt(n,a){if(1&n&&(t.qex(0),t.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"span",5),t.EFF(8),t.nI1(9,"translate"),t.k0s()()(),t.j41(10,"div",6),t.DNE(11,mt,5,3,"div",7)(12,ft,9,6,"div",8)(13,ut,3,10,"div",9),t.k0s()(),t.bVm()),2&n){const e=t.XpG();t.R7$(5),t.JRh(t.bMT(6,5,"KNOWLEDGE_TYPES.TITLE")),t.R7$(3),t.JRh(t.bMT(9,7,"KNOWLEDGE_TYPES.SUBTITLE")),t.R7$(3),t.Y8G("ngIf",e.loading),t.R7$(),t.Y8G("ngIf",e.error&&!e.loading),t.R7$(),t.Y8G("ngIf",!e.loading&&!e.error&&e.statistics.length>0)}}let Ct=(()=>{class n{knowledgeService;translationService;chart;hasStatistics=new t.bkB;pieChartOptions={series:[],chart:{type:"donut",height:300,fontFamily:"Poppins, sans-serif",toolbar:{show:!1},redrawOnParentResize:!0,redrawOnWindowResize:!0},labels:[],colors:[],dataLabels:{enabled:!0,formatter:function(e){return e.toFixed(1)+"%"},style:{fontSize:"12px",fontFamily:"Poppins, sans-serif",fontWeight:"bold"}},stroke:{width:0},plotOptions:{pie:{donut:{size:"65%",labels:{show:!0,name:{show:!0,fontSize:"14px",fontFamily:"Poppins, sans-serif",offsetY:-10},value:{show:!0,fontSize:"18px",fontFamily:"Poppins, sans-serif",formatter:function(e){return e}},total:{show:!0,label:"Total",fontSize:"14px",fontFamily:"Poppins, sans-serif",formatter:function(e){return e.globals.seriesTotals.reduce((i,s)=>i+s,0)}}}}}},tooltip:{enabled:!0,y:{formatter:function(e){return e+" items"}}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"12px",itemMargin:{horizontal:10,vertical:5}}};statistics=[];loading=!1;error=!1;resizeListener;chartInitialized=!1;constructor(e,i){this.knowledgeService=e,this.translationService=i}ngOnInit(){this.loadStatistics(),this.updateChartTranslations(),this.translationService.onLanguageChange().subscribe(()=>{this.updateChartTranslations(),this.statistics.length>0&&this.initChart()}),this.resizeListener=()=>{this.chartInitialized&&this.statistics.length>0&&setTimeout(()=>this.initChart(),100)},window.addEventListener("resize",this.resizeListener)}updateChartTranslations(){this.pieChartOptions={...this.pieChartOptions,plotOptions:{...this.pieChartOptions.plotOptions,pie:{...this.pieChartOptions.plotOptions?.pie,donut:{...this.pieChartOptions.plotOptions?.pie?.donut,labels:{...this.pieChartOptions.plotOptions?.pie?.donut?.labels,total:{...this.pieChartOptions.plotOptions?.pie?.donut?.labels?.total,label:this.translationService.getTranslation("KNOWLEDGE_TYPES.TOTAL")}}}}},tooltip:{...this.pieChartOptions.tooltip,y:{...this.pieChartOptions.tooltip?.y,formatter:e=>e+" "+this.translationService.getTranslation("KNOWLEDGE_TYPES.ITEMS")}}}}loadStatistics(){this.loading=!0,this.error=!1,this.knowledgeService.getKnowledgeTypeStatistics().subscribe(e=>{this.statistics=e.data,this.hasStatistics.emit(!!this.statistics.length),this.initChart(),this.loading=!1},e=>{console.error("Error loading knowledge type statistics",e),this.error=!0,this.loading=!1})}getTotalCount(){return this.statistics&&0!==this.statistics.length?this.statistics.reduce((e,i)=>e+i.count,0):0}initChart(){if(!this.statistics||0===this.statistics.length)return;if(!document.getElementById("pieChart"))return void setTimeout(()=>this.initChart(),50);const e={report:"#0095E8",insight:"#0070C0",manual:"#104E8B",data:"#1E90FF",course:"#4682B4",media:"#000080",other:"#0047AB"},i=this.statistics.map(l=>l.count),s=this.statistics.map(l=>{const p="KNOWLEDGE_TYPES."+l.type.toUpperCase();return this.translationService.getTranslation(p)}),o=this.statistics.map(l=>e[l.type]||"#A1A5B7");this.pieChartOptions={...this.pieChartOptions,series:i,labels:s,colors:o},this.chartInitialized=!0,this.chart&&setTimeout(()=>{this.chart.render()},0)}refresh(){this.loadStatistics()}ngAfterViewInit(){this.statistics.length>0&&!this.chartInitialized&&setTimeout(()=>this.initChart(),100)}ngOnDestroy(){this.resizeListener&&window.removeEventListener("resize",this.resizeListener)}static \u0275fac=function(i){return new(i||n)(t.rXU(ht.I),t.rXU(y.L))};static \u0275cmp=t.VBU({type:n,selectors:[["app-knowledge-types-statistics"]],viewQuery:function(i,s){if(1&i&&t.GBs(gt,5),2&i){let o;t.mGM(o=t.lsd())&&(s.chart=o.first)}},outputs:{hasStatistics:"hasStatistics"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"card","card-flush","h-md-100","mb-5","mb-xl-10"],[1,"card-header","pt-5"],[1,"card-title","d-flex","flex-column"],[1,"fs-2","fw-bold","text-gray-800"],[1,"text-gray-500","pt-1","fw-semibold","fs-6"],[1,"card-body","pt-0"],["class","d-flex justify-content-center align-items-center","style","height: 320px;",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"height","320px"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn","btn-sm","btn-danger","ms-2",3,"click"],[1,"d-flex","justify-content-center"],["id","pieChart",1,"chart-container",2,"width","100%","max-width","500px","margin","0 auto"],[3,"series","chart","labels","plotOptions","fill","dataLabels","tooltip","stroke","legend","colors"]],template:function(i,s){1&i&&t.DNE(0,bt,14,9,"ng-container",0),2&i&&t.Y8G("ngIf",s.statistics.length>0)},dependencies:[d.bT,b.Q,h.D9],styles:[".card[_ngcontent-%COMP%]{transition:all .3s ease}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:transparent;border-bottom:1px solid rgba(0,0,0,.125)}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{transition:all .3s ease}.btn-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background-color:var(--bs-primary)!important;color:#fff!important}.symbol-label[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:4px}#barChart[_ngcontent-%COMP%], #pieChart[_ngcontent-%COMP%]{min-height:350px}#barChart[_ngcontent-%COMP%]   apx-chart[_ngcontent-%COMP%], #pieChart[_ngcontent-%COMP%]   apx-chart[_ngcontent-%COMP%]{display:block}#pieChart[_ngcontent-%COMP%]{height:300px;margin:0 auto;position:relative;transition:width .3s ease,height .3s ease}#pieChart[_ngcontent-%COMP%]   apx-chart[_ngcontent-%COMP%]{display:block;margin:0 auto}#pieChart[_ngcontent-%COMP%]     .apexcharts-canvas{margin:0 auto!important}#pieChart[_ngcontent-%COMP%]     .apexcharts-legend{display:flex;flex-wrap:wrap;justify-content:center;width:100%!important;left:0!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}.card-flush[_ngcontent-%COMP%]{box-shadow:0 0 20px #4c577d05}.fs-2[_ngcontent-%COMP%]{font-size:1.5rem!important}"]})}return n})();const yt=(n,a)=>({"col-md-12":n,"col-md-6":a}),_t=()=>["/app/insighter-dashboard/account-settings/company-account"];function xt(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",5)(1,"app-knowledge-types-statistics",6),t.bIt("hasStatistics",function(s){t.eBV(e);const o=t.XpG();return t.Njj(o.hasStatistics(s))}),t.k0s()()}}function vt(n,a){1&n&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"UPGRADE_TO_COMPANY_ACCOUNT.PENDING_DESCRIPTION")," "))}function Et(n,a){1&n&&(t.EFF(0),t.nI1(1,"translate")),2&n&&t.SpI(" ",t.bMT(1,1,"UPGRADE_TO_COMPANY_ACCOUNT.DESCRIPTION")," ")}function Mt(n,a){1&n&&(t.qex(0),t.j41(1,"button",16),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.bVm()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"UPGRADE_TO_COMPANY_ACCOUNT.PENDING")," "))}function wt(n,a){1&n&&(t.j41(0,"a",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.Y8G("routerLink",t.lJ4(4,_t)),t.R7$(),t.SpI(" ",t.bMT(2,2,"UPGRADE_TO_COMPANY_ACCOUNT.UPGRADE_NOW")," "))}function Ot(n,a){if(1&n&&(t.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"span",12),t.DNE(8,vt,3,3,"ng-container",13)(9,Et,2,3,"ng-template",null,0,t.C5r),t.k0s(),t.j41(11,"div",14),t.DNE(12,Mt,4,3,"ng-container",13)(13,wt,3,5,"ng-template",null,1,t.C5r),t.k0s()(),t.nrm(15,"img",15),t.k0s()()()),2&n){const e=t.sdS(10),i=t.sdS(14),s=t.XpG();t.Y8G("ngClass",t.l_i(8,yt,!s.userHasStatistics,s.userHasStatistics)),t.R7$(5),t.SpI(" ",t.bMT(6,6,"UPGRADE_TO_COMPANY_ACCOUNT.TITLE")," "),t.R7$(3),t.Y8G("ngIf",s.hasPendingActivationRequest)("ngIfElse",e),t.R7$(4),t.Y8G("ngIf",s.hasPendingActivationRequest)("ngIfElse",i)}}let Tt=(()=>{class n extends m.${profileService;profile;hasPendingActivationRequest=!1;userHasStatistics=!1;isCompanyInsight;constructor(e,i){super(e),this.profileService=i}ngOnInit(){this.profileService.getProfile().subscribe(e=>{this.profile=e,this.isCompanyInsight=this.profileService.isCompanyInsighter(),this.hasPendingActivationRequest="pending"===this.profile.status||"under_review"===this.profile.status})}isActiveInsighter(){return"active"===this.profile.status}hasStatistics(e){this.userHasStatistics=e}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(u.p))};static \u0275cmp=t.VBU({type:n,selectors:[["app-insighter-my-dashboard"]],features:[t.Vt3],decls:5,vars:4,consts:[["regularDescription",""],["upgradeButton",""],[1,"row"],["class","col-12 col-md-6",4,"ngIf"],["class","col-12",3,"ngClass",4,"ngIf"],[1,"col-12","col-md-6"],[3,"hasStatistics"],[1,"col-12",3,"ngClass"],[1,"card","light-upgrade-gradient-bg","h-md-100",2,"border","1px solid #e3f2fd"],[1,"card-body","d-flex","justify-content-center","flex-wrap","px-xl-15","px-5"],[1,"flex-grow-1","mt-2","me-9","me-md-0"],[1,"position-relative","text-gray-800","fs-1","z-index-2","fw-bold","mb-5"],[1,"text-gray-600","fw-semibold","fs-6","mb-6","d-block","mw-400px"],[4,"ngIf","ngIfElse"],[1,"mb-7"],["src","./assets/media/auth/upgrade-to-corporate.png","alt","Upgrade to Corporate",1,"h-175px","me-15"],["disabled","",1,"btn","btn-sm","btn-secondary","fw-semibold","me-2"],[1,"btn","btn-sm","btn-primary","fw-semibold","me-2",3,"routerLink"]],template:function(i,s){1&i&&(t.nrm(0,"app-widgets-row"),t.j41(1,"div",2),t.DNE(2,xt,2,0,"div",3)(3,Ot,16,11,"div",4),t.nI1(4,"async"),t.k0s()),2&i&&(t.R7$(2),t.Y8G("ngIf",s.userHasStatistics),t.R7$(),t.Y8G("ngIf",!t.bMT(4,2,s.isCompanyInsight)))},dependencies:[d.YU,d.bT,g.Wk,Ct,O,d.Jj,h.D9],styles:[".light-upgrade-gradient-bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fff,#e0f3ff);border:1px solid #e3f2fd!important}"]})}return n})();function kt(n,a){1&n&&t.nrm(0,"app-client-my-dashboard")}function It(n,a){1&n&&t.nrm(0,"app-insighter-my-dashboard")}function St(n,a){1&n&&t.nrm(0,"app-company-my-dashboard")}const Rt=[{path:"",component:(()=>{class n extends m.${profileService;constructor(e,i){super(e),this.profileService=i}ngOnInit(){}ngOnDestroy(){}isClient(){return this.profileService.isClient()}isInsighter(){return this.profileService.isInsighter()}isCompanyInsighter(){return this.profileService.isCompanyInsighter()}isCompany(){return this.profileService.isCompany()}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(u.p))};static \u0275cmp=t.VBU({type:n,selectors:[["app-my-dashboard"]],features:[t.Vt3],decls:7,vars:9,template:function(i,s){1&i&&(t.DNE(0,kt,1,0,"app-client-my-dashboard"),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.DNE(5,It,1,0)(6,St,1,0)),2&i&&t.vxM(0,t.bMT(1,1,s.isClient())?0:t.bMT(2,3,s.isInsighter())||t.bMT(3,5,s.isCompanyInsighter())?5:t.bMT(4,7,s.isCompany())?6:-1)},dependencies:[N,pt,Tt,d.Jj]})}return n})()}];let Dt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[d.MD,g.iI.forChild(Rt),y.E,b.J]})}return n})()}}]);