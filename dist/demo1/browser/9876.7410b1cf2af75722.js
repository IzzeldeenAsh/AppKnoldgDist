"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[9876],{9876:(F,u,r)=>{r.r(u),r.d(u,{InvoicePageModule:()=>w});var p=r(177),d=r(2791),f=r(5098),v=r(7468),g=r(9437),m=r(7673),t=r(4438),b=r(2479),h=r(7112);function _(o,s){if(1&o&&(t.j41(0,"div",26)(1,"span",27),t.EFF(2),t.k0s(),t.j41(3,"span",28),t.EFF(4),t.k0s()()),2&o){const n=s.$implicit;t.R7$(2),t.JRh(n.name),t.R7$(2),t.SpI("$",n.amount.toFixed(2),"")}}let x=(()=>{class o extends f.${invoiceData;invoiceDate="";serviceRows=[];subtotal=0;constructor(n){super(n)}ngOnInit(){this.processInvoiceData()}ngOnDestroy(){}handleKeyboardEvent(n){(n.ctrlKey||n.metaKey)&&"p"===n.key&&(n.preventDefault(),this.printOrSaveAsPDF())}processInvoiceData(){if(!this.invoiceData)return;this.invoiceDate=new Date(this.invoiceData.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"});const n="meeting_service"===this.invoiceData.service;this.serviceRows=[],this.subtotal=this.invoiceData.amount,n?this.invoiceData.suborders.forEach(i=>{if(i.meeting_booking){const e=i.meeting_booking;this.serviceRows.push({name:`Meeting: ${e.title} - ${e.date} (${e.start_time} - ${e.end_time})`,amount:this.invoiceData.amount})}}):(this.subtotal=0,this.invoiceData.suborders.forEach(i=>{i.knowledge_documents?.forEach(e=>{e.forEach(c=>{this.serviceRows.push({name:c.file_name,amount:c.price}),this.subtotal+=c.price})})}))}printOrSaveAsPDF(){try{this.addPrintStyles(),window.focus(),setTimeout(()=>{window.print?window.print():document.execCommand("print",!1,void 0)},250),this.showInfo("ar"===this.lang?"\u0637\u0628\u0627\u0639\u0629 \u0623\u0648 \u062d\u0641\u0638 \u0643\u0640 PDF":"Print or Save PDF","ar"===this.lang?'\u0627\u0633\u062a\u062e\u062f\u0645 \u0646\u0627\u0641\u0630\u0629 \u0627\u0644\u0637\u0628\u0627\u0639\u0629 \u0644\u0644\u0637\u0628\u0627\u0639\u0629 \u0623\u0648 \u0627\u062e\u062a\u0631 "\u062d\u0641\u0638 \u0643\u0640 PDF"':'Use the print dialog to print or select "Save as PDF"')}catch(n){console.error("Print error:",n),this.showError("ar"===this.lang?"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0637\u0628\u0627\u0639\u0629":"Print Error","ar"===this.lang?"\u0641\u0634\u0644 \u0641\u064a \u0641\u062a\u062d \u0646\u0627\u0641\u0630\u0629 \u0627\u0644\u0637\u0628\u0627\u0639\u0629":"Failed to open print dialog")}}addPrintStyles(){const n=document.getElementById("invoice-print-styles");n&&n.remove();const i=document.createElement("style");i.id="invoice-print-styles",i.type="text/css",i.innerHTML="\n      @media print {\n        /* Hide navigation and layout elements only */\n        .kt_header,\n        .kt_toolbar,\n        .kt_aside,\n        .kt_footer,\n        .kt_app_header,\n        .kt_app_toolbar,\n        .kt_app_aside,\n        .kt_app_footer,\n        .primeng-header,\n        .p-toolbar,\n        .navbar,\n        .toolbar,\n        .sidebar,\n        .menu,\n        .navigation,\n        .app-header,\n        .app-toolbar,\n        .app-sidebar,\n        .app-nav,\n        .breadcrumb,\n        .page-header,\n        .no-print {\n          display: none !important;\n        }\n\n        /* Ensure body and main containers are visible */\n        html, body {\n          margin: 0 !important;\n          padding: 0 !important;\n          background: white !important;\n          height: auto !important;\n          overflow: visible !important;\n        }\n\n        /* Ensure Angular app root is visible */\n        app-root {\n          display: block !important;\n          width: 100% !important;\n          height: auto !important;\n        }\n\n        /* Ensure router outlet content is visible */\n        router-outlet + * {\n          display: block !important;\n        }\n\n        /* Ensure invoice page component is visible */\n        app-invoice-page {\n          display: block !important;\n          width: 100% !important;\n          height: auto !important;\n        }\n\n        /* Ensure invoice viewer is visible */\n        app-invoice-viewer {\n          display: block !important;\n          width: 100% !important;\n          height: auto !important;\n        }\n\n        /* Invoice container styling */\n        .invoice-viewer-container {\n          display: flex !important;\n          justify-content: center !important;\n          align-items: flex-start !important;\n          padding: 20px !important;\n          background: white !important;\n          width: 100% !important;\n          height: auto !important;\n        }\n\n        .invoice-container {\n          display: flex !important;\n          flex-direction: column !important;\n          width: 210mm !important;\n          height: auto !important;\n          min-height: 297mm !important;\n          background: white !important;\n          box-shadow: none !important;\n          border-radius: 0 !important;\n          margin: 0 !important;\n        }\n      }\n    ",document.head.appendChild(i)}getInvoiceStyles(){return"\n      * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n      }\n\n      body {\n        font-family: Arial, Helvetica, sans-serif;\n        background: white;\n      }\n\n      .invoice-container {\n        background: white;\n        width: 190mm;\n        height: 277mm;\n        margin: 0 auto;\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n      }\n\n      .header {\n        background: linear-gradient(90deg, #042043 0%, #57B6C7 100%);\n        padding: 25px;\n        position: relative;\n        overflow: hidden;\n      }\n\n      .header h1 {\n        color: white;\n        font-size: 36px;\n        text-align: center;\n        font-weight: 600;\n        position: relative;\n        z-index: 1;\n        margin: 0;\n      }\n\n      .content {\n        padding: 40px;\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n      }\n\n      .logo-section {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        margin-bottom: 40px;\n      }\n\n      .logo {\n        width: 160px;\n      }\n\n      .invoice-info {\n        text-align: right;\n        color: #666;\n        font-size: 13px;\n        line-height: 1.6;\n      }\n\n      .billing-section {\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 40px;\n        gap: 60px;\n      }\n\n      .from-section, .bill-to-section {\n        flex: 1;\n      }\n\n      .section-title {\n        font-size: 18px;\n        font-weight: 600;\n        color: #042043;\n        margin-bottom: 15px;\n      }\n\n      .from-section p, .bill-to-section p {\n        color: #333;\n        line-height: 1.6;\n        font-size: 14px;\n      }\n\n      .bill-to-section .label {\n        display: inline-block;\n        font-weight: 600;\n        color: #042043;\n        min-width: 80px;\n      }\n\n      .services-table {\n        margin-bottom: 40px;\n      }\n\n      .table-header {\n        display: flex;\n        justify-content: space-between;\n        padding: 15px 0;\n        border-bottom: 2px solid #e0e0e0;\n        margin-bottom: 20px;\n      }\n\n      .table-header h3 {\n        font-size: 18px;\n        font-weight: 600;\n        color: #042043;\n      }\n\n      .service-row {\n        display: flex;\n        justify-content: space-between;\n        padding: 15px 0;\n        border-bottom: 1px solid #f0f0f0;\n      }\n\n      .service-name {\n        color: #333;\n        font-size: 15px;\n      }\n\n      .service-amount {\n        color: #333;\n        font-size: 15px;\n      }\n\n      .totals-section {\n        margin-top: 40px;\n        margin-bottom: 40px;\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n        gap: 15px;\n      }\n\n      .subtotal, .total {\n        display: flex;\n        align-items: center;\n        gap: 30px;\n        font-size: 18px;\n      }\n\n      .subtotal {\n        color: #666;\n      }\n\n      .total {\n        font-weight: 600;\n        color: #042043;\n      }\n\n      .total .amount {\n        background: linear-gradient(90deg, #042043 0%, #57B6C7 100%);\n        color: white;\n        padding: 10px 20px;\n        border-radius: 4px;\n        min-width: 120px;\n        text-align: center;\n      }\n\n      .footer {\n        padding: 30px;\n        text-align: center;\n        color: #999;\n        font-size: 14px;\n        border-top: 1px solid #f0f0f0;\n      }\n\n      .bg {\n        background-image: url(https://res.cloudinary.com/dsiku9ipv/image/upload/v1758005640/invoice_template_knoldg_0_1_naflvj.png);\n        position: absolute;\n        top: 130px;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        background-repeat: no-repeat;\n        z-index: 10;\n        background-position: center;\n        height: 100%;\n        width: 680px;\n        opacity: 0.1;\n      }\n    "}static \u0275fac=function(i){return new(i||o)(t.rXU(t.zZn))};static \u0275cmp=t.VBU({type:o,selectors:[["app-invoice-viewer"]],hostBindings:function(i,e){1&i&&t.bIt("keydown",function(a){return e.handleKeyboardEvent(a)},!1,t.tSv)},inputs:{invoiceData:"invoiceData"},features:[t.Vt3],decls:70,vars:9,consts:[[1,"invoice-viewer-container","d-flex","justify-content-center"],[2,"max-width","190mm","width","190mm","margin","auto"],[1,"no-print","mb-3","d-flex","justify-content-center","mx-auto"],["type","button",1,"btn","btn-info","btn-sm","px-4",3,"click"],[1,"ki-outline","ki-printer","fs-6","me-2"],["id","invoice-content",1,"invoice-container"],[1,"bg"],[1,"invoice-header"],[1,"content"],[1,"logo-section"],[1,"logo-container"],["src","https://res.cloudinary.com/dsiku9ipv/image/upload/v1758006879/invoice_template_knoldg_0_2_aeurma.png","alt","KNOLDG Logo",1,"logo"],[1,"invoice-info"],[1,"billing-section"],[1,"from-section"],[1,"section-title"],[1,"bill-to-section"],[1,"label"],[1,"services-table"],[1,"table-header"],["class","service-row",4,"ngFor","ngForOf"],[1,"totals-section"],[1,"subtotal"],[1,"total"],[1,"amount"],[1,"invoice-footer"],[1,"service-row"],[1,"service-name"],[1,"service-amount"]],template:function(i,e){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.bIt("click",function(){return e.printOrSaveAsPDF()}),t.nrm(4,"i",4),t.EFF(5),t.k0s()()(),t.j41(6,"div",5),t.nrm(7,"div",6),t.j41(8,"div",7)(9,"h1"),t.EFF(10,"INVOICE"),t.k0s()(),t.j41(11,"div",8)(12,"div",9)(13,"div",10),t.nrm(14,"img",11),t.k0s(),t.j41(15,"div",12),t.EFF(16),t.nrm(17,"br"),t.EFF(18),t.k0s()(),t.j41(19,"div",13)(20,"div",14)(21,"h3",15),t.EFF(22,"From:"),t.k0s(),t.j41(23,"p"),t.EFF(24," Foresighta Systems Consulting FZ-LLC"),t.nrm(25,"br"),t.EFF(26," Compass Building"),t.nrm(27,"br"),t.EFF(28," Al Shohada Road"),t.nrm(29,"br"),t.EFF(30," AL Hamra Industrial Zone-FZ"),t.nrm(31,"br"),t.EFF(32," Ras Al Khaimah"),t.nrm(33,"br"),t.EFF(34," United Arab Emirates"),t.nrm(35,"br"),t.EFF(36," info@knoldg.com "),t.k0s()(),t.j41(37,"div",16)(38,"h3",15),t.EFF(39,"Bill To:"),t.k0s(),t.j41(40,"p")(41,"span",17),t.EFF(42,"Name:"),t.k0s(),t.EFF(43),t.nrm(44,"br"),t.j41(45,"span",17),t.EFF(46,"Email:"),t.k0s(),t.EFF(47),t.nrm(48,"br"),t.j41(49,"span",17),t.EFF(50,"Country:"),t.k0s(),t.EFF(51),t.k0s()()(),t.j41(52,"div",18)(53,"div",19)(54,"h3"),t.EFF(55,"Service type"),t.k0s(),t.j41(56,"h3"),t.EFF(57,"Amount"),t.k0s()(),t.DNE(58,_,5,2,"div",20),t.k0s(),t.j41(59,"div",21)(60,"div",22)(61,"span"),t.EFF(62),t.k0s()(),t.j41(63,"div",23)(64,"span"),t.EFF(65,"Total:"),t.k0s(),t.j41(66,"span",24),t.EFF(67),t.k0s()()()(),t.j41(68,"div",25),t.EFF(69," Thank you for your business \xa9 2025 knoldg | info@knoldg.com "),t.k0s()()()),2&i&&(t.R7$(5),t.SpI(" ","ar"===e.lang?"\u0637\u0628\u0627\u0639\u0629 \u0623\u0648 \u062d\u0641\u0638 \u0643\u0640 PDF":"Print or Save PDF"," "),t.R7$(11),t.SpI(" ",e.invoiceData.invoice_no||e.invoiceData.order_no,""),t.R7$(2),t.SpI(" ",e.invoiceDate," "),t.R7$(25),t.SpI(" ",(null==e.invoiceData.userProfile?null:e.invoiceData.userProfile.name)||"Client Name",""),t.R7$(4),t.SpI(" ",(null==e.invoiceData.userProfile?null:e.invoiceData.userProfile.email)||"client@email.com",""),t.R7$(4),t.SpI(" ",(null==e.invoiceData.userProfile?null:e.invoiceData.userProfile.country)||"Country"," "),t.R7$(7),t.Y8G("ngForOf",e.serviceRows),t.R7$(4),t.SpI("Subtotal: $",e.subtotal.toFixed(2),""),t.R7$(5),t.SpI("$",e.invoiceData.amount.toFixed(2),""))},dependencies:[p.Sq],styles:[".invoice-viewer-container[_ngcontent-%COMP%]{padding:3rem 2rem 2rem;background:#f5f8fa;min-height:100vh;position:relative;display:flex;flex-direction:column}.invoice-container[_ngcontent-%COMP%]{background:#fff;width:190mm;height:277mm;max-height:277mm;position:relative;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 10px 30px #0000001a;border-radius:8px;margin:0 auto}.invoice-header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#042043,#57b6c7);padding:25px;position:relative;overflow:hidden}.invoice-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:36px;text-align:center;font-weight:600;position:relative;z-index:1;margin:0}.content[_ngcontent-%COMP%]{padding:40px;flex:1;display:flex;flex-direction:column;justify-content:space-between}.logo-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:40px}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.logo[_ngcontent-%COMP%]{width:160px}.company-name[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#042043;display:flex;flex-direction:column;line-height:1.2}.company-name[_ngcontent-%COMP%]   .business[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#57b6c7}.invoice-info[_ngcontent-%COMP%]{text-align:right;color:#666;font-size:13px;line-height:1.6}.invoice-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.billing-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:40px;gap:60px}.from-section[_ngcontent-%COMP%], .bill-to-section[_ngcontent-%COMP%]{flex:1}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#042043;margin-bottom:15px}.from-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .bill-to-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;line-height:1.6;font-size:14px}.bill-to-section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-block;font-weight:600;color:#042043;min-width:80px}.services-table[_ngcontent-%COMP%]{margin-bottom:40px}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:15px 0;border-bottom:2px solid #e0e0e0;margin-bottom:20px}.table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#042043}.service-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:15px 0;border-bottom:1px solid #f0f0f0}.service-name[_ngcontent-%COMP%]{color:#333;font-size:15px;flex:1;margin-right:20px}.service-amount[_ngcontent-%COMP%]{color:#333;font-size:15px;font-weight:600}.totals-section[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:40px;display:flex;flex-direction:column;align-items:flex-end;gap:15px}.subtotal[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px;font-size:18px}.subtotal[_ngcontent-%COMP%]{color:#666}.total[_ngcontent-%COMP%]{font-weight:600;color:#042043}.total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{background:linear-gradient(90deg,#042043,#57b6c7);color:#fff;padding:10px 20px;border-radius:4px;min-width:120px;text-align:center}.invoice-footer[_ngcontent-%COMP%]{padding:30px;text-align:center;color:#999;font-size:14px;border-top:1px solid #f0f0f0}.bg[_ngcontent-%COMP%]{background-image:url(https://res.cloudinary.com/dsiku9ipv/image/upload/v1758005640/invoice_template_knoldg_0_1_naflvj.png);position:absolute;top:130px;left:50%;transform:translate(-50%,-50%);background-repeat:no-repeat;z-index:10;background-position:center;height:100%;width:680px;opacity:.1}@media print{.no-print[_ngcontent-%COMP%]{display:none!important}}.btn[_ngcontent-%COMP%]{transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}@media (max-width: 992px){.invoice-viewer-container[_ngcontent-%COMP%]{padding:1rem}.invoice-container[_ngcontent-%COMP%]{width:100%;height:auto;max-height:none;transform:scale(.8);transform-origin:top center}}@media (max-width: 768px){.invoice-container[_ngcontent-%COMP%]{transform:scale(.6)}.no-print[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;padding:8px 16px}}@media print{*[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important}body[_ngcontent-%COMP%]{margin:0!important;padding:0!important;background:#fff!important;font-family:Arial,Helvetica,sans-serif!important}.invoice-viewer-container[_ngcontent-%COMP%]{background:#fff!important;padding:0!important;min-height:auto!important;position:static!important}.invoice-container[_ngcontent-%COMP%]{width:100%!important;height:100vh!important;max-height:none!important;box-shadow:none!important;border-radius:0!important;margin:0!important;transform:none!important;page-break-after:avoid!important;page-break-inside:avoid!important;position:relative!important;display:flex!important;flex-direction:column!important;overflow:visible!important}.header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#042043,#57b6c7)!important;padding:25px!important;position:relative!important;overflow:hidden!important;page-break-inside:avoid!important}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff!important;font-size:36px!important;text-align:center!important;font-weight:600!important;margin:0!important}.content[_ngcontent-%COMP%]{padding:40px!important;flex:1!important;display:flex!important;flex-direction:column!important;justify-content:space-between!important}.total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{background:linear-gradient(90deg,#042043,#57b6c7)!important;color:#fff!important;padding:10px 20px!important;border-radius:4px!important;min-width:120px!important;text-align:center!important}.bg[_ngcontent-%COMP%]{background-image:url(https://res.cloudinary.com/dsiku9ipv/image/upload/v1758005640/invoice_template_knoldg_0_1_naflvj.png)!important;position:absolute!important;top:130px!important;left:50%!important;transform:translate(-50%,-50%)!important;background-repeat:no-repeat!important;z-index:10!important;background-position:center!important;height:100%!important;width:680px!important;opacity:.1!important}.no-print[_ngcontent-%COMP%]{display:none!important}.kt_header[_ngcontent-%COMP%], .kt_toolbar[_ngcontent-%COMP%], .kt_aside[_ngcontent-%COMP%], .kt_footer[_ngcontent-%COMP%], .primeng-header[_ngcontent-%COMP%], .p-toolbar[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], header[_ngcontent-%COMP%], .header[_ngcontent-%COMP%], .toolbar[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%], .app-header[_ngcontent-%COMP%], .app-toolbar[_ngcontent-%COMP%], .app-sidebar[_ngcontent-%COMP%], .app-nav[_ngcontent-%COMP%], .breadcrumb[_ngcontent-%COMP%], .page-header[_ngcontent-%COMP%], .kt_app_header[_ngcontent-%COMP%], .kt_app_toolbar[_ngcontent-%COMP%], .kt_app_aside[_ngcontent-%COMP%], .kt_app_footer[_ngcontent-%COMP%]{display:none!important}.logo-section[_ngcontent-%COMP%], .billing-section[_ngcontent-%COMP%], .services-table[_ngcontent-%COMP%], .totals-section[_ngcontent-%COMP%], .invoice-footer[_ngcontent-%COMP%], .service-row[_ngcontent-%COMP%]{page-break-inside:avoid!important}}"]})}return o})();function P(o,s){if(1&o&&(t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"span",7),t.EFF(4),t.k0s()(),t.j41(5,"div",8),t.EFF(6),t.k0s()()()),2&o){const n=t.XpG();t.R7$(4),t.JRh("ar"===n.lang?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"Loading..."),t.R7$(2),t.SpI(" ","ar"===n.lang?"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629...":"Loading invoice..."," ")}}function C(o,s){if(1&o){const n=t.RV6();t.j41(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"div",14)(6,"div",15),t.nrm(7,"i",16),t.k0s()(),t.j41(8,"h5",17),t.EFF(9),t.k0s(),t.j41(10,"p",18),t.EFF(11),t.k0s(),t.j41(12,"button",19),t.bIt("click",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.goBack())}),t.nrm(13,"i",20),t.EFF(14),t.k0s()()()()()()}if(2&o){const n=t.XpG();t.R7$(9),t.JRh("ar"===n.lang?"\u062e\u0637\u0623":"Error"),t.R7$(2),t.JRh(n.error),t.R7$(3),t.SpI(" ","ar"===n.lang?"\u0627\u0644\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u0627\u062a":"Back to Orders"," ")}}function O(o,s){if(1&o){const n=t.RV6();t.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"button",24),t.bIt("click",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.goBack())}),t.nrm(4,"i",20),t.EFF(5),t.k0s()()()()}if(2&o){const n=t.XpG();t.R7$(5),t.SpI(" ","ar"===n.lang?"\u0627\u0644\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u0627\u062a":"Back to Orders"," ")}}function y(o,s){if(1&o&&t.nrm(0,"app-invoice-viewer",25),2&o){const n=t.XpG();t.Y8G("invoiceData",n.invoiceData)}}let M=(()=>{class o extends f.${route;router;myOrdersService;profileService;invoiceData=null;isLoading=!0;error=null;constructor(n,i,e,c,a){super(n),this.route=i,this.router=e,this.myOrdersService=c,this.profileService=a}ngOnInit(){const n=this.route.snapshot.params.orderNo;n?this.loadInvoiceData(n):(this.error="ar"===this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628 \u0645\u0637\u0644\u0648\u0628":"Order number is required",this.isLoading=!1)}loadInvoiceData(n){this.isLoading=!0,this.error=null,(0,v.p)({orders:this.myOrdersService.getOrders(1).pipe((0,g.W)(()=>(0,m.of)({data:[],meta:{last_page:1}}))),meetingOrders:this.myOrdersService.getMeetingOrders(1).pipe((0,g.W)(()=>(0,m.of)({data:[],meta:{last_page:1}}))),userProfile:this.profileService.getProfile().pipe((0,g.W)(()=>(0,m.of)(null)))}).subscribe({next:({orders:i,meetingOrders:e,userProfile:c})=>{let a=i.data.find(l=>l.order_no===n||l.invoice_no===n);a||(a=e.data.find(l=>l.order_no===n||l.invoice_no===n)),a?this.invoiceData={order_no:a.order_no,invoice_no:a.invoice_no,date:a.date,amount:a.amount,service:a.service,suborders:a.suborders,userProfile:c}:this.error="ar"===this.lang?"\u0627\u0644\u0637\u0644\u0628 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f":"Order not found",this.isLoading=!1},error:i=>{console.error("Error loading invoice data:",i),this.error="ar"===this.lang?"\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629":"Error loading invoice data",this.isLoading=!1}})}goBack(){this.router.navigate(["/app/insighter-dashboard/my-orders"])}static \u0275fac=function(i){return new(i||o)(t.rXU(t.zZn),t.rXU(d.nX),t.rXU(d.Ix),t.rXU(b.B),t.rXU(h.p))};static \u0275cmp=t.VBU({type:o,selectors:[["app-invoice-page"]],features:[t.Vt3],decls:4,vars:4,consts:[["class","d-flex justify-content-center align-items-center","style","min-height: 70vh;",4,"ngIf"],["class","container-fluid py-5",4,"ngIf"],["class","no-print container-fluid py-3",4,"ngIf"],[3,"invoiceData",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"min-height","70vh"],[1,"text-center"],["role","status",1,"spinner-border","text-info",2,"width","4rem","height","4rem"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"container-fluid","py-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-body","text-center","py-10"],[1,"symbol","symbol-100px","mx-auto","mb-4"],[1,"symbol-label","bg-light-danger"],[1,"ki-outline","ki-cross-circle","fs-2x","text-danger"],[1,"mb-3","text-danger"],[1,"text-muted","mb-4"],["type","button",1,"btn","btn-info",3,"click"],[1,"ki-outline","ki-arrow-left","fs-6","me-2"],[1,"no-print","container-fluid","py-3"],[1,"row"],[1,"col-12"],["type","button",1,"btn","btn-light-info","btn-sm",3,"click"],[3,"invoiceData"]],template:function(i,e){1&i&&t.DNE(0,P,7,2,"div",0)(1,C,15,3,"div",1)(2,O,6,1,"div",2)(3,y,1,1,"app-invoice-viewer",3),2&i&&(t.Y8G("ngIf",e.isLoading),t.R7$(),t.Y8G("ngIf",e.error&&!e.isLoading),t.R7$(),t.Y8G("ngIf",e.invoiceData&&!e.isLoading),t.R7$(),t.Y8G("ngIf",e.invoiceData&&!e.isLoading))},dependencies:[p.bT,x],styles:["@media print{.no-print[_ngcontent-%COMP%]{display:none!important}}.spinner-border[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spinner-border .75s linear infinite}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}.symbol[_ngcontent-%COMP%]{transition:all .3s ease}.symbol[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.btn[_ngcontent-%COMP%]{transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #00000026}@media print{[_ngcontent-%COMP%]:global(.kt_header), [_ngcontent-%COMP%]:global(.kt_toolbar), [_ngcontent-%COMP%]:global(.kt_aside), [_ngcontent-%COMP%]:global(.kt_footer), [_ngcontent-%COMP%]:global(.kt_app_header), [_ngcontent-%COMP%]:global(.kt_app_toolbar), [_ngcontent-%COMP%]:global(.kt_app_aside), [_ngcontent-%COMP%]:global(.kt_app_footer), [_ngcontent-%COMP%]:global(.primeng-header), [_ngcontent-%COMP%]:global(.p-toolbar), [_ngcontent-%COMP%]:global(.navbar), [_ngcontent-%COMP%]:global(nav), [_ngcontent-%COMP%]:global(header), [_ngcontent-%COMP%]:global(.header), [_ngcontent-%COMP%]:global(.toolbar), [_ngcontent-%COMP%]:global(.sidebar), [_ngcontent-%COMP%]:global(.menu), [_ngcontent-%COMP%]:global(.navigation), [_ngcontent-%COMP%]:global(.app-header), [_ngcontent-%COMP%]:global(.app-toolbar), [_ngcontent-%COMP%]:global(.app-sidebar), [_ngcontent-%COMP%]:global(.app-nav), [_ngcontent-%COMP%]:global(.breadcrumb), [_ngcontent-%COMP%]:global(.page-header){display:none!important;visibility:hidden!important;opacity:0!important;height:0!important;overflow:hidden!important}[_ngcontent-%COMP%]:global(body){margin:0!important;padding:0!important;background:#fff!important}[_ngcontent-%COMP%]:global(body > *[_ngcontent-%COMP%]:not(app-root)){display:none!important}[_ngcontent-%COMP%]:global(app-root > *[_ngcontent-%COMP%]:not(router-outlet):not(app-invoice-page)){display:none!important}.no-print[_ngcontent-%COMP%]{display:none!important}}"]})}return o})(),k=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=t.$C({type:o});static \u0275inj=t.G2t({imports:[p.MD]})}return o})(),w=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=t.$C({type:o});static \u0275inj=t.G2t({imports:[p.MD,d.iI.forChild([{path:"",component:M}]),k]})}return o})()}}]);