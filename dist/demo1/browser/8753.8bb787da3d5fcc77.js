"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[8753],{8753:(K,d,a)=>{a.r(d),a.d(d,{InsighterWalletsModule:()=>z});var c=a(177),l=a(2791),g=a(5098),t=a(4438),p=a(1626),h=a(4412),u=a(8810),m=a(9437),_=a(980),b=a(779);let f=(()=>{class n{http;translationService;baseUrl="https://api.foresighta.co/api/admin/fund";isLoadingSubject=new h.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(e,i){this.http=e,this.translationService=i,this.translationService.onLanguageChange().subscribe(s=>{this.currentLang=s||"en"})}setLoading(e){this.isLoadingSubject.next(e)}getHeaders(){return new p.Lr({"Content-Type":"application/json",Accept:"application/json","Accept-Language":this.currentLang,"X-Timezone":Intl.DateTimeFormat().resolvedOptions().timeZone})}handleError(e){return(0,u.$)(e)}getInsighterWallets(e=1){const i=this.getHeaders();return this.setLoading(!0),this.http.get(`${this.baseUrl}/insighter?page=${e}`,{headers:i}).pipe((0,m.W)(s=>this.handleError(s)),(0,_.j)(()=>this.setLoading(!1)))}getInsighterTransactions(e,i=1){const s=this.getHeaders();return this.setLoading(!0),this.http.get(`${this.baseUrl}/insighter/transaction/${e}?page=${i}`,{headers:s}).pipe((0,m.W)(o=>this.handleError(o)),(0,_.j)(()=>this.setLoading(!1)))}static \u0275fac=function(i){return new(i||n)(t.KVO(p.Qq),t.KVO(b.L))};static \u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const v=()=>[];function x(n,r){1&n&&(t.j41(0,"div",3)(1,"div",4)(2,"span",5),t.EFF(3,"Loading..."),t.k0s()()())}function k(n,r){if(1&n&&t.nrm(0,"img",36),2&n){const e=t.XpG().$implicit;t.Y8G("src",e.profile_photo_url,t.B4B)}}function F(n,r){if(1&n&&(t.j41(0,"div",37),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.name.charAt(0)," ")}}function I(n,r){1&n&&t.nrm(0,"i",41)}function y(n,r){if(1&n&&(t.j41(0,"span",38)(1,"span",39),t.EFF(2),t.k0s(),t.DNE(3,I,1,0,"i",40),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(2),t.JRh(e.company.legal_name),t.R7$(),t.Y8G("ngIf",e.company.verified)}}function j(n,r){if(1&n&&(t.j41(0,"span",42),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.phone)}}function $(n,r){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"div",22)(3,"div",23),t.DNE(4,k,1,1,"img",24)(5,F,2,1,"div",25),t.k0s(),t.j41(6,"div",26)(7,"a",27),t.EFF(8),t.k0s(),t.DNE(9,y,4,2,"span",28),t.k0s()()(),t.j41(10,"td")(11,"div",0)(12,"span",29),t.EFF(13),t.k0s(),t.DNE(14,j,2,1,"span",30),t.k0s()(),t.j41(15,"td")(16,"span",31),t.EFF(17),t.k0s()(),t.j41(18,"td")(19,"div",22)(20,"span",29),t.EFF(21),t.k0s()()(),t.j41(22,"td")(23,"span",32),t.EFF(24),t.k0s()(),t.j41(25,"td",33)(26,"button",34),t.bIt("click",function(){const s=t.eBV(e).$implicit,o=t.XpG(2);return t.Njj(o.viewTransactions(s.id))}),t.nrm(27,"i",35),t.k0s()()()}if(2&n){const e=r.$implicit;t.R7$(4),t.Y8G("ngIf",e.profile_photo_url),t.R7$(),t.Y8G("ngIf",!e.profile_photo_url),t.R7$(3),t.JRh(e.name),t.R7$(),t.Y8G("ngIf",e.company),t.R7$(4),t.JRh(e.email),t.R7$(),t.Y8G("ngIf",e.phone),t.R7$(3),t.JRh(e.country),t.R7$(4),t.SpI("$",e.balance,""),t.R7$(3),t.JRh(e.payment_type),t.R7$(2),t.Y8G("title","View Transactions")}}function C(n,r){if(1&n){const e=t.RV6();t.j41(0,"li",46)(1,"a",47),t.bIt("click",function(){const s=t.eBV(e).index,o=t.XpG(3);return t.Njj(o.onPageChange(s+1))}),t.EFF(2),t.k0s()()}if(2&n){const e=r.index,i=t.XpG(3);t.AVh("active",i.currentPage===e+1),t.R7$(2),t.JRh(e+1)}}function E(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",43)(1,"div",44),t.EFF(2),t.k0s(),t.j41(3,"ul",45)(4,"li",46)(5,"a",47),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.currentPage>1&&s.onPageChange(s.currentPage-1))}),t.nrm(6,"i",48),t.k0s()(),t.DNE(7,C,3,3,"li",49),t.j41(8,"li",46)(9,"a",47),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.currentPage<s.totalPages&&s.onPageChange(s.currentPage+1))}),t.nrm(10,"i",50),t.k0s()()()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.E5c(" Showing ",10*(e.currentPage-1)+1," to ",e.Math.min(10*e.currentPage,e.totalItems)," of ",e.totalItems," entries "),t.R7$(2),t.AVh("disabled",1===e.currentPage),t.R7$(3),t.Y8G("ngForOf",t.lJ4(8,v).constructor(e.totalPages)),t.R7$(),t.AVh("disabled",e.currentPage===e.totalPages)}}function w(n,r){if(1&n&&(t.j41(0,"div",6)(1,"div",7)(2,"h3",8)(3,"span",9),t.EFF(4,"Insighter Wallets"),t.k0s(),t.j41(5,"span",10),t.EFF(6),t.k0s()()(),t.j41(7,"div",11)(8,"div",12)(9,"table",13)(10,"thead")(11,"tr",14)(12,"th",15),t.EFF(13,"Insighter"),t.k0s(),t.j41(14,"th",16),t.EFF(15,"Contact"),t.k0s(),t.j41(16,"th",17),t.EFF(17,"Location"),t.k0s(),t.j41(18,"th",17),t.EFF(19,"Balance"),t.k0s(),t.j41(20,"th",18),t.EFF(21,"Payment Type"),t.k0s(),t.j41(22,"th",19),t.EFF(23,"Actions"),t.k0s()()(),t.j41(24,"tbody"),t.DNE(25,$,28,10,"tr",20),t.k0s()()(),t.DNE(26,E,11,9,"div",21),t.k0s()()),2&n){const e=t.XpG();t.R7$(6),t.SpI("Total: ",e.totalItems," insighters"),t.R7$(19),t.Y8G("ngForOf",e.wallets),t.R7$(),t.Y8G("ngIf",e.totalPages>1)}}function P(n,r){1&n&&(t.j41(0,"div",6)(1,"div",51)(2,"div",52),t.nrm(3,"i",53),t.j41(4,"h3",54),t.EFF(5,"No Wallets Found"),t.k0s(),t.j41(6,"p",55),t.EFF(7," There are no insighter wallets to display at the moment. "),t.k0s()()()())}const R=()=>[];function M(n,r){1&n&&(t.j41(0,"div",3)(1,"div",4)(2,"span",5),t.EFF(3,"Loading..."),t.k0s()()())}function O(n,r){if(1&n&&(t.j41(0,"div",34)(1,"div",35)(2,"strong"),t.EFF(3,"Meeting:"),t.k0s(),t.EFF(4),t.k0s(),t.j41(5,"div",35)(6,"strong"),t.EFF(7,"Date:"),t.k0s(),t.EFF(8),t.k0s(),t.j41(9,"span"),t.EFF(10),t.nI1(11,"titlecase"),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.order.sub_orders[0].meeting_booking.title," "),t.R7$(4),t.E5c(" ",e.order.sub_orders[0].meeting_booking.date," ",e.order.sub_orders[0].meeting_booking.start_time," - ",e.order.sub_orders[0].meeting_booking.end_time," "),t.R7$(),t.HbH("badge badge-light-"+("pending"===e.order.sub_orders[0].meeting_booking.status?"warning":"info")),t.R7$(),t.SpI(" ",t.bMT(11,7,e.order.sub_orders[0].meeting_booking.status)," ")}}function G(n,r){if(1&n&&(t.j41(0,"div",35),t.nrm(1,"i",39),t.EFF(2),t.k0s()),2&n){const e=r.$implicit;t.R7$(2),t.E5c(" ",e.file_name,".",e.file_extension," - $",e.price," ")}}function L(n,r){if(1&n&&(t.j41(0,"div"),t.DNE(1,G,3,3,"div",38),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.Y8G("ngForOf",e)}}function D(n,r){if(1&n&&(t.j41(0,"div",32),t.DNE(1,L,2,1,"div",19),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngForOf",e.order.sub_orders[0].knowledge_documents)}}function S(n,r){if(1&n&&(t.j41(0,"div",34)(1,"div",35)(2,"strong"),t.EFF(3,"Knowledge:"),t.k0s(),t.EFF(4),t.k0s(),t.j41(5,"span",36),t.EFF(6),t.nI1(7,"titlecase"),t.k0s(),t.DNE(8,D,2,1,"div",37),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.order.sub_orders[0].knowledge[0].title," "),t.R7$(2),t.JRh(t.bMT(7,3,e.order.sub_orders[0].knowledge[0].type)),t.R7$(2),t.Y8G("ngIf",e.order.sub_orders[0].knowledge_documents)}}function X(n,r){if(1&n&&t.nrm(0,"img",40),2&n){const e=t.XpG().$implicit;t.Y8G("src",e.order.user.profile_photo_url,t.B4B)}}function N(n,r){if(1&n&&(t.j41(0,"div",41),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.order.user.name.charAt(0)," ")}}function W(n,r){if(1&n&&(t.j41(0,"span",42),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e)," ")}}function Y(n,r){if(1&n&&(t.j41(0,"tr")(1,"td")(2,"div",21)(3,"div",22)(4,"div",23),t.nrm(5,"i"),t.k0s()(),t.j41(6,"div",0)(7,"span",24),t.EFF(8),t.nI1(9,"titlecase"),t.k0s(),t.j41(10,"span",25),t.EFF(11),t.k0s()()()(),t.j41(12,"td")(13,"span"),t.EFF(14),t.k0s()(),t.j41(15,"td")(16,"span",26),t.EFF(17),t.nI1(18,"titlecase"),t.k0s()(),t.j41(19,"td")(20,"span",27),t.EFF(21),t.k0s()(),t.j41(22,"td")(23,"div",0)(24,"span",24),t.EFF(25),t.k0s(),t.j41(26,"span",25),t.EFF(27),t.k0s(),t.j41(28,"span"),t.EFF(29),t.nI1(30,"titlecase"),t.k0s(),t.DNE(31,O,12,9,"div",28)(32,S,9,5,"div",28),t.k0s()(),t.j41(33,"td")(34,"div",21)(35,"div",29),t.DNE(36,X,1,1,"img",30)(37,N,2,1,"div",31),t.k0s(),t.j41(38,"div",0)(39,"span",24),t.EFF(40),t.k0s(),t.j41(41,"span",25),t.EFF(42),t.k0s(),t.j41(43,"div",32),t.DNE(44,W,3,3,"span",33),t.k0s()()()()()),2&n){const e=r.$implicit,i=t.XpG(2);t.R7$(5),t.HbH("ki-outline "+i.getTransactionIcon(e)+" fs-3"),t.R7$(3),t.JRh(t.bMT(9,21,e.transaction)),t.R7$(3),t.JRh(i.getTransactionTypeDisplay(e.type)),t.R7$(2),t.HbH("fw-bold fs-6 "+("deposit"===e.transaction?"text-success":"text-danger")),t.R7$(),t.SpI(" ",i.getAmountDisplay(e)," "),t.R7$(3),t.JRh(t.bMT(18,23,e.order.service)),t.R7$(4),t.JRh(i.formatDate(e.date)),t.R7$(4),t.JRh(e.order.order_no),t.R7$(2),t.JRh(e.order.invoice_no),t.R7$(),t.HbH("badge badge-light-"+("paid"===e.order.status?"success":"warning")+" mt-1"),t.R7$(),t.SpI(" ",t.bMT(30,25,e.order.status)," "),t.R7$(2),t.Y8G("ngIf",e.order.sub_orders&&(null==e.order.sub_orders[0]?null:e.order.sub_orders[0].meeting_booking)),t.R7$(),t.Y8G("ngIf",e.order.sub_orders&&(null==e.order.sub_orders[0]?null:e.order.sub_orders[0].knowledge)),t.R7$(4),t.Y8G("ngIf",e.order.user.profile_photo_url),t.R7$(),t.Y8G("ngIf",!e.order.user.profile_photo_url),t.R7$(3),t.JRh(e.order.user.name),t.R7$(2),t.JRh(e.order.user.email),t.R7$(2),t.Y8G("ngForOf",e.order.user.roles)}}function V(n,r){if(1&n){const e=t.RV6();t.j41(0,"li",46)(1,"a",47),t.bIt("click",function(){const s=t.eBV(e).index,o=t.XpG(3);return t.Njj(o.onPageChange(s+1))}),t.EFF(2),t.k0s()()}if(2&n){const e=r.index,i=t.XpG(3);t.AVh("active",i.currentPage===e+1),t.R7$(2),t.JRh(e+1)}}function J(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",43)(1,"div",44),t.EFF(2),t.k0s(),t.j41(3,"ul",45)(4,"li",46)(5,"a",47),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.currentPage>1&&s.onPageChange(s.currentPage-1))}),t.nrm(6,"i",48),t.k0s()(),t.DNE(7,V,3,3,"li",49),t.j41(8,"li",46)(9,"a",47),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.currentPage<s.totalPages&&s.onPageChange(s.currentPage+1))}),t.nrm(10,"i",50),t.k0s()()()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.E5c(" Showing ",10*(e.currentPage-1)+1," to ",e.Math.min(10*e.currentPage,e.totalItems)," of ",e.totalItems," entries "),t.R7$(2),t.AVh("disabled",1===e.currentPage),t.R7$(3),t.Y8G("ngForOf",t.lJ4(8,R).constructor(e.totalPages)),t.R7$(),t.AVh("disabled",e.currentPage===e.totalPages)}}function A(n,r){if(1&n&&(t.j41(0,"div",6)(1,"div",7)(2,"h3",8)(3,"span",9),t.EFF(4,"Transactions"),t.k0s(),t.j41(5,"span",10),t.EFF(6),t.k0s()()(),t.j41(7,"div",11)(8,"div",12)(9,"table",13)(10,"thead")(11,"tr",14)(12,"th",15),t.EFF(13,"Transaction"),t.k0s(),t.j41(14,"th",16),t.EFF(15,"Amount"),t.k0s(),t.j41(16,"th",16),t.EFF(17,"Type"),t.k0s(),t.j41(18,"th",17),t.EFF(19,"Date"),t.k0s(),t.j41(20,"th",18),t.EFF(21,"Order Details"),t.k0s(),t.j41(22,"th",15),t.EFF(23,"Customer"),t.k0s()()(),t.j41(24,"tbody"),t.DNE(25,Y,45,27,"tr",19),t.k0s()()(),t.DNE(26,J,11,9,"div",20),t.k0s()()),2&n){const e=t.XpG();t.R7$(6),t.SpI("Total: ",e.totalItems," transactions"),t.R7$(19),t.Y8G("ngForOf",e.transactions),t.R7$(),t.Y8G("ngIf",e.totalPages>1)}}function B(n,r){1&n&&(t.j41(0,"div",6)(1,"div",51)(2,"div",52),t.nrm(3,"i",53),t.j41(4,"h3",54),t.EFF(5,"No Transactions Found"),t.k0s(),t.j41(6,"p",55),t.EFF(7," This insighter has no transaction history yet. "),t.k0s()()()())}const H=[{path:"",component:(()=>{class n extends g.${fundService;router;wallets=[];isLoading$;currentPage=1;totalPages=1;totalItems=0;Math=Math;constructor(e,i,s){super(e),this.fundService=i,this.router=s,this.isLoading$=this.fundService.isLoading$}ngOnInit(){this.loadWallets()}loadWallets(e=1){this.currentPage=e,this.unsubscribe.push(this.fundService.getInsighterWallets(e).subscribe({next:i=>{this.wallets=i.data,this.totalPages=i.meta.last_page,this.totalItems=i.meta.total},error:i=>{this.handleServerErrors(i)}}))}viewTransactions(e){this.router.navigate(["/admin-dashboard/admin/fund/insighter-wallets/transactions",e])}onPageChange(e){this.loadWallets(e)}handleServerErrors(e){if(e.error&&e.error.errors){const i=e.error.errors;for(const s in i)i.hasOwnProperty(s)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",i[s].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(f),t.rXU(l.Ix))};static \u0275cmp=t.VBU({type:n,selectors:[["app-insighter-wallets-list"]],features:[t.Vt3],decls:7,vars:9,consts:[[1,"d-flex","flex-column"],["class","d-flex justify-content-center align-items-center","style","min-height: 300px;",4,"ngIf"],["class","card",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"min-height","300px"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"],[1,"card"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bold","fs-3","mb-1"],[1,"text-muted","mt-1","fw-semibold","fs-7"],[1,"card-body","py-3"],[1,"table-responsive"],[1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],[1,"fw-bold","text-muted"],[1,"min-w-150px"],[1,"min-w-140px"],[1,"min-w-120px"],[1,"min-w-100px"],[1,"min-w-100px","text-end"],[4,"ngFor","ngForOf"],["class","d-flex flex-stack flex-wrap pt-10",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-45px","me-5"],["alt","","style","object-fit: cover; object-position: top;",3,"src",4,"ngIf"],["class","symbol-label bg-light-info text-info fw-bold",4,"ngIf"],[1,"d-flex","justify-content-start","flex-column"],["href","javascript:void(0)",1,"text-dark","fw-bold","text-hover-primary","fs-6"],["class","text-muted fw-semibold text-muted d-block fs-7",4,"ngIf"],[1,"text-dark","fw-bold","fs-6"],["class","text-muted fw-semibold fs-7",4,"ngIf"],[1,"text-dark","fw-semibold","fs-6"],[1,"badge","badge-light-info","text-capitalize"],[1,"text-end"],[1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click","title"],[1,"ki-outline","ki-eye","fs-2"],["alt","",2,"object-fit","cover","object-position","top",3,"src"],[1,"symbol-label","bg-light-info","text-info","fw-bold"],[1,"text-muted","fw-semibold","text-muted","d-block","fs-7"],[1,"badge","badge-light-info"],["class","ki-outline ki-verify fs-7 text-success ms-1",4,"ngIf"],[1,"ki-outline","ki-verify","fs-7","text-success","ms-1"],[1,"text-muted","fw-semibold","fs-7"],[1,"d-flex","flex-stack","flex-wrap","pt-10"],[1,"fs-6","fw-semibold","text-gray-700"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],[1,"previous"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"next"],[1,"card-body","text-center","py-15"],[1,"text-center"],[1,"ki-outline","ki-wallet","fs-4x","text-muted","mb-5"],[1,"text-gray-800","fs-2","fw-bold","mb-3"],[1,"text-gray-500","fs-6","fw-semibold","mb-0"]],template:function(i,s){1&i&&(t.j41(0,"div",0),t.DNE(1,x,4,0,"div",1),t.nI1(2,"async"),t.DNE(3,w,27,3,"div",2),t.nI1(4,"async"),t.DNE(5,P,8,0,"div",2),t.nI1(6,"async"),t.k0s()),2&i&&(t.R7$(),t.Y8G("ngIf",t.bMT(2,3,s.isLoading$)),t.R7$(2),t.Y8G("ngIf",!t.bMT(4,5,s.isLoading$)),t.R7$(2),t.Y8G("ngIf",!t.bMT(6,7,s.isLoading$)&&0===s.wallets.length))},dependencies:[c.Sq,c.bT,c.Jj],styles:[".table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--bs-gray-600);border-bottom:1px solid var(--bs-gray-200)}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .75rem;border-bottom:1px solid var(--bs-gray-100)}.table[_ngcontent-%COMP%]   .symbol[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{border:none;color:var(--bs-gray-500);padding:.5rem .75rem;margin:0 .25rem;border-radius:.475rem}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:var(--bs-light-info);color:var(--bs-info)}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:var(--bs-info);color:#fff}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:var(--bs-gray-300);cursor:not-allowed}.card[_ngcontent-%COMP%]{box-shadow:0 .1rem 1rem .25rem #0000000d;border:1px solid var(--bs-gray-200)}.btn-icon[_ngcontent-%COMP%]{width:35px;height:35px;display:inline-flex;align-items:center;justify-content:center}.badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500}"]})}return n})()},{path:"transactions/:id",component:(()=>{class n extends g.${fundService;route;router;transactions=[];isLoading$;insighterId;currentPage=1;totalPages=1;totalItems=0;Math=Math;constructor(e,i,s,o){super(e),this.fundService=i,this.route=s,this.router=o,this.isLoading$=this.fundService.isLoading$}ngOnInit(){this.route.params.subscribe(e=>{this.insighterId=+e.id,this.loadTransactions()})}loadTransactions(e=1){this.currentPage=e,this.unsubscribe.push(this.fundService.getInsighterTransactions(this.insighterId,e).subscribe({next:i=>{this.transactions=i.data,this.totalPages=i.meta.last_page,this.totalItems=i.meta.total},error:i=>{this.handleServerErrors(i)}}))}goBack(){this.router.navigate(["/admin-dashboard/admin/fund/insighter-wallets"])}onPageChange(e){this.loadTransactions(e)}getTransactionTypeDisplay(e){return{income_meeting:"Meeting Income",income_knowledge:"Knowledge Sale",book_meeting:"Meeting Booking",withdraw:"Withdrawal",deposit:"Deposit"}[e]||e}getTransactionIcon(e){return"deposit"===e.transaction?"ki-arrow-down text-success":"ki-arrow-up text-danger"}getAmountDisplay(e){return`${"deposit"===e.transaction?"+":""}$${Math.abs(e.amount)}`}formatDate(e){const i=new Date(e);return i.toLocaleDateString()+" "+i.toLocaleTimeString()}handleServerErrors(e){if(e.error&&e.error.errors){const i=e.error.errors;for(const s in i)i.hasOwnProperty(s)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",i[s].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(f),t.rXU(l.nX),t.rXU(l.Ix))};static \u0275cmp=t.VBU({type:n,selectors:[["app-insighter-transactions"]],features:[t.Vt3],decls:7,vars:9,consts:[[1,"d-flex","flex-column"],["class","d-flex justify-content-center align-items-center","style","min-height: 300px;",4,"ngIf"],["class","card",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"min-height","300px"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"],[1,"card"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bold","fs-3","mb-1"],[1,"text-muted","mt-1","fw-semibold","fs-7"],[1,"card-body","py-3"],[1,"table-responsive"],[1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],[1,"fw-bold","text-muted"],[1,"min-w-150px"],[1,"min-w-140px"],[1,"min-w-120px"],[1,"min-w-200px"],[4,"ngFor","ngForOf"],["class","d-flex flex-stack flex-wrap pt-10",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-40px","me-3"],[1,"symbol-label","bg-light"],[1,"text-dark","fw-bold","fs-6"],[1,"text-muted","fw-semibold","fs-7"],[1,"badge","badge-light-info"],[1,"text-dark","fw-semibold","fs-6"],["class","mt-2",4,"ngIf"],[1,"symbol","symbol-35px","me-3"],["alt","",3,"src",4,"ngIf"],["class","symbol-label bg-light-primary text-primary fw-bold",4,"ngIf"],[1,"mt-1"],["class","badge badge-light-success me-1",4,"ngFor","ngForOf"],[1,"mt-2"],[1,"text-muted","fs-7"],[1,"badge","badge-light-primary"],["class","mt-1",4,"ngIf"],["class","text-muted fs-7",4,"ngFor","ngForOf"],[1,"ki-outline","ki-document","fs-7"],["alt","",3,"src"],[1,"symbol-label","bg-light-primary","text-primary","fw-bold"],[1,"badge","badge-light-success","me-1"],[1,"d-flex","flex-stack","flex-wrap","pt-10"],[1,"fs-6","fw-semibold","text-gray-700"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],[1,"previous"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"next"],[1,"card-body","text-center","py-15"],[1,"text-center"],[1,"ki-outline","ki-finance-calculator","fs-4x","text-muted","mb-5"],[1,"text-gray-800","fs-2","fw-bold","mb-3"],[1,"text-gray-500","fs-6","fw-semibold","mb-0"]],template:function(i,s){1&i&&(t.j41(0,"div",0),t.DNE(1,M,4,0,"div",1),t.nI1(2,"async"),t.DNE(3,A,27,3,"div",2),t.nI1(4,"async"),t.DNE(5,B,8,0,"div",2),t.nI1(6,"async"),t.k0s()),2&i&&(t.R7$(),t.Y8G("ngIf",t.bMT(2,3,s.isLoading$)),t.R7$(2),t.Y8G("ngIf",!t.bMT(4,5,s.isLoading$)),t.R7$(2),t.Y8G("ngIf",!t.bMT(6,7,s.isLoading$)&&0===s.transactions.length))},dependencies:[c.Sq,c.bT,c.Jj,c.PV],styles:[".table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--bs-gray-600);border-bottom:1px solid var(--bs-gray-200)}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .75rem;border-bottom:1px solid var(--bs-gray-100)}.table[_ngcontent-%COMP%]   .symbol[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{border:none;color:var(--bs-gray-500);padding:.5rem .75rem;margin:0 .25rem;border-radius:.475rem}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:var(--bs-light-info);color:var(--bs-info)}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:var(--bs-info);color:#fff}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:var(--bs-gray-300);cursor:not-allowed}.card[_ngcontent-%COMP%]{box-shadow:0 .1rem 1rem .25rem #0000000d;border:1px solid var(--bs-gray-200)}.badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500}.text-success[_ngcontent-%COMP%]{color:var(--bs-success)!important}.text-danger[_ngcontent-%COMP%]{color:var(--bs-danger)!important}.order-details[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:1px solid var(--bs-gray-100)}.order-details[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]:last-child{border-bottom:none}"]})}return n})()}];let U=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[l.iI.forChild(H),l.iI]})}return n})(),z=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[c.MD,U]})}return n})()}}]);