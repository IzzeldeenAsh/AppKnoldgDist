"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[7235],{7235:(rn,j,p)=>{p.r(j),p.d(j,{WizardsModule:()=>on});var h=p(177),d=p(9417),P=p(4187),I=p(2791),f=p(4412);const w={accountType:"personal",phoneCountryCode:{text:"\u{1f1fa}\u{1f1f8} +1   United States",code:"+1",country:"US"},phoneNumber:null,consultingFields:[],isicCodes:[],country:null,bio:"",phoneCompanyNumber:"",legalName:"",companyAddress:"",website:"",registerDocument:null,logo:null,aboutCompany:"",certifications:[],verificationMethod:"websiteEmail",companyEmail:"",code:"",insighterAgreement:!1,companyAgreement:!1};var e=p(4438),V=p(1774),X=p(8359),v=p(3955),T=p(6360);function z(i,l){1&i&&(e.j41(0,"div",17)(1,"div",18)(2,"span",19),e.EFF(3),e.nI1(4,"translate"),e.k0s()()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACCOUNT_TYPE_REQUIRED")," "))}let y=(()=>{class i{fb;translateService;commonService;insighterLink="";updateParentModel;defaultValues;form;subscriptions=new X.yU;constructor(t,n,o){this.fb=t,this.translateService=n,this.commonService=o}ngOnInit(){this.initForm(),this.updateParentModel(this.defaultValues,this.form.valid),this.insighterLink="ar"===this.translateService.currentLang?"https://foresighta.co/ar/insighter":"https://foresighta.co/en/insighter"}initForm(){this.form=this.fb.group({accountType:[this.defaultValues.accountType,[d.k0.required]]});const t=this.form.valueChanges.subscribe(o=>{this.updateParentModel(o,this.form.valid)}),n=this.form.get("accountType").valueChanges.subscribe(o=>{o!==this.defaultValues.accountType&&this.resetDefaultValues(o)});this.subscriptions.add(t),this.subscriptions.add(n)}resetDefaultValues(t){this.updateParentModel({accountType:t,phoneNumber:null,consultingFields:[],isicCodes:[],phoneCountryCode:{text:"",code:"",country:""},bio:"personal"===t?"":void 0,legalName:"corporate"===t?"":void 0,website:"corporate"===t?"":void 0,registerDocument:null,aboutCompany:"corporate"===t?"":void 0,certifications:[]},this.form.valid)}ngOnDestroy(){this.subscriptions.unsubscribe()}validateAndMarkTouched(){return Object.keys(this.form.controls).forEach(t=>{this.form.get(t)?.markAsTouched()}),this.form.valid}getCompanySection(){this.commonService.getCompanySection()}getInsighterSection(){this.commonService.resetCompanySection()}static \u0275fac=function(n){return new(n||i)(e.rXU(d.ok),e.rXU(v.c$),e.rXU(T.h))};static \u0275cmp=e.VBU({type:i,selectors:[["app-step1"]],inputs:{updateParentModel:"updateParentModel",defaultValues:"defaultValues"},decls:33,vars:20,consts:[[1,"pb-10","pb-lg-15"],[1,"fw-bolder","d-flex","align-items-center","text-gray-900"],[1,"fas","fa-exclamation-circle","mx-2","fs-7",3,"ngbTooltip"],[1,"fv-row",3,"formGroup"],[1,"row"],[1,"col-lg-6"],["formControlName","accountType","name","accountType","type","radio","id","kt_create_account_form_account_type_personal","value","personal",1,"btn-check"],["for","kt_create_account_form_account_type_personal",1,"btn","btn-outline","btn-outline-dashed","btn-outline-default","p-7","d-flex","align-items-center","choose-account","mb-10"],["name","address-book",1,"fs-1","me-5"],[1,"d-block","fw-bold","text-inline-start",3,"click"],[1,"text-gray-900","text-inline-start","fw-bolder","d-block","fs-4","mb-2"],[1,"text-gray-500","fw-bold","fs-6"],["formControlName","accountType","name","accountType","type","radio","id","kt_create_account_form_account_type_corporate","value","corporate",1,"btn-check"],["for","kt_create_account_form_account_type_corporate",1,"btn","btn-outline","btn-outline-dashed","btn-outline-default","p-7","d-flex","choose-account","align-items-center"],["name","briefcase",1,"fs-1","mx-2"],[1,"fv-plugins-message-container","invalid-feedback"],["class","fv-plugins-message-container",4,"ngIf"],[1,"fv-plugins-message-container"],[1,"fv-help-block"],["role","alert",1,"text-danger"]],template:function(n,o){if(1&n&&(e.j41(0,"div",0),e.nrm(1,"div"),e.j41(2,"h2",1),e.EFF(3),e.nI1(4,"translate"),e.nrm(5,"i",2),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"div",3)(8,"div",4)(9,"div",5),e.nrm(10,"input",6),e.j41(11,"label",7),e.nrm(12,"app-keenicon",8),e.j41(13,"span",9),e.bIt("click",function(){return o.getInsighterSection()}),e.j41(14,"span",10),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"span",11),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"div",5),e.nrm(21,"input",12),e.j41(22,"label",13),e.nrm(23,"app-keenicon",14),e.j41(24,"span",9),e.bIt("click",function(){return o.getCompanySection()}),e.j41(25,"span",10),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"span",11),e.EFF(29),e.nI1(30,"translate"),e.k0s()()()(),e.j41(31,"div",15),e.DNE(32,z,5,3,"div",16),e.k0s()()()),2&n){let r;e.R7$(3),e.SpI(" ",e.bMT(4,8,"INSIGHTER_WIZARD.CHOOSE_ACCOUNT_TYPE")," "),e.R7$(2),e.Y8G("ngbTooltip",e.bMT(6,10,"CHOOSE_ACCOUNT_TYPE_TIP_DESC")),e.R7$(2),e.Y8G("formGroup",o.form),e.R7$(8),e.SpI(" ",e.bMT(16,12,"INSIGHTER_WIZARD.PERSONAL_ACCOUNT")," "),e.R7$(3),e.SpI(" ",e.bMT(19,14,"INSIGHTER_WIZARD.PERSONAL_ACCOUNT_DESC")," "),e.R7$(8),e.SpI(" ",e.bMT(27,16,"INSIGHTER_WIZARD.CORPORATE_ACCOUNT")," "),e.R7$(3),e.SpI(" ",e.bMT(30,18,"INSIGHTER_WIZARD.CORPORATE_ACCOUNT_DESC")," "),e.R7$(3),e.Y8G("ngIf",(null==(r=o.form.get("accountType"))?null:r.invalid)&&(null==(r=o.form.get("accountType"))?null:r.touched))}},dependencies:[h.bT,d.me,d.Fm,d.BC,d.cb,d.j4,d.JD,P.md,V.w,v.D9],encapsulation:2})}return i})();var _=p(7673),L=p(1584),C=p(6354),Z=p(7468),b=p(1626),q=p(5558),M=p(9437),Q=p(8688),E=p(4133),J=p(9634),K=p(2016),Y=p(5653),H=p(8706),x=p(2609),U=p(8833),D=p(5779),ee=p(9830);const te=()=>["names.en","names.ar","international_code"];function ne(i,l){if(1&i){const t=e.RV6();e.j41(0,"img",11),e.bIt("error",function(){e.eBV(t);const o=e.XpG().$implicit,r=e.XpG();return e.Njj(r.onFlagError(o))}),e.k0s()}if(2&i){const t=e.XpG().$implicit,n=e.XpG();e.HbH("flag-icon w-20px "+("ar"===n.lang?"ms-2":"me-2")),e.FS9("alt",t.names.en),e.Y8G("src","../../../../assets/media/flags/"+t.flag+".svg",e.B4B)}}function oe(i,l){if(1&i&&(e.j41(0,"span",12),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.names.en)}}function ie(i,l){if(1&i&&(e.j41(0,"span",12),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.names.ar)}}function re(i,l){if(1&i&&(e.j41(0,"div",7),e.DNE(1,ne,1,4,"img",8),e.j41(2,"span",9),e.EFF(3),e.k0s(),e.DNE(4,oe,2,1,"span",10)(5,ie,2,1,"span",10),e.k0s()),2&i){const t=l.$implicit,n=e.XpG();e.HbH("ar"===n.lang?"rtl-country-option":"ltr-country-option"),e.R7$(),e.Y8G("ngIf",t.showFlag),e.R7$(2),e.SpI("(+",t.international_code,")"),e.R7$(),e.Y8G("ngIf","en"===n.lang),e.R7$(),e.Y8G("ngIf","ar"===n.lang)}}function ae(i,l){if(1&i){const t=e.RV6();e.j41(0,"img",11),e.bIt("error",function(){e.eBV(t);const o=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.onFlagError(o))}),e.k0s()}if(2&i){const t=e.XpG(2).$implicit,n=e.XpG();e.HbH("flag-icon w-20px "+("ar"===n.lang?"ms-2":"me-2")),e.FS9("alt",t.names.en),e.Y8G("src","../../../../assets/media/flags/"+t.flag+".svg",e.B4B)}}function se(i,l){if(1&i&&(e.j41(0,"div",14),e.DNE(1,ae,1,4,"img",8),e.j41(2,"span",9),e.EFF(3),e.k0s()()),2&i){const t=e.XpG().$implicit,n=e.XpG();e.HbH("ar"===n.lang?"rtl-selected-option":"ltr-selected-option"),e.R7$(),e.Y8G("ngIf",t.showFlag),e.R7$(2),e.SpI("(+",t.international_code,")")}}function le(i,l){1&i&&e.DNE(0,se,4,4,"div",13),2&i&&e.Y8G("ngIf",l.$implicit)}function ce(i,l){if(1&i&&(e.j41(0,"div",17),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.countryCodeError," ")}}function de(i,l){if(1&i&&(e.j41(0,"div",17),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.phoneNumberError," ")}}function pe(i,l){if(1&i&&(e.j41(0,"div",15),e.DNE(1,ce,2,1,"div",16)(2,de,2,1,"div",16),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.countryCodeError),e.R7$(),e.Y8G("ngIf",t.phoneNumberError)}}let ue=(()=>{class i{countries=[];placeholder="Your phone number";searchPlaceholder="Search countries...";lang="en";disabled=!1;isRequired=!1;showValidationErrors=!0;countryCodeError="";phoneNumberError="";countryCodeChange=new e.bkB;phoneNumberChange=new e.bkB;flagError=new e.bkB;value="";countryCode="";currentMask="000-000-0000";currentPlaceholder="123-456-7890";phoneMasks={default:{mask:"000-000-0000",pattern:/^\d{3}-\d{3}-\d{4}$/},1:{mask:"000-000-0000",pattern:/^\d{3}-\d{3}-\d{4}$/},44:{mask:"0000-000000",pattern:/^\d{4}-\d{6}$/},966:{mask:"0-0000-0000",pattern:/^\d{1}-\d{4}-\d{4}$/},971:{mask:"0-0000-0000",pattern:/^\d{1}-\d{4}-\d{4}$/},20:{mask:"00-0000-0000",pattern:/^\d{2}-\d{4}-\d{4}$/},962:{mask:"0-0000-0000",pattern:/^\d{1}-\d{4}-\d{4}$/},961:{mask:"0-0000-0000",pattern:/^\d{1}-\d{4}-\d{4}$/},33:{mask:"00-00-00-00-00",pattern:/^\d{2}-\d{2}-\d{2}-\d{2}-\d{2}$/},49:{mask:"0000-0000000",pattern:/^\d{4}-\d{7}$/},39:{mask:"000-0000000",pattern:/^\d{3}-\d{7}$/}};placeholderExamples={default:"123-456-7890",1:"123-456-7890",44:"1234-567890",966:"5-1234-5678",971:"5-1234-5678",20:"12-3456-7890",962:"7-1234-5678",961:"3-1234-5678",33:"12-34-56-78-90",49:"1234-5678901",39:"123-4567890"};onChange=t=>{};onTouched=()=>{};constructor(){}ngOnInit(){this.updateMask(),this.updatePlaceholder()}writeValue(t){this.value=t||""}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}onCountryCodeChange(t){this.countryCode=t,this.updateMask(),this.updatePlaceholder(),this.countryCodeChange.emit(t)}onPhoneNumberInput(t){const n=t.replace(/\D/g,"");this.value=n,this.onChange(n),this.phoneNumberChange.emit(n),this.onTouched()}onFlagError(t){this.flagError.emit(t)}updateMask(){this.currentMask=this.phoneMasks[this.countryCode]?.mask||this.phoneMasks.default.mask}updatePlaceholder(){this.currentPlaceholder=this.placeholderExamples[this.countryCode]||this.placeholderExamples.default}isValidPhoneNumber(){const t=this.phoneMasks[this.countryCode]?.pattern||this.phoneMasks.default.pattern,n=this.formatValueForValidation(this.value);return t.test(n)}formatValueForValidation(t){const n=t.replace(/\D/g,""),o=this.currentMask;let r="",s=0;for(let c=0;c<o.length&&s<n.length;c++)"0"===o[c]?(r+=n[s],s++):r+=o[c];return r}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=e.VBU({type:i,selectors:[["app-phone-number-input"]],inputs:{countries:"countries",placeholder:"placeholder",searchPlaceholder:"searchPlaceholder",lang:"lang",disabled:"disabled",isRequired:"isRequired",showValidationErrors:"showValidationErrors",countryCodeError:"countryCodeError",phoneNumberError:"phoneNumberError"},outputs:{countryCodeChange:"countryCodeChange",phoneNumberChange:"phoneNumberChange",flagError:"flagError"},features:[e.Jv_([{provide:d.kq,useExisting:(0,e.Rfq)(()=>i),multi:!0}])],decls:7,vars:17,consts:[[1,"input-group"],[1,"max-width-200px"],["optionValue","international_code","filterPlaceholder","Search countries...",1,"d-block","form-p-control","no-border-radius-start-end",3,"ngModelChange","options","ngModel","dataKey","placeholder","filter","showClear","disabled","filterFields"],["pTemplate","item"],["pTemplate","selectedItem"],["type","text",1,"form-control","no-rtl-b-radius",3,"ngModelChange","placeholder","disabled","mask","ngModel","dropSpecialCharacters"],["class","fv-plugins-message-container",4,"ngIf"],[1,"country-option"],[3,"src","alt","class","error",4,"ngIf"],[1,"country-code"],["class","country-name ms-2",4,"ngIf"],[3,"error","src","alt"],[1,"country-name","ms-2"],["class","selected-country-option",3,"class",4,"ngIf"],[1,"selected-country-option"],[1,"fv-plugins-message-container"],["class","invalid-feedback d-block",4,"ngIf"],[1,"invalid-feedback","d-block"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"p-dropdown",2),e.bIt("ngModelChange",function(s){return o.onCountryCodeChange(s)}),e.DNE(3,re,6,6,"ng-template",3)(4,le,1,1,"ng-template",4),e.k0s()(),e.j41(5,"input",5),e.bIt("ngModelChange",function(s){return o.onPhoneNumberInput(s)}),e.k0s()(),e.DNE(6,pe,3,2,"div",6)),2&n&&(e.R7$(2),e.Y8G("options",o.countries)("ngModel",o.countryCode)("dataKey","international_code")("placeholder",o.searchPlaceholder)("filter",!0)("showClear",!0)("disabled",o.disabled)("filterFields",e.lJ4(16,te)),e.R7$(3),e.Y8G("placeholder",o.currentPlaceholder)("disabled",o.disabled)("mask",o.currentMask)("ngModel",o.value)("dropSpecialCharacters",!1),e.BMQ("aria-required",o.isRequired)("aria-invalid",o.showValidationErrors&&(o.countryCodeError||o.phoneNumberError)),e.R7$(),e.Y8G("ngIf",o.showValidationErrors))},dependencies:[h.bT,d.me,d.BC,d.vS,U.ms,D.Ei,ee.Zr],styles:[".max-width-200px[_ngcontent-%COMP%]{max-width:250px;width:250px}.country-option[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem}.ltr-country-option[_ngcontent-%COMP%]{direction:ltr;text-align:left}.rtl-country-option[_ngcontent-%COMP%]{direction:rtl;text-align:right}.selected-country-option[_ngcontent-%COMP%]{display:flex;align-items:center}.ltr-selected-option[_ngcontent-%COMP%]{direction:ltr;text-align:left}.rtl-selected-option[_ngcontent-%COMP%]{direction:rtl;text-align:right}.flag-icon[_ngcontent-%COMP%]{width:20px;height:auto;border-radius:2px;object-fit:cover}.country-code[_ngcontent-%COMP%]{font-weight:500;color:#6c757d}.country-name[_ngcontent-%COMP%]{color:#495057}.no-rtl-b-radius[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.form-p-control.no-border-radius-start-end[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important}.input-group[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;width:1%;min-width:0;margin-bottom:0}.invalid-feedback[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}[dir=rtl][_ngcontent-%COMP%]   .ltr-country-option[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .ltr-selected-option[_ngcontent-%COMP%]{direction:rtl;text-align:right}[dir=rtl][_ngcontent-%COMP%]   .rtl-country-option[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .rtl-selected-option[_ngcontent-%COMP%]{direction:ltr;text-align:left}[dir=rtl][_ngcontent-%COMP%]   .no-rtl-b-radius[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-top-left-radius:.375rem!important;border-bottom-left-radius:.375rem!important}[dir=rtl][_ngcontent-%COMP%]   .form-p-control.no-border-radius-start-end[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important;border-top-right-radius:.375rem!important;border-bottom-right-radius:.375rem!important}"]})}return i})();const me=["fileInput"];function ge(i,l){1&i&&(e.j41(0,"div",2),e.nrm(1,"span",3),e.k0s())}function he(i,l){1&i&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.CONSULTING_FIELDS_REQUIRED")," "))}function fe(i,l){1&i&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.INDUSTRY_REQUIRED")," "))}function _e(i,l){1&i&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.BIO_REQUIRED")," "))}function be(i,l){1&i&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COUNTRY_REQUIRED")," "))}function ve(i,l){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div",7)(2,"div",8)(3,"shared-tree-selector",9),e.nI1(4,"translate"),e.nI1(5,"translate"),e.nI1(6,"translate"),e.nI1(7,"translate"),e.nI1(8,"translate"),e.bIt("nodesSelected",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onConsultingNodesSelected(o))}),e.k0s(),e.DNE(9,he,3,3,"div",10),e.k0s(),e.j41(10,"div",8)(11,"shared-tree-selector",11),e.nI1(12,"translate"),e.nI1(13,"translate"),e.nI1(14,"translate"),e.nI1(15,"translate"),e.nI1(16,"translate"),e.bIt("nodesSelected",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onIndustrySelected(o))}),e.k0s(),e.DNE(17,fe,3,3,"div",10),e.k0s()(),e.j41(18,"div",12)(19,"label",13),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"div",14)(23,"div",15),e.nrm(24,"textarea",16),e.k0s()(),e.DNE(25,_e,3,3,"div",10),e.k0s(),e.j41(26,"div",12)(27,"label",13),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.nrm(30,"app-country-dropdown",17),e.nI1(31,"translate"),e.DNE(32,be,3,3,"div",10),e.k0s(),e.j41(33,"div",12)(34,"label",18),e.EFF(35),e.nI1(36,"translate"),e.j41(37,"span",19),e.EFF(38),e.nI1(39,"translate"),e.k0s()(),e.j41(40,"app-phone-number-input",20),e.nI1(41,"translate"),e.nI1(42,"translate"),e.nI1(43,"translate"),e.nI1(44,"translate"),e.bIt("countryCodeChange",function(o){let r;e.eBV(t);const s=e.XpG(2);return e.Njj(null==(r=s.form.get("phoneCountryCode"))?null:r.setValue(o))})("phoneNumberChange",function(o){let r;e.eBV(t);const s=e.XpG(2);return e.Njj(null==(r=s.form.get("phoneNumber"))?null:r.setValue(o))})("flagError",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onFlagError(o))}),e.k0s()(),e.bVm()}if(2&i){let t,n,o,r,s,c,g;const a=e.XpG(2);e.R7$(3),e.Y8G("title",e.bMT(4,42,"INSIGHTER_WIZARD.CONSULTING_FIELDS"))("currentLang",a.lang)("placeholder",e.bMT(5,44,"AUTH.REGISTRATION.CONSULTING_FIELD_PLACEHOLDER"))("otherFieldPlaceholder",e.bMT(6,46,"INSIGHTER_WIZARD.OTHER_FIELD_PLACEHOLDER"))("selectAllLabel","ar"===a.lang?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644":"Select All")("fetchedData",a.listOfConsultingFields)("initialSelectedNodes",a.form.value.consultingFields)("cancelLabel",e.bMT(7,48,"BUTTONS.CANCEL"))("okLabel",e.bMT(8,50,"BUTTONS.OK"))("isRequired",!0),e.R7$(6),e.Y8G("ngIf",(null==(t=a.form.get("consultingFields"))?null:t.hasError("required"))&&(null==(t=a.form.get("consultingFields"))?null:t.touched)),e.R7$(2),e.Y8G("title",e.bMT(12,52,"AUTH.REGISTRATION.INDUSTRY"))("currentLang",a.lang)("placeholder",e.bMT(13,54,"AUTH.REGISTRATION.INDUSTRY_PLACEHOLDER"))("otherFieldPlaceholder",e.bMT(14,56,"INSIGHTER_WIZARD.OTHER_FIELD_PLACEHOLDER2"))("selectAllLabel","ar"===a.lang?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644":"Select All")("fetchedData",a.nodes)("cancelLabel",e.bMT(15,58,"BUTTONS.CANCEL"))("initialSelectedNodes",a.form.value.isicCodes)("okLabel",e.bMT(16,60,"BUTTONS.OK"))("isRequired",!0),e.R7$(6),e.Y8G("ngIf",(null==(n=a.form.get("isicCodes"))?null:n.hasError("required"))&&(null==(n=a.form.get("isicCodes"))?null:n.touched)),e.R7$(3),e.SpI(" ",e.bMT(21,62,"INSIGHTER_WIZARD.ABOUT_YOU")," "),e.R7$(5),e.Y8G("ngIf",(null==(o=a.form.get("bio"))?null:o.hasError("required"))&&(null==(o=a.form.get("bio"))?null:o.touched)),e.R7$(3),e.SpI(" ",e.bMT(29,64,"INSIGHTER_WIZARD.COUNTRY")," "),e.R7$(2),e.Y8G("countries",a.countries)("placeholder",e.bMT(31,66,"INSIGHTER_WIZARD.COUNTRY_PLACEHOLDER"))("searchPlaceholder","Search countries...")("enableSearch",!0)("showClear",!0)("lang",a.lang)("isInvalid",!(null==(r=a.form.get("country"))||!r.hasError("required")||null==(r=a.form.get("country"))||!r.touched)),e.R7$(2),e.Y8G("ngIf",(null==(s=a.form.get("country"))?null:s.hasError("required"))&&(null==(s=a.form.get("country"))?null:s.touched)),e.R7$(3),e.SpI(" ",e.bMT(36,68,"INSIGHTER_WIZARD.PHONE_NUMBER")," "),e.R7$(3),e.JRh(e.bMT(39,70,"INSIGHTER_WIZARD.PHONE_NUMBER_OPTIONAL")),e.R7$(2),e.Y8G("countries",a.countries)("placeholder",e.bMT(41,72,"INSIGHTER_WIZARD.YOUR_PHONE_NUMBER"))("searchPlaceholder","Search countries...")("lang",a.lang)("showValidationErrors",!0)("countryCodeError",null!=(c=a.form.get("phoneCountryCode"))&&c.hasError("required")&&null!=(c=a.form.get("phoneCountryCode"))&&c.touched?e.bMT(42,74,"INSIGHTER_WIZARD.COUNTRY_CODE_REQUIRED"):"")("phoneNumberError",null!=(g=a.form.get("phoneNumber"))&&g.hasError("required")&&null!=(g=a.form.get("phoneNumber"))&&g.touched?e.bMT(43,76,"INSIGHTER_WIZARD.PHONE_NUMBER_REQUIRED"):null!=(g=a.form.get("phoneNumber"))&&g.hasError("pattern")&&null!=(g=a.form.get("phoneNumber"))&&g.touched?e.bMT(44,78,"INSIGHTER_WIZARD.PHONE_NUMBER_PATTERN"):"")}}function Ie(i,l){1&i&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_LOGO_REQUIRED")," "))}function Ce(i,l){1&i&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.LEGAL_NAME_REQUIRED")," "))}function Ee(i,l){1&i&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.LEGAL_NAME_EXISTS")," "))}function Te(i,l){1&i&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_ADDRESS_REQUIRED")," "))}function Se(i,l){1&i&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COUNTRY_REQUIRED")," "))}function Re(i,l){1&i&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.CONSULTING_FIELDS_REQUIRED")," "))}function ke(i,l){1&i&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.INDUSTRY_REQUIRED")," "))}function ye(i,l){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div",7)(2,"div",8)(3,"label",13),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",22)(7,"div",23),e.nrm(8,"div",24),e.j41(9,"label",25),e.nI1(10,"translate"),e.j41(11,"i",26),e.nrm(12,"span",27)(13,"span",28),e.k0s(),e.j41(14,"input",29),e.bIt("change",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onLogoSelected(o))}),e.k0s(),e.nrm(15,"input",30),e.k0s(),e.j41(16,"span",31),e.nI1(17,"translate"),e.nrm(18,"i",32),e.k0s(),e.j41(19,"span",33),e.nI1(20,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.removeLogo())}),e.nrm(21,"i",32),e.k0s()(),e.DNE(22,Ie,3,3,"div",10),e.nrm(23,"p-messages",34),e.k0s()()(),e.j41(24,"div",7)(25,"div",8)(26,"label",13),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",35),e.nI1(30,"translate"),e.DNE(31,Ce,3,3,"div",10)(32,Ee,3,3,"div",10),e.k0s()(),e.j41(33,"div",7)(34,"div",8)(35,"label",13),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.nrm(38,"input",36),e.nI1(39,"translate"),e.DNE(40,Te,3,3,"div",10),e.k0s()(),e.j41(41,"div",12)(42,"label",13),e.EFF(43),e.nI1(44,"translate"),e.k0s(),e.nrm(45,"app-country-dropdown",17),e.nI1(46,"translate"),e.DNE(47,Se,3,3,"div",10),e.k0s(),e.j41(48,"div",12)(49,"label",13),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"app-phone-number-input",37),e.nI1(53,"translate"),e.nI1(54,"translate"),e.nI1(55,"translate"),e.nI1(56,"translate"),e.bIt("countryCodeChange",function(o){let r;e.eBV(t);const s=e.XpG(2);return e.Njj(null==(r=s.form.get("phoneCountryCode"))?null:r.setValue(o))})("phoneNumberChange",function(o){let r;e.eBV(t);const s=e.XpG(2);return e.Njj(null==(r=s.form.get("phoneCompanyNumber"))?null:r.setValue(o))})("flagError",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onFlagError(o))}),e.k0s()(),e.j41(57,"div",7)(58,"div",8)(59,"shared-tree-selector",11),e.nI1(60,"translate"),e.nI1(61,"translate"),e.nI1(62,"translate"),e.nI1(63,"translate"),e.nI1(64,"translate"),e.bIt("nodesSelected",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onConsultingNodesSelected(o))}),e.k0s(),e.DNE(65,Re,3,3,"div",10),e.k0s(),e.j41(66,"div",8)(67,"shared-tree-selector",11),e.nI1(68,"translate"),e.nI1(69,"translate"),e.nI1(70,"translate"),e.nI1(71,"translate"),e.nI1(72,"translate"),e.bIt("nodesSelected",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onIndustrySelected(o))}),e.k0s(),e.DNE(73,ke,3,3,"div",10),e.k0s()(),e.j41(74,"div",12)(75,"label",13),e.EFF(76),e.nI1(77,"translate"),e.k0s(),e.j41(78,"div",14)(79,"div",15),e.nrm(80,"textarea",38),e.k0s()()(),e.bVm()}if(2&i){let t,n,o,r,s,c,g,a,m,k;const u=e.XpG(2);e.R7$(4),e.SpI(" ",e.bMT(5,57,"INSIGHTER_WIZARD.COMPANYLOGO")," "),e.R7$(4),e.xc7("background-image",u.getBackgroundImage()),e.R7$(),e.FS9("title",e.bMT(10,59,"INSIGHTER_WIZARD.CHANGE_LOGO")),e.R7$(7),e.FS9("title",e.bMT(17,61,"INSIGHTER_WIZARD.CANCEL_LOGO")),e.R7$(3),e.FS9("title",e.bMT(20,63,"INSIGHTER_WIZARD.REMOVE_LOGO")),e.R7$(3),e.Y8G("ngIf",(null==(t=u.form.get("logo"))?null:t.hasError("required"))&&(null==(t=u.form.get("logo"))?null:t.touched)),e.R7$(),e.Y8G("value",u.fizeSizeMessages)("enableService",!1),e.R7$(4),e.SpI(" ",e.bMT(28,65,"INSIGHTER_WIZARD.LEGAL_NAME")," "),e.R7$(2),e.FS9("placeholder",e.bMT(30,67,"INSIGHTER_WIZARD.LEGAL_NAME_PLACEHOLDER")),e.R7$(2),e.Y8G("ngIf",(null==(n=u.form.get("legalName"))?null:n.hasError("required"))&&(null==(n=u.form.get("legalName"))?null:n.touched)),e.R7$(),e.Y8G("ngIf",(null==(o=u.form.get("legalName"))?null:o.hasError("legalNameExists"))&&(null==(o=u.form.get("legalName"))?null:o.touched)),e.R7$(4),e.SpI(" ",e.bMT(37,69,"INSIGHTER_WIZARD.COMPANY_ADDRESS")," "),e.R7$(2),e.FS9("placeholder",e.bMT(39,71,"INSIGHTER_WIZARD.COMPANY_ADDRESS")),e.R7$(2),e.Y8G("ngIf",(null==(r=u.form.get("companyAddress"))?null:r.hasError("required"))&&(null==(r=u.form.get("companyAddress"))?null:r.touched)),e.R7$(3),e.SpI(" ",e.bMT(44,73,"INSIGHTER_WIZARD.COUNTRY")," "),e.R7$(2),e.Y8G("countries",u.countries)("placeholder",e.bMT(46,75,"INSIGHTER_WIZARD.COUNTRY_PLACEHOLDER"))("searchPlaceholder","Search countries...")("enableSearch",!0)("showClear",!0)("lang",u.lang)("isInvalid",!(null==(s=u.form.get("country"))||!s.hasError("required")||null==(s=u.form.get("country"))||!s.touched)),e.R7$(2),e.Y8G("ngIf",(null==(c=u.form.get("country"))?null:c.hasError("required"))&&(null==(c=u.form.get("country"))?null:c.touched)),e.R7$(3),e.SpI(" ",e.bMT(51,77,"INSIGHTER_WIZARD.PHONE_NUMBER")," "),e.R7$(2),e.Y8G("countries",u.countries)("placeholder",e.bMT(53,79,"INSIGHTER_WIZARD.PHONE_NUMBER_PLACEHOLDER"))("searchPlaceholder","Search countries...")("lang",u.lang)("isRequired",!0)("showValidationErrors",!0)("countryCodeError",null!=(g=u.form.get("phoneCountryCode"))&&g.hasError("required")&&null!=(g=u.form.get("phoneCountryCode"))&&g.touched?e.bMT(54,81,"INSIGHTER_WIZARD.COUNTRY_CODE_REQUIRED"):"")("phoneNumberError",null!=(a=u.form.get("phoneCompanyNumber"))&&a.hasError("required")&&null!=(a=u.form.get("phoneCompanyNumber"))&&a.touched?e.bMT(55,83,"INSIGHTER_WIZARD.PHONE_NUMBER_REQUIRED"):null!=(a=u.form.get("phoneCompanyNumber"))&&a.hasError("pattern")&&null!=(a=u.form.get("phoneCompanyNumber"))&&a.touched?e.bMT(56,85,"INSIGHTER_WIZARD.PHONE_NUMBER_PATTERN"):""),e.R7$(7),e.Y8G("title",e.bMT(60,87,"INSIGHTER_WIZARD.CONSULTING_FIELDS"))("currentLang",u.lang)("placeholder",e.bMT(61,89,"AUTH.REGISTRATION.CONSULTING_FIELD_PLACEHOLDER"))("otherFieldPlaceholder",e.bMT(62,91,"INSIGHTER_WIZARD.OTHER_FIELD_PLACEHOLDER"))("selectAllLabel","ar"===u.lang?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644":"Select All")("fetchedData",u.listOfConsultingFields)("cancelLabel",e.bMT(63,93,"BUTTONS.CANCEL"))("initialSelectedNodes",u.form.value.consultingFields)("okLabel",e.bMT(64,95,"BUTTONS.OK"))("isRequired",!0),e.R7$(6),e.Y8G("ngIf",(null==(m=u.form.get("consultingFields"))?null:m.hasError("required"))&&(null==(m=u.form.get("consultingFields"))?null:m.touched)),e.R7$(2),e.Y8G("title",e.bMT(68,97,"AUTH.REGISTRATION.INDUSTRY"))("currentLang",u.lang)("placeholder",e.bMT(69,99,"AUTH.REGISTRATION.INDUSTRY_PLACEHOLDER"))("otherFieldPlaceholder",e.bMT(70,101,"INSIGHTER_WIZARD.OTHER_FIELD_PLACEHOLDER2"))("selectAllLabel","ar"===u.lang?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644":"Select All")("fetchedData",u.nodes)("cancelLabel",e.bMT(71,103,"BUTTONS.CANCEL"))("initialSelectedNodes",u.form.value.isicCodes)("okLabel",e.bMT(72,105,"BUTTONS.OK"))("isRequired",!0),e.R7$(6),e.Y8G("ngIf",(null==(k=u.form.get("isicCodes"))?null:k.hasError("required"))&&(null==(k=u.form.get("isicCodes"))?null:k.touched)),e.R7$(3),e.SpI(" ",e.bMT(77,107,"INSIGHTER_WIZARD.ABOUT_COMPANY")," ")}}function Me(i,l){if(1&i&&(e.j41(0,"div")(1,"div",4)(2,"h2",5),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div",6),e.DNE(6,ve,45,80,"ng-container",1)(7,ye,81,109,"ng-container",1),e.k0s()()),2&i){const t=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,4,"INSIGHTER_WIZARD.INSIGHTER_INFO")," "),e.R7$(2),e.Y8G("formGroup",t.form),e.R7$(),e.Y8G("ngIf","personal"===t.defaultValues.accountType),e.R7$(),e.Y8G("ngIf","corporate"===t.defaultValues.accountType)}}let F=(()=>{class i{fb;_KnoldgFieldsService;_translateion;_isicService;_countriesService;cdr;http;isLoading$;listOfConsultingFields=[];messages=[];optionLabel="name.en";lang;countries=[];nodes=[];selectedNodes;logoPreview=null;updateParentModel;form;defaultValues;fileInput;defaultImage="https://au.eragroup.com/wp-content/uploads/2018/02/logo-placeholder.png";unsubscribe=[];allConsultingFieldSelected=[];allIndustriesSelected=[];arrayRequiredValidator(){return t=>{const n=t.value;return n&&Array.isArray(n)&&0!==n.length?0===n.filter(r=>"selectAll"!==r.key).length?{required:!0}:null:{required:!0}}}legalNameExistsValidator(){return t=>t.value&&""!==t.value.trim()?(0,L.O)(500).pipe((0,q.n)(()=>this.http.post("https://api.foresighta.co/api/account/insighter/company/name-exists",{legal_name:t.value.trim()},{headers:new b.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.lang,"X-Timezone":Intl.DateTimeFormat().resolvedOptions().timeZone})}).pipe((0,C.T)(n=>n.exists?{legalNameExists:!0}:null),(0,M.W)(()=>(0,_.of)(null))))):(0,_.of)(null)}constructor(t,n,o,r,s,c,g){this.fb=t,this._KnoldgFieldsService=n,this._translateion=o,this._isicService=r,this._countriesService=s,this.cdr=c,this.http=g,this.lang=this._translateion.getSelectedLanguage()}ngOnInit(){this.initApiCalls(),this.initForm(),this.updateParentModel({},this.checkForm()),this._translateion.onLanguageChange().subscribe(t=>{this.lang=t,this.initApiCalls()}),this.handleDefaultValues()}ngOnChanges(t){t.defaultValues&&!t.defaultValues.firstChange&&this.handleDefaultValues()}handleDefaultValues(){if(this.defaultValues?.registerDocument&&(this.form.patchValue({registerDocument:this.defaultValues?.registerDocument}),this.form.get("registerDocument")?.markAsTouched(),this.updateParentModel({registerDocument:this.defaultValues?.registerDocument},this.checkForm())),this.defaultValues?.logo)if(this.defaultValues.logo instanceof File){const t=new FileReader;t.onload=()=>{this.logoPreview=t.result,this.cdr.detectChanges(),this.updateBackgroundImage()},t.readAsDataURL(this.defaultValues.logo)}else"string"==typeof this.defaultValues.logo&&(this.logoPreview=this.defaultValues.logo,this.cdr.detectChanges(),this.updateBackgroundImage());this.defaultValues?.country&&this.form&&(this.form.patchValue({country:this.defaultValues.country}),this.updateParentModel({country:this.defaultValues.country},this.checkForm()))}initApiCalls(){this.isLoading$=(0,_.of)(!0);const t=(0,Z.p)({consultingFields:this._KnoldgFieldsService.getConsultingCodesTree(this.lang||"en"),isicCodes:this._isicService.getIsicCodesTree(this.lang||"en"),countries:this._countriesService.getCountries()}).subscribe({next:n=>{this.listOfConsultingFields=n.consultingFields,this.nodes=n.isicCodes,this.countries=n.countries.map(o=>({...o,showFlag:!0})),this.isLoading$=(0,_.of)(!1)},error:n=>{this.messages=[],n.validationMessages?this.messages=n.validationMessages:(this.messages.push({severity:"error",summary:"Error",detail:"An unexpected error occurred."}),setTimeout(()=>{this.messages=[]},4e3),this.isLoading$=(0,_.of)(!1))}});this.unsubscribe.push(t)}getBackgroundImage(){return this.logoPreview?`url(${this.logoPreview})`:`url(${this.defaultImage})`}updateBackgroundImage(){this.cdr.detectChanges()}onLogoSelected(t){const n=t.target;if(n.files&&n.files[0]){const o=n.files[0];if(!["image/png","image/jpeg","image/jpg"].includes(o.type))return this.messages=[{severity:"error",summary:"Invalid File Type",detail:"Please select a PNG or JPEG image.",id:"fileType"}],void setTimeout(()=>{this.messages=[]},4e3);if(o.size>2097152)return this.messages=[{icon:"",severity:"error",summary:"en"===this.lang?"Logo must be smaller than 2MB.":"\u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0627\u0644\u062d\u062c\u0645 \u0623\u0642\u0644 \u0645\u0646 \u0662 \u0645\u064a\u062c\u0627",detail:"",id:"fizeSize"}],void setTimeout(()=>{this.messages=[]},4e3);this.form.patchValue({logo:o}),this.updateParentModel({logo:o},this.checkForm());const c=new FileReader;c.onload=()=>{this.logoPreview=c.result,this.cdr.detectChanges(),this.updateBackgroundImage()},c.onerror=g=>{console.error("Error reading file:",g)},c.readAsDataURL(o)}}removeLogo(){this.form.patchValue({logo:null}),this.logoPreview=null,this.updateParentModel({logo:null},this.checkForm()),this.fileInput&&(this.fileInput.nativeElement.value=""),this.cdr.detectChanges(),this.updateBackgroundImage()}onDropzoneClick(){this.fileInput.nativeElement.click()}onFileSelected(t){const n=t.target.files[0];n&&(this.form.patchValue({registerDocument:n}),this.form.get("registerDocument")?.markAsTouched(),this.updateParentModel({registerDocument:n},this.checkForm()))}onDragOver(t){t.preventDefault()}onFileDrop(t){t.preventDefault();const n=t.dataTransfer?.files;if(n&&n.length>0){const o=n.item(0);this.form.patchValue({registerDocument:o}),this.form.get("registerDocument")?.markAsTouched(),this.updateParentModel({registerDocument:o},this.checkForm())}}removeRegisterDocument(){this.form.patchValue({registerDocument:null}),this.updateParentModel({registerDocument:null},this.checkForm()),this.fileInput.nativeElement.value=""}getFileIcon(t){return`./assets/media/svg/files/${t.name.split(".").pop()?.toLowerCase()}.svg`}onConsultingNodesSelected(t){this.allConsultingFieldSelected=t&&t.length>0?t:[];const n=this.form.get("consultingFields");n?.setValue(this.allConsultingFieldSelected),n?.markAsTouched(),n?.updateValueAndValidity(),this.updateParentModel({consultingFields:this.allConsultingFieldSelected},this.checkForm())}onIndustrySelected(t){this.allIndustriesSelected=t&&t.length>0?t:[];const n=this.form.get("isicCodes");n?.setValue(this.allIndustriesSelected),n?.markAsTouched(),n?.updateValueAndValidity(),this.updateParentModel({isicCodes:this.allIndustriesSelected},this.checkForm())}initForm(){this.form=this.fb.group("personal"===this.defaultValues.accountType?{bio:[this.defaultValues.bio||"",[d.k0.required]],country:[this.defaultValues.country||"",[d.k0.required]],phoneCountryCode:[this.defaultValues.phoneCountryCode||""],phoneNumber:[this.defaultValues.phoneNumber||"",[]],consultingFields:[this.defaultValues.consultingFields||[],[this.arrayRequiredValidator()]],isicCodes:[this.defaultValues.isicCodes||[],[this.arrayRequiredValidator()]]}:{legalName:[this.defaultValues.legalName||"",[d.k0.required],[this.legalNameExistsValidator()]],companyAddress:[this.defaultValues.companyAddress||"",[d.k0.required]],aboutCompany:[this.defaultValues.aboutCompany||"",[d.k0.required]],country:[this.defaultValues.country||"",[d.k0.required]],phoneCountryCode:[this.defaultValues.phoneCountryCode||""],phoneCompanyNumber:[this.defaultValues.phoneCompanyNumber||"",[d.k0.required]],consultingFields:[this.defaultValues.consultingFields||[],[this.arrayRequiredValidator()]],isicCodes:[this.defaultValues.isicCodes||[],[this.arrayRequiredValidator()]],logo:[this.defaultValues.logo||null,[d.k0.required]]});const n=this.form.valueChanges.subscribe(o=>{this.updateParentModel(o,this.checkForm())});this.unsubscribe.push(n)}onFileChange(t){const n=t.target.files[0];n&&(this.form.patchValue({registerDocument:n}),this.updateParentModel({registerDocument:n},this.checkForm()))}checkForm(){return this.form.valid}get fizeSizeMessages(){return this.messages.filter(t=>"fizeSize"===t.id)}onFlagError(t){t.showFlag=!1}customCountryFilter(t){const n=t.filter.toLowerCase(),o=[];for(let r=0;r<this.countries.length;r++){const s=this.countries[r];(-1!==s.names.en.toLowerCase().indexOf(n)||-1!==s.names.ar.toLowerCase().indexOf(n))&&o.push(s)}return o}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}validateAndMarkTouched(){return Object.keys(this.form.controls).forEach(t=>{this.form.get(t)?.markAsTouched()}),this.form.valid&&!this.form.pending}static \u0275fac=function(n){return new(n||i)(e.rXU(d.ok),e.rXU(Q.M),e.rXU(E.L),e.rXU(J.I),e.rXU(K.C),e.rXU(e.gRc),e.rXU(b.Qq))};static \u0275cmp=e.VBU({type:i,selectors:[["app-step2"]],viewQuery:function(n,o){if(1&n&&e.GBs(me,5),2&n){let r;e.mGM(r=e.lsd())&&(o.fileInput=r.first)}},inputs:{updateParentModel:"updateParentModel",defaultValues:"defaultValues"},features:[e.OA$],decls:4,vars:6,consts:[["class","d-flex justify-content-center align-items-center min-h-300px",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","min-h-300px"],[1,"spinner-border","spinner-border-md","align-middle","mx-2","text-info"],[1,"pb-10","pb-lg-15"],[1,"fw-bolder","text-gray-900"],[3,"formGroup"],[1,"mb-10","row"],[1,"col-12"],[3,"nodesSelected","title","currentLang","placeholder","otherFieldPlaceholder","selectAllLabel","fetchedData","initialSelectedNodes","cancelLabel","okLabel","isRequired"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],[3,"nodesSelected","title","currentLang","placeholder","otherFieldPlaceholder","selectAllLabel","fetchedData","cancelLabel","initialSelectedNodes","okLabel","isRequired"],[1,"mb-10","fv-row"],[1,"form-label","mb-3","required"],["data-kt-buttons","true",1,"row","mb-2"],[1,"col"],["name","bio","rows","3","formControlName","bio",1,"form-control"],["formControlName","country",3,"countries","placeholder","searchPlaceholder","enableSearch","showClear","lang","isInvalid"],[1,"form-label","mb-3"],[1,"text-gray-500"],[3,"countryCodeChange","phoneNumberChange","flagError","countries","placeholder","searchPlaceholder","lang","showValidationErrors","countryCodeError","phoneNumberError"],[1,"fv-plugins-message-container","invalid-feedback"],[1,"d-flex","flex-column"],["data-kt-image-input","true",1,"image-input","logo-placeholder","image-input-outline","fit-content"],[1,"image-input-wrapper","logo-placeholder","shadow-sm","w-150px","h-150px"],["data-kt-image-input-action","change","data-bs-toggle","tooltip","data-bs-dismiss","click",1,"btn","btn-icon","btn-circle","btn-color-muted","btn-active-color-primary","w-25px","h-25px","bg-body","shadow",3,"title"],[1,"ki-duotone","ki-pencil","fs-6"],[1,"path1"],[1,"path2"],["type","file","name","avatar","accept",".png, .jpg, .jpeg",3,"change"],["type","hidden","name","avatar_remove"],["data-kt-image-input-action","cancel","data-bs-toggle","tooltip","data-bs-dismiss","click",1,"btn","btn-icon","btn-circle","btn-color-muted","btn-active-color-primary","w-25px","h-25px","bg-body","shadow",3,"title"],[1,"ki-outline","ki-cross","fs-3"],["data-kt-image-input-action","remove","data-bs-toggle","tooltip","data-bs-dismiss","click",1,"btn","btn-icon","btn-circle","btn-color-muted","btn-active-color-primary","w-25px","h-25px","bg-body","shadow",3,"click","title"],[3,"value","enableService"],["formControlName","legalName","type","text",1,"form-control",3,"placeholder"],["formControlName","companyAddress","type","text",1,"form-control",3,"placeholder"],[3,"countryCodeChange","phoneNumberChange","flagError","countries","placeholder","searchPlaceholder","lang","isRequired","showValidationErrors","countryCodeError","phoneNumberError"],["name","aboutCompany","rows","3","formControlName","aboutCompany",1,"form-control"]],template:function(n,o){1&n&&(e.DNE(0,ge,2,0,"div",0),e.nI1(1,"async"),e.DNE(2,Me,8,6,"div",1),e.nI1(3,"async")),2&n&&(e.Y8G("ngIf",e.bMT(1,2,o.isLoading$)),e.R7$(2),e.Y8G("ngIf",!e.bMT(3,4,o.isLoading$)))},dependencies:[h.bT,d.me,d.BC,d.cb,d.j4,d.JD,Y.o,H.R,x.B,ue,h.Jj,v.D9],styles:[".responsive-dialog[_ngcontent-%COMP%]{width:50vw;max-height:90vh;overflow:hidden}@media (max-width: 768px){.responsive-dialog[_ngcontent-%COMP%]{width:100vw}}.tree-container[_ngcontent-%COMP%]{height:500px;max-height:calc(-100px + 80vh)}.max-width-200px[_ngcontent-%COMP%]{max-width:250px;width:250px}.logo-placeholder[_ngcontent-%COMP%]{background-size:contain;background-position:center}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"]})}return i})();var N=p(5098),xe=p(7192),A=p(6781),$=p(8542),De=p(5692);const Fe=["fileInput"],Ne=()=>({width:"550px"}),Ae=()=>({standalone:!0});function $e(i,l){1&i&&(e.j41(0,"div",11),e.nrm(1,"span",12),e.k0s())}function Ge(i,l){1&i&&(e.j41(0,"span",49),e.EFF(1,"*"),e.k0s())}function Oe(i,l){if(1&i&&(e.j41(0,"option",50),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function je(i,l){1&i&&(e.j41(0,"div",51),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Please select a document type")," "))}function Pe(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",25)(1,"div",26)(2,"div",27)(3,"i",28),e.nrm(4,"span",29)(5,"span",30),e.k0s()(),e.j41(6,"div",31),e.nrm(7,"img",32),e.k0s(),e.j41(8,"div",33)(9,"a",34),e.EFF(10),e.nI1(11,"truncateText"),e.k0s(),e.j41(12,"div",35),e.EFF(13),e.nI1(14,"number"),e.k0s()(),e.j41(15,"div",36)(16,"label",37),e.EFF(17),e.nI1(18,"translate"),e.DNE(19,Ge,2,0,"span",38),e.k0s(),e.j41(20,"select",39)(21,"option",40),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,Oe,2,2,"option",41),e.k0s(),e.DNE(25,je,3,3,"div",42),e.k0s()(),e.j41(26,"div",43)(27,"button",44),e.nI1(28,"translate"),e.bIt("click",function(){const o=e.eBV(t).index,r=e.XpG(2);return e.Njj(r.removeCertification(o))}),e.j41(29,"i",45),e.nrm(30,"span",29)(31,"span",30)(32,"span",46)(33,"span",47)(34,"span",48),e.k0s()()()()}if(2&i){let t,n;const o=l.$implicit,r=e.XpG(2);e.Y8G("formGroup",o),e.R7$(7),e.Y8G("src",r.getFileIcon(o.value.file),e.B4B),e.R7$(3),e.SpI(" ",e.i5U(11,12,o.value.file.name,15)," "),e.R7$(3),e.SpI(" ",e.i5U(14,15,o.value.file.size/1e3,"1.0-2")," KB "),e.R7$(4),e.SpI(" ",e.bMT(18,18,"INSIGHTER_WIZARD.DOCUMENT_TYPE")," "),e.R7$(2),e.Y8G("ngIf",o.value.file),e.R7$(),e.AVh("is-invalid",(null==(t=o.get("type"))?null:t.invalid)&&(null==(t=o.get("type"))?null:t.touched)),e.R7$(2),e.JRh(e.bMT(23,20,"INSIGHTER_WIZARD.SELECT_DOCUMENT_TYPE")),e.R7$(2),e.Y8G("ngForOf",r.documentTypes),e.R7$(),e.Y8G("ngIf",(null==(n=o.get("type"))?null:n.invalid)&&(null==(n=o.get("type"))?null:n.touched)),e.R7$(2),e.FS9("pTooltip",e.bMT(28,22,"BUTTONS.DELETE_FILE"))}}function we(i,l){1&i&&(e.j41(0,"div",60),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"You must agree to the terms before continuing")," "))}function Ve(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",52),e.nrm(1,"div",53),e.j41(2,"div",54)(3,"div",55)(4,"input",56),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG(2);return e.DH7(r.agreementChecked,o)||(r.agreementChecked=o),e.Njj(o)}),e.bIt("click",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.openAgreementDialog(o))}),e.k0s(),e.j41(5,"label",57)(6,"span",58),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()(),e.DNE(9,we,3,3,"div",59),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(4),e.R50("ngModel",t.agreementChecked),e.Y8G("ngModelOptions",e.lJ4(6,Ae)),e.R7$(3),e.SpI(" ",e.bMT(8,4,"INSIGHTER_WIZARD.TERMS_AGREEMENT"),""),e.R7$(2),e.Y8G("ngIf",t.showAgreementError&&!t.agreementChecked)}}function Le(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",13)(1,"div")(2,"h1",14),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",15),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",16)(9,"div",17),e.DNE(10,Pe,35,24,"div",18),e.k0s()(),e.j41(11,"div",19)(12,"button",20),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onDropzoneClick())}),e.nrm(13,"i",21),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"div",22),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"input",23,0),e.bIt("change",function(o){e.eBV(t);const r=e.XpG();return e.Njj(r.onFileSelected(o))}),e.k0s()(),e.DNE(21,Ve,10,7,"div",24),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,6,"INSIGHTER_WIZARD.UPLOAD_FILES")," "),e.R7$(3),e.SpI(" ",e.bMT(7,8,"INSIGHTER_WIZARD.DOCUMENT_SIZE")," "),e.R7$(4),e.Y8G("ngForOf",t.certificationControls),e.R7$(4),e.SpI(" ",e.bMT(15,10,"INSIGHTER_WIZARD.DROP_FILES_HERE_OR_CLICK")," "),e.R7$(3),e.SpI(" ",e.bMT(18,12,"INSIGHTER_WIZARD.UPLOAD_UP_TO_FILES")," "),e.R7$(4),e.Y8G("ngIf","personal"===(null==t.defaultValues?null:t.defaultValues.accountType))}}function Ye(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",61)(1,"h5",62),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",63)(5,"button",64),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.printTerms())}),e.nrm(6,"i",65),e.k0s(),e.j41(7,"button",66),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveTerms())}),e.nrm(8,"i",67),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,1,(null==t.agreementContent?null:t.agreementContent.name)||"Insighter Terms of Service"))}}function He(i,l){1&i&&(e.j41(0,"div",68),e.nrm(1,"span",69),e.k0s())}function Ue(i,l){if(1&i&&(e.j41(0,"div",70),e.nrm(1,"div",71),e.k0s()),2&i){const t=e.XpG();e.xc7("max-height","400px")("overflow-y","auto"),e.R7$(),e.Y8G("innerHTML",t.agreementContent.guideline,e.npT)}}function Be(i,l){1&i&&(e.j41(0,"div",72),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Failed to load agreement content. Please try again later.")," "))}function We(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",73)(1,"div",74)(2,"button",75),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.declineAgreement())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",76),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.acceptAgreement())}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Decline")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"SUBMIT")," "))}let G=(()=>{class i extends N.${fb;documentsService;commonService;updateParentModel;form;defaultValues;fileInput;documentTypes=[];isLoadingDocumentTypes=!1;documentTypesError="";isLoading$=(0,_.of)(!1);agreementChecked=!1;showAgreementError=!1;agreementContent=null;isLoadingAgreement=!1;showAgreementDialog=!1;attemptedSubmit=!1;constructor(t,n,o,r){super(r),this.fb=t,this.documentsService=n,this.commonService=o,this.isLoading$=this.documentsService.isLoading$}ngOnInit(){this.initForm(),this.loadDocumentTypes(),this.defaultValues?.insighterAgreement&&(this.agreementChecked=!0),this.updateParentModel({insighterAgreement:this.agreementChecked},this.form.valid&&this.agreementChecked)}ngAfterViewInit(){setTimeout(()=>{this.updateParentModel({insighterAgreement:this.agreementChecked},this.checkForm())})}initForm(){this.form=this.fb.group({certifications:this.fb.array([])}),this.defaultValues?.certifications&&this.defaultValues.certifications.forEach(n=>{this.addCertification(n)});const t=this.form.valueChanges.subscribe(n=>{this.updateParentModel(n,this.checkForm())});this.unsubscribe.push(t)}loadDocumentTypes(){this.isLoadingDocumentTypes=!0;const t=this.documentsService.getDocumentsTypes().subscribe({next:n=>{this.documentTypes=n,this.isLoadingDocumentTypes=!1},error:n=>{this.documentTypesError="Failed to load document types.",this.isLoadingDocumentTypes=!1,console.error(n)}});this.unsubscribe.push(t)}get certifications(){return this.form.get("certifications")}get certificationControls(){return this.certifications.controls}addCertification(t){const n=this.fb.group({type:[t?.type||"",t?.file?[d.k0.required]:[]],file:[t?.file||null]});this.certifications.push(n),this.updateParentModel(this.form.value,this.checkForm())}removeCertification(t){this.certifications.removeAt(t),this.updateParentModel(this.form.value,this.checkForm())}onDropzoneClick(){this.fileInput.nativeElement.click()}onFileSelected(t){this.handleFiles(t.target.files),this.fileInput.nativeElement.value=""}onDragOver(t){t.preventDefault()}onFileDrop(t){t.preventDefault(),t.dataTransfer&&this.handleFiles(t.dataTransfer.files)}handleFiles(t){for(let r=0;r<t.length;r++){const s=t.item(r);if(s){if(s.size>5242880){this.showError("",`File "${s.name}" exceeds the 5MB size limit.`);continue}this.addCertification({file:s})}}}getFileIcon(t){return t?`./assets/media/svg/files/${t.name.split(".").pop()?.toLowerCase()}.svg`:"./assets/media/svg/files/default.svg"}openAgreementDialog(t){t&&t.preventDefault(),this.isLoadingAgreement=!0,this.showAgreementDialog=!0,this.commonService.getClientAgreement("insighter-agreement").subscribe({next:n=>{this.agreementContent=n.data,this.isLoadingAgreement=!1},error:n=>{console.error("Error loading agreement:",n),this.isLoadingAgreement=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load agreement. Please try again."})}})}acceptAgreement(){this.agreementChecked=!0,this.showAgreementDialog=!1,this.updateParentModel({insighterAgreement:!0},this.form.valid)}declineAgreement(){this.agreementChecked=!1,this.showAgreementDialog=!1,this.showAgreementError=!0,this.updateParentModel({insighterAgreement:!1},!1)}printTerms(){const t=window.open("","_blank");if(t){const n=this.agreementContent?.name||"Insighter Terms of Service",r=`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>${n}</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; line-height: 1.6; }\n            h1 { color: #333; text-align: center; margin-bottom: 20px; }\n            .content { margin: 0 auto; max-width: 800px; }\n          </style>\n        </head>\n        <body>\n          <h1>${n}</h1>\n          <div class="content">${this.agreementContent?.guideline||""}</div>\n        </body>\n        </html>\n      `;t.document.open(),t.document.write(r),t.document.close(),setTimeout(()=>{t.print()},500)}else this.messageService.add({severity:"error",summary:"Error",detail:"Could not open print window. Please check your browser settings."})}saveTerms(){if(this.agreementContent){const t=this.agreementContent.name||"Insighter-Terms-of-Service",n=this.stripHtmlTags(this.agreementContent.guideline),o=new Blob([n],{type:"text/plain"}),r=window.URL.createObjectURL(o),s=document.createElement("a");s.href=r,s.download=`${t.replace(/\s+/g,"-")}.txt`,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(r),document.body.removeChild(s)}}stripHtmlTags(t){const n=document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""}checkForm(){return this.form.markAllAsTouched(),"personal"===this.defaultValues?.accountType?(this.updateParentModel({insighterAgreement:this.agreementChecked},this.form.valid&&this.agreementChecked),!this.agreementChecked&&this.attemptedSubmit&&(this.showAgreementError=!0),this.form.valid&&this.agreementChecked):(this.updateParentModel({},this.form.valid),this.form.valid)}prepareForSubmit(){return this.attemptedSubmit=!0,"personal"===this.defaultValues?.accountType&&(this.agreementChecked||(this.showAgreementError=!0)),this.checkForm()}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}static \u0275fac=function(n){return new(n||i)(e.rXU(d.ok),e.rXU(xe.Q),e.rXU(T.h),e.rXU(e.zZn))};static \u0275cmp=e.VBU({type:i,selectors:[["app-step3"]],viewQuery:function(n,o){if(1&n&&e.GBs(Fe,5),2&n){let r;e.mGM(r=e.lsd())&&(o.fileInput=r.first)}},inputs:{updateParentModel:"updateParentModel",defaultValues:"defaultValues"},features:[e.Vt3],decls:12,vars:21,consts:[["fileInput",""],["class","d-flex justify-content-center align-items-center min-h-300px",4,"ngIf"],["data-kt-stepper-element","content",1,"current"],["class","w-100",4,"ngIf"],["appendTo","body","styleClass","terms-dialog",3,"visibleChange","visible","modal","closable","closeOnEscape","dismissableMask","draggable","resizable","focusOnShow","blockScroll"],["pTemplate","header"],["class","d-flex justify-content-center py-4",4,"ngIf"],[1,"terms-content-wrapper"],["class","agreement-content custom-scrollbar",3,"max-height","overflow-y",4,"ngIf"],["class","text-center text-danger py-4",4,"ngIf"],["pTemplate","footer"],[1,"d-flex","justify-content-center","align-items-center","min-h-300px"],[1,"spinner-border","spinner-border-md","align-middle","mx-2","text-info"],[1,"w-100"],[1,"fw-bold","text-gray-900"],[1,"text-muted","fw-semibold","fs-6"],[1,"mb-10"],[1,"mh-300px","scroll-y","me-n7","pe-7"],["class","d-flex flex-stack py-4 border border-top-0 border-left-0 border-right-0 border-dashed",3,"formGroup",4,"ngFor","ngForOf"],[1,"fv-row","mb-10","text-start"],["type","button",1,"btn","btn-lg","btn-primary",3,"click"],[1,"bi","bi-upload","me-2"],[1,"mt-2","text-muted","fs-6"],["type","file","multiple","","accept",".png, .jpg, .jpeg, .pdf",2,"display","none",3,"change"],["class","mb-10 mt-5",4,"ngIf"],[1,"d-flex","flex-stack","py-4","border","border-top-0","border-left-0","border-right-0","border-dashed",3,"formGroup"],[1,"d-flex","align-items-center","gap-3"],[1,"symbol","symbol-20px"],[1,"ki-duotone","ki-check-circle","fs-1","text-success"],[1,"path1"],[1,"path2"],[1,"symbol","symbol-35px"],["alt","icon",3,"src"],[1,"ms-6","w-200px"],["href","#",1,"fs-5","fw-bold","text-gray-900","text-hover-primary","mb-2"],[1,"fw-semibold","text-muted"],[1,"mt-2","w-200px"],[1,"form-label"],["class","text-danger",4,"ngIf"],["formControlName","type",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback d-block",4,"ngIf"],[1,"min-w-100px",2,"padding-top","32px"],["type","button","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-danger","btn-sm","text-danger",3,"click","pTooltip"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"],[1,"text-danger"],[3,"value"],[1,"invalid-feedback","d-block"],[1,"mb-10","mt-5"],[1,"separator","separator-dashed","my-5"],[1,"d-flex","align-items-start"],[1,"form-check","form-check-custom","form-check-solid","me-5"],["type","checkbox","id","personalAgreement",1,"form-check-input",3,"ngModelChange","click","ngModel","ngModelOptions"],["for","personalAgreement",1,"form-check-label"],[1,"ms-1","text-primary"],["class","text-danger fs-7 mt-2",4,"ngIf"],[1,"text-danger","fs-7","mt-2"],[1,"d-flex","justify-content-between","align-items-center","w-100"],[1,"m-0"],[1,"d-flex"],[1,"btn","btn-sm","btn-icon","me-2",3,"click"],[1,"ki-outline","ki-printer","fs-3"],[1,"btn","btn-sm","btn-icon",3,"click"],[1,"ki-outline","ki-save-2","fs-3"],[1,"d-flex","justify-content-center","py-4"],[1,"spinner-border","spinner-border-lg","text-primary"],[1,"agreement-content","custom-scrollbar"],[3,"innerHTML"],[1,"text-center","text-danger","py-4"],[1,"d-flex","flex-column","flex-md-row","justify-content-between","align-items-center","gap-3"],[1,"d-flex","gap-2"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(n,o){1&n&&(e.DNE(0,$e,2,0,"div",1),e.nI1(1,"async"),e.j41(2,"div",2),e.DNE(3,Le,22,14,"div",3),e.nI1(4,"async"),e.k0s(),e.j41(5,"p-dialog",4),e.mxI("visibleChange",function(s){return e.DH7(o.showAgreementDialog,s)||(o.showAgreementDialog=s),s}),e.DNE(6,Ye,9,3,"ng-template",5)(7,He,2,0,"div",6),e.j41(8,"div",7),e.DNE(9,Ue,2,5,"div",8)(10,Be,3,3,"div",9),e.k0s(),e.DNE(11,We,8,6,"ng-template",10),e.k0s()),2&n&&(e.Y8G("ngIf",e.bMT(1,16,o.isLoading$)),e.R7$(3),e.Y8G("ngIf",!e.bMT(4,18,o.isLoading$)),e.R7$(2),e.Aen(e.lJ4(20,Ne)),e.R50("visible",o.showAgreementDialog),e.Y8G("modal",!0)("closable",!0)("closeOnEscape",!1)("dismissableMask",!1)("draggable",!1)("resizable",!1)("focusOnShow",!0)("blockScroll",!0),e.R7$(2),e.Y8G("ngIf",o.isLoadingAgreement),e.R7$(2),e.Y8G("ngIf",!o.isLoadingAgreement&&o.agreementContent),e.R7$(),e.Y8G("ngIf",!o.isLoadingAgreement&&!o.agreementContent))},dependencies:[h.Sq,h.bT,d.xH,d.y7,d.Zm,d.wz,d.BC,d.cb,d.j4,d.JD,d.vS,D.Ei,A.l,$.m,h.Jj,h.QX,v.D9,De._],styles:[".terms-dialog[_ngcontent-%COMP%]   .p-dialog-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #eee}.terms-dialog[_ngcontent-%COMP%]   .p-dialog-content[_ngcontent-%COMP%]{padding:0}.terms-dialog[_ngcontent-%COMP%]   .terms-content-wrapper[_ngcontent-%COMP%]{padding:1.5rem}.terms-dialog[_ngcontent-%COMP%]   .terms-header-image[_ngcontent-%COMP%]{display:flex;justify-content:center}.terms-dialog[_ngcontent-%COMP%]   .terms-header-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:120px}.terms-dialog[_ngcontent-%COMP%]   .agreement-content[_ngcontent-%COMP%]{padding-right:10px;line-height:1.6}.terms-dialog[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.terms-dialog[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.terms-dialog[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:4px}.terms-dialog[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#aaa}.terms-dialog[_ngcontent-%COMP%]   .p-dialog-footer[_ngcontent-%COMP%]{border-top:1px solid #eee;padding:1rem 1.5rem}.dropzone[_ngcontent-%COMP%]{border:2px dashed #0095e8;border-radius:.75rem;padding:3rem;text-align:center;transition:all .3s ease}.dropzone[_ngcontent-%COMP%]:hover{background-color:#0095e80d;cursor:pointer}.dropzone[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.mh-300px[_ngcontent-%COMP%]{max-height:300px}.form-check[_ngcontent-%COMP%], .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{cursor:pointer}"]})}return i})();var Xe=p(3726),ze=p(9172),Ze=p(6697);const qe=["fileInput"],Qe=()=>({standalone:!0}),Je=()=>({width:"550px"});function Ke(i,l){1&i&&(e.j41(0,"div",39),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.VERIFICATION_METHOD_REQUIRED")," "))}function et(i,l){1&i&&(e.j41(0,"div",39),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.WEBSITE_REQUIRED")," "))}function tt(i,l){1&i&&(e.qex(0),e.j41(1,"span",45),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.bVm()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"INSIGHTER_WIZARD.GET_CODE")))}function nt(i,l){1&i&&(e.qex(0),e.j41(1,"span",46),e.EFF(2),e.nI1(3,"translate"),e.nrm(4,"span",47),e.k0s(),e.bVm()),2&i&&(e.R7$(),e.xc7("display","block"),e.R7$(),e.SpI(" ",e.bMT(3,3,"AUTH.REGISTRATION.PLEASE_WAIT")," "))}function ot(i,l){if(1&i&&(e.qex(0),e.j41(1,"span",46),e.EFF(2),e.nI1(3,"translate"),e.nI1(4,"async"),e.k0s(),e.bVm()),2&i){const t=e.XpG(3);e.R7$(),e.xc7("display","block"),e.R7$(),e.Lme(" ",e.bMT(3,4,"AUTH.REGISTRATION.PLEASE_WAIT")," (",e.bMT(4,6,t.getCodeCountdown$),"s) ")}}function it(i,l){1&i&&(e.j41(0,"div",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"EMAIL_DOMAIN_MATCH")," "))}function rt(i,l){1&i&&(e.j41(0,"div",39),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_EMAIL_REQUIRED")," "))}function at(i,l){1&i&&(e.j41(0,"div",39),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.CODE_REQUIRED")," "))}function st(i,l){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",22)(2,"label",23),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",40),e.nI1(6,"translate"),e.DNE(7,et,3,3,"div",38),e.k0s(),e.j41(8,"div",22)(9,"label",23),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"div",41),e.nrm(13,"input",42),e.nI1(14,"translate"),e.j41(15,"button",43),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.getCode())}),e.DNE(16,tt,4,3,"ng-container",6)(17,nt,5,5,"ng-container",6)(18,ot,5,8,"ng-container",6),e.k0s()(),e.DNE(19,it,3,3,"div",14)(20,rt,3,3,"div",38),e.k0s(),e.j41(21,"div",22)(22,"label",23),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.nrm(25,"input",44),e.nI1(26,"translate"),e.DNE(27,at,3,3,"div",38),e.k0s()()}if(2&i){let t,n,o,r,s;const c=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,14,"INSIGHTER_WIZARD.WEBSITE_DOMAIN")," "),e.R7$(2),e.FS9("placeholder",e.bMT(6,16,"INSIGHTER_WIZARD.WEBSITE_DOMAIN")),e.R7$(2),e.Y8G("ngIf",c.form&&(null==(t=c.form.get("website"))?null:t.invalid)&&(null==(t=c.form.get("website"))?null:t.touched)&&"websiteEmail"===(null==(t=c.form.get("verificationMethod"))?null:t.value)),e.R7$(3),e.SpI(" ",e.bMT(11,18,"INSIGHTER_WIZARD.COMPANY_EMAIL")," "),e.R7$(3),e.FS9("placeholder",e.bMT(14,20,"INSIGHTER_WIZARD.COMPANY_EMAIL")),e.R7$(2),e.Y8G("disabled",!c.form||!(null!=(n=c.form.get("companyEmail"))&&n.valid)||c.gettingCodeLoader||c.isGetCodeDisabled||!c.validateDomainMatching()),e.R7$(),e.Y8G("ngIf",!c.gettingCodeLoader&&!c.isGetCodeDisabled),e.R7$(),e.Y8G("ngIf",c.gettingCodeLoader),e.R7$(),e.Y8G("ngIf",c.isGetCodeDisabled&&!c.gettingCodeLoader),e.R7$(),e.Y8G("ngIf",c.form&&(null==(o=c.form.get("companyEmail"))?null:o.value)&&(null==(o=c.form.get("website"))?null:o.value)&&c.hasEmailAtSymbol()&&!c.validateDomainMatching()),e.R7$(),e.Y8G("ngIf",c.form&&(null==(r=c.form.get("companyEmail"))?null:r.invalid)&&(null==(r=c.form.get("companyEmail"))?null:r.touched)&&"websiteEmail"===(null==(r=c.form.get("verificationMethod"))?null:r.value)),e.R7$(3),e.SpI(" ",e.bMT(24,22,"INSIGHTER_WIZARD.CODE")," "),e.R7$(2),e.FS9("placeholder",e.bMT(26,24,"INSIGHTER_WIZARD.ENTER_CODE")),e.R7$(2),e.Y8G("ngIf",c.form&&(null==(s=c.form.get("code"))?null:s.invalid)&&(null==(s=c.form.get("code"))?null:s.touched)&&"websiteEmail"===(null==(s=c.form.get("verificationMethod"))?null:s.value))}}function lt(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG(3);return e.Njj(o.onDropzoneClick())})("drop",function(o){e.eBV(t);const r=e.XpG(3);return e.Njj(r.onFileDrop(o))})("dragover",function(o){e.eBV(t);const r=e.XpG(3);return e.Njj(r.onDragOver(o))}),e.j41(1,"div",54),e.nrm(2,"i",55),e.j41(3,"div",56)(4,"h3",57),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"span",58),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()}2&i&&(e.R7$(5),e.SpI(" ",e.bMT(6,2,"INSIGHTER_WIZARD.DROP_OR_UPLOAD_REGISTRY_DOCUMENT")," "),e.R7$(3),e.SpI(" ",e.bMT(9,4,"INSIGHTER_WIZARD.VERIFY_COMPANY_ACCOUNT_BY_UPLOADING_REGISTRY_DOC")," "))}function ct(i,l){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",59)(2,"div",60)(3,"div",61),e.nrm(4,"img",62),e.k0s(),e.j41(5,"div",63)(6,"a",64),e.EFF(7),e.k0s(),e.j41(8,"div",65),e.EFF(9),e.nI1(10,"number"),e.k0s()()(),e.j41(11,"div",66)(12,"button",67),e.nI1(13,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG(3);return e.Njj(o.removeRegisterDocument())}),e.j41(14,"i",68),e.nrm(15,"span",31)(16,"span",32)(17,"span",33)(18,"span",69)(19,"span",70),e.k0s()()()()()}if(2&i){let t,n,o;const r=e.XpG(3);e.R7$(4),e.Y8G("src",r.getFileIcon(null==r.form||null==(t=r.form.get("registerDocument"))?null:t.value),e.B4B),e.R7$(3),e.SpI(" ",null==r.form||null==(n=r.form.get("registerDocument"))||null==n.value?null:n.value.name," "),e.R7$(2),e.SpI(" ",e.i5U(10,4,(null==r.form||null==(o=r.form.get("registerDocument"))||null==o.value?null:o.value.size)/1e3,"1.0-2")," KB "),e.R7$(3),e.FS9("pTooltip",e.bMT(13,7,"BUTTONS.DELETE_FILE"))}}function dt(i,l){1&i&&(e.j41(0,"div",39),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.REGISTER_DOCUMENT_REQUIRED")," "))}function pt(i,l){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",49),e.DNE(2,lt,10,6,"div",50),e.j41(3,"div",51),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.DNE(6,ct,20,9,"div",6),e.j41(7,"input",52,0),e.bIt("change",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onFileSelected(o))}),e.k0s(),e.DNE(9,dt,3,3,"div",38),e.k0s()()}if(2&i){let t,n,o;const r=e.XpG(2);e.R7$(2),e.Y8G("ngIf",!r.form||!(null!=(t=r.form.get("registerDocument"))&&t.value)),e.R7$(2),e.SpI(" ",e.bMT(5,4,"INSIGHTER_WIZARD.DOCUMENT_REGISTRY_APPROVAL_NOTE")," "),e.R7$(2),e.Y8G("ngIf",r.form&&(null==(n=r.form.get("registerDocument"))?null:n.value)),e.R7$(3),e.Y8G("ngIf",r.form&&(null==(o=r.form.get("registerDocument"))?null:o.invalid)&&(null==(o=r.form.get("registerDocument"))?null:o.touched)&&"uploadDocument"===(null==(o=r.form.get("verificationMethod"))?null:o.value))}}function ut(i,l){if(1&i&&(e.qex(0),e.j41(1,"div",22)(2,"label",23),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",24)(6,"div",25)(7,"div",26),e.nrm(8,"input",27),e.j41(9,"label",28)(10,"span",29)(11,"i",30),e.nrm(12,"span",31)(13,"span",32)(14,"span",33),e.k0s()(),e.j41(15,"span",34),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.j41(18,"div",25)(19,"div",26),e.nrm(20,"input",35),e.j41(21,"label",36)(22,"span",29)(23,"i",37),e.nrm(24,"span",31)(25,"span",32),e.k0s()(),e.j41(26,"span",34),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()()(),e.DNE(29,Ke,3,3,"div",38),e.k0s(),e.DNE(30,st,28,26,"div",6)(31,pt,10,6,"div",6),e.bVm()),2&i){let t,n,o;const r=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,6,"INSIGHTER_WIZARD.CHOOSE_VERIFICATION_METHOD")," "),e.R7$(13),e.JRh(e.bMT(17,8,"INSIGHTER_WIZARD.BY_WEBSITE_COMPANY_EMAIL")),e.R7$(11),e.JRh(e.bMT(28,10,"INSIGHTER_WIZARD.BY_UPLOADING_REGISTRY_DOCUMENT")),e.R7$(2),e.Y8G("ngIf",r.form&&(null==(t=r.form.get("verificationMethod"))?null:t.invalid)&&(null==(t=r.form.get("verificationMethod"))?null:t.touched)),e.R7$(),e.Y8G("ngIf",r.form&&"websiteEmail"===(null==(n=r.form.get("verificationMethod"))?null:n.value)),e.R7$(),e.Y8G("ngIf",r.form&&"uploadDocument"===(null==(o=r.form.get("verificationMethod"))?null:o.value))}}function mt(i,l){1&i&&(e.j41(0,"div",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"You must agree to the terms before continuing")," "))}function gt(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",71)(1,"h5",72),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",73)(5,"button",74),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.printTerms())}),e.nrm(6,"i",75),e.k0s(),e.j41(7,"button",76),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveTerms())}),e.nrm(8,"i",77),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,1,(null==t.agreementContent?null:t.agreementContent.name)||"Company Terms of Service"))}}function ht(i,l){1&i&&(e.j41(0,"div",78),e.nrm(1,"span",79),e.k0s())}function ft(i,l){if(1&i&&(e.j41(0,"div",80),e.nrm(1,"div",81),e.k0s()),2&i){const t=e.XpG();e.xc7("max-height","400px")("overflow-y","auto"),e.R7$(),e.Y8G("innerHTML",t.agreementContent.guideline,e.npT)}}function _t(i,l){1&i&&(e.j41(0,"div",82),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Failed to load agreement content. Please try again later.")," "))}function bt(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",83)(1,"div",41)(2,"button",84),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.declineAgreement())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",85),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.acceptAgreement())}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"DECLINE")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"ACCEPT")," "))}let O=(()=>{class i extends N.${fb;_translateion;http;commonService;lang;dialogWidth="50vw";reverseLoader=!1;gettingCodeLoader=!1;updateParentModel;form;defaultValues;fileInput;resizeSubscription;isGetCodeDisabled=!1;getCodeCountdown$=new f.t(null);agreementChecked=!1;showAgreementError=!1;agreementContent=null;isLoadingAgreement=!1;showAgreementDialog=!1;attemptedSubmit=!1;MAX_FILE_SIZE=2097152;constructor(t,n,o,r,s){super(t),this.fb=n,this._translateion=o,this.http=r,this.commonService=s,this.lang=this._translateion.getSelectedLanguage()}ngOnInit(){this.initForm(),this.windowResize(),this.setupSubscriptions(),this.initializeFromDefaults(),this.updateParentModel({verificationMethod:this.form.get("verificationMethod")?.value,website:this.form.get("website")?.value,companyEmail:this.form.get("companyEmail")?.value,code:this.form.get("code")?.value,registerDocument:this.defaultValues?.registerDocument,companyAgreement:this.agreementChecked},this.form.valid&&this.agreementChecked)}setupSubscriptions(){const t=this._translateion.onLanguageChange().subscribe(n=>{this.lang=n});this.unsubscribe.push(t)}initializeFromDefaults(){this.defaultValues?.registerDocument&&(this.form.patchValue({registerDocument:this.defaultValues.registerDocument}),this.form.get("registerDocument")?.markAsTouched()),this.defaultValues?.verificationMethod&&(this.form.patchValue({verificationMethod:this.defaultValues.verificationMethod}),this.updateConditionalValidators(this.defaultValues.verificationMethod)),this.defaultValues?.website&&(this.form.patchValue({website:this.defaultValues.website}),this.form.get("website")?.markAsTouched()),this.defaultValues?.companyEmail&&(this.form.patchValue({companyEmail:this.defaultValues.companyEmail}),this.form.get("companyEmail")?.markAsTouched()),this.defaultValues?.code&&(this.form.patchValue({code:this.defaultValues.code}),this.form.get("code")?.markAsTouched()),this.defaultValues?.companyAgreement&&(this.agreementChecked=!0)}openAgreementDialog(t){t&&t.preventDefault(),this.isLoadingAgreement=!0,this.showAgreementDialog=!0,this.commonService.getClientAgreement("company-agreement").subscribe({next:n=>{this.agreementContent=n.data,this.isLoadingAgreement=!1},error:n=>{console.error("Error loading agreement:",n),this.isLoadingAgreement=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load agreement. Please try again."})}})}acceptAgreement(){this.agreementChecked=!0,this.showAgreementDialog=!1,this.updateParentModel({companyAgreement:!0},this.form.valid)}declineAgreement(){this.agreementChecked=!1,this.showAgreementDialog=!1,this.showAgreementError=!0,this.updateParentModel({companyAgreement:!1},!1)}printTerms(){const t=window.open("","_blank");if(t){const n=this.agreementContent?.name||"Company Terms of Service",r=`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>${n}</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; line-height: 1.6; }\n            h1 { color: #333; text-align: center; margin-bottom: 20px; }\n            .content { margin: 0 auto; max-width: 800px; }\n          </style>\n        </head>\n        <body>\n          <h1>${n}</h1>\n          <div class="content">${this.agreementContent?.guideline||""}</div>\n        </body>\n        </html>\n      `;t.document.open(),t.document.write(r),t.document.close(),setTimeout(()=>{t.print()},500)}else this.messageService.add({severity:"error",summary:"Error",detail:"Could not open print window. Please check your browser settings."})}saveTerms(){if(this.agreementContent){const t=this.agreementContent.name||"Company-Terms-of-Service",n=this.stripHtmlTags(this.agreementContent.guideline),o=new Blob([n],{type:"text/plain"}),r=window.URL.createObjectURL(o),s=document.createElement("a");s.href=r,s.download=`${t.replace(/\s+/g,"-")}.txt`,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(r),document.body.removeChild(s)}}stripHtmlTags(t){const n=document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""}windowResize(){const t=(0,Xe.R)(window,"resize").pipe((0,C.T)(()=>window.innerWidth),(0,ze.Z)(window.innerWidth));this.resizeSubscription=t.subscribe(n=>{this.dialogWidth=n<768?"100vw":"70vw"})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this.unsubscribe.forEach(t=>{t&&!t.closed&&t.unsubscribe()})}onDropzoneClick(){this.fileInput.nativeElement.click()}getCode(){const t=this.form.get("companyEmail")?.value;if(!t||!this.form.get("companyEmail")?.valid)return;this.gettingCodeLoader=!0;const n=new b.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.lang||"en"}),o=this.http.post("https://api.foresighta.co/api/auth/company/code/send",{verified_email:t},{headers:n}).subscribe({next:()=>{this.showSuccess("Success","Verification email sent successfully."),this.gettingCodeLoader=!1,this.startGetCodeCooldown()},error:r=>{console.error("Error sending code:",r),this.showError("Error",r?.error?.message||"Failed to send verification code."),this.gettingCodeLoader=!1}});this.unsubscribe.push(o)}startGetCodeCooldown(){this.isGetCodeDisabled=!0,this.getCodeCountdown$.next(30);const o=(0,L.O)(0,1e3).pipe((0,Ze.s)(31),(0,C.T)(r=>30-r)).subscribe({next:r=>{this.getCodeCountdown$.next(r>=0?r:0)},complete:()=>{this.getCodeCountdown$.next(null),this.isGetCodeDisabled=!1}});this.unsubscribe.push(o)}onFileSelected(t){const n=t.target.files[0];n&&this.validateFileSize(n)&&(this.form.patchValue({registerDocument:n}),this.form.get("registerDocument")?.markAsTouched(),this.updateParentModel({registerDocument:n},this.checkForm()))}validateFileSize(t){return!(t.size>this.MAX_FILE_SIZE&&(this.showError("File Size Exceeded","The uploaded document exceeds the 2MB size limit."),1))}onDragOver(t){t.preventDefault()}onFileDrop(t){t.preventDefault();const n=t.dataTransfer?.files;if(!n||0===n.length)return;const o=n.item(0);o&&this.validateFileSize(o)&&(this.form.patchValue({registerDocument:o}),this.form.get("registerDocument")?.markAsTouched(),this.updateParentModel({registerDocument:o},this.checkForm()))}removeRegisterDocument(){this.form.patchValue({registerDocument:null}),this.updateParentModel({registerDocument:null},this.checkForm()),this.fileInput.nativeElement.value=""}getFileIcon(t){return`./assets/media/svg/files/${t.name.split(".").pop()?.toLowerCase()}.svg`}initForm(){this.form=this.fb.group({verificationMethod:["websiteEmail",d.k0.required],website:[""],companyEmail:[""],code:[""],registerDocument:[null]},{validators:this.verificationMethodValidator()}),this.setupFormSubscriptions(),this.updateConditionalValidators("websiteEmail")}setupFormSubscriptions(){const t=this.form.get("verificationMethod")?.valueChanges.subscribe(o=>{this.updateConditionalValidators(o);const r={verificationMethod:o,website:this.form.get("website")?.value,companyEmail:this.form.get("companyEmail")?.value,code:this.form.get("code")?.value,registerDocument:this.form.get("registerDocument")?.value,companyAgreement:this.agreementChecked};this.updateParentModel(r,this.checkForm())});t&&this.unsubscribe.push(t);const n=this.form.valueChanges.subscribe(o=>{this.updateParentModel({verificationMethod:o.verificationMethod,website:o.website,companyEmail:o.companyEmail,code:o.code,registerDocument:o.registerDocument,companyAgreement:this.agreementChecked},this.checkForm())});this.unsubscribe.push(n),this.setupDomainValidationSubscriptions()}setupDomainValidationSubscriptions(){const t=this.form.get("website")?.valueChanges.subscribe(()=>this.validateDomainMatching()),n=this.form.get("companyEmail")?.valueChanges.subscribe(()=>this.validateDomainMatching());t&&this.unsubscribe.push(t),n&&this.unsubscribe.push(n)}updateConditionalValidators(t){"websiteEmail"===t?(this.form.get("website")?.setValidators([d.k0.required]),this.form.get("companyEmail")?.setValidators([d.k0.required,d.k0.email]),this.form.get("code")?.setValidators([d.k0.required]),this.form.get("registerDocument")?.setValidators([])):"uploadDocument"===t&&(this.form.get("website")?.setValidators([]),this.form.get("companyEmail")?.setValidators([]),this.form.get("code")?.setValidators([]),this.form.get("registerDocument")?.setValidators([d.k0.required])),this.form.get("website")?.updateValueAndValidity(),this.form.get("companyEmail")?.updateValueAndValidity(),this.form.get("code")?.updateValueAndValidity(),this.form.get("registerDocument")?.updateValueAndValidity()}verificationMethodValidator(){return t=>{const n=t.get("verificationMethod")?.value;if("websiteEmail"===n){const o=t.get("website")?.value,r=t.get("companyEmail")?.value,s=t.get("code")?.value;if(!o||!r||!s)return{websiteEmailRequired:!0}}else if("uploadDocument"===n&&!t.get("registerDocument")?.value)return{registerDocumentRequired:!0};return null}}atLeastOneRequired(...t){return n=>t.some(r=>{const s=n.get(r);return s&&s.value&&""!==s.value})?null:{atLeastOneRequired:!0}}onFileChange(t){const n=t.target.files[0];n&&this.validateFileSize(n)&&(this.form.patchValue({registerDocument:n}),this.updateParentModel({registerDocument:n},this.checkForm()))}checkForm(){const t=this.form.valid&&this.agreementChecked;return this.updateParentModel({companyAgreement:this.agreementChecked},t),this.showAgreementError=!this.agreementChecked&&this.attemptedSubmit,t}validateDomainMatching(){if("websiteEmail"!==this.form.get("verificationMethod")?.value)return!0;const t=this.form.get("website")?.value,n=this.form.get("companyEmail")?.value;if(!t||!n)return!1;const o=this.extractDomainFromWebsite(t),r=this.extractDomainFromEmail(n);return!!(o&&r&&r.endsWith(o))}extractDomainFromWebsite(t){if(!t)return null;let n=t.trim().toLowerCase();return n=n.replace(/^(https?:\/\/)/i,""),n=n.replace(/^www\./i,""),n=n.split("/")[0],n=n.split("?")[0],n=n.split("#")[0],n=n.split(":")[0],n||null}extractDomainFromEmail(t){return t&&t.includes("@")?t.split("@")[1].toLowerCase():null}hasEmailAtSymbol(){const t=this.form.get("companyEmail")?.value;return t&&t.includes("@")}prepareForSubmit(){return this.attemptedSubmit=!0,this.validateAndMarkTouched(),this.agreementChecked||(this.showAgreementError=!0),this.checkForm()}validateAndMarkTouched(){this.form.get("verificationMethod")?.markAsTouched(),this.form.get("verificationMethod")?.updateValueAndValidity();const t=this.form.get("verificationMethod")?.value;return"websiteEmail"===t?(this.form.get("website")?.markAsTouched(),this.form.get("website")?.updateValueAndValidity(),this.form.get("companyEmail")?.markAsTouched(),this.form.get("companyEmail")?.updateValueAndValidity(),this.form.get("code")?.markAsTouched(),this.form.get("code")?.updateValueAndValidity()):"uploadDocument"===t&&(this.form.get("registerDocument")?.markAsTouched(),this.form.get("registerDocument")?.updateValueAndValidity()),this.form.valid}static \u0275fac=function(n){return new(n||i)(e.rXU(e.zZn),e.rXU(d.ok),e.rXU(E.L),e.rXU(b.Qq),e.rXU(T.h))};static \u0275cmp=e.VBU({type:i,selectors:[["app-step5"]],viewQuery:function(n,o){if(1&n&&e.GBs(qe,5),2&n){let r;e.mGM(r=e.lsd())&&(o.fileInput=r.first)}},inputs:{updateParentModel:"updateParentModel",defaultValues:"defaultValues"},features:[e.Vt3],decls:30,vars:33,consts:[["fileInput",""],[1,"pb-10","pb-lg-15"],[1,"fw-bolder","text-gray-900"],[1,"text-gray-500","fw-bold","fs-6"],["href","#",1,"link-primary","fw-bolder"],[3,"formGroup"],[4,"ngIf"],[1,"mb-10","mt-8"],[1,"separator","separator-dashed","my-5"],[1,"d-flex","align-items-start","mb-3"],[1,"form-check","form-check-custom","form-check-solid","me-5"],["type","checkbox","id","corporateAgreement",1,"form-check-input",3,"ngModelChange","click","ngModel","ngModelOptions"],["for","corporateAgreement",1,"form-check-label"],[1,"ms-1","text-primary"],["class","text-danger fs-7 mt-2",4,"ngIf"],["appendTo","body","styleClass","terms-dialog",3,"visibleChange","visible","modal","closable","closeOnEscape","dismissableMask","draggable","resizable","focusOnShow","blockScroll"],["pTemplate","header"],["class","d-flex justify-content-center py-4",4,"ngIf"],[1,"terms-content-wrapper"],["class","agreement-content custom-scrollbar",3,"max-height","overflow-y",4,"ngIf"],["class","text-center text-danger py-4",4,"ngIf"],["pTemplate","footer"],[1,"mb-10"],[1,"form-label","required"],[1,"radio-options-container","mb-5"],[1,"radio-option"],[1,"form-check","form-check-custom","form-check-solid"],["type","radio","formControlName","verificationMethod","name","verificationMethod","value","websiteEmail","id","verificationMethod1","data-gtm-form-interact-field-id","1",1,"form-check-input"],["for","verificationMethod1",1,"form-check-label"],[1,"radio-icon"],[1,"ki-duotone","ki-icon","mx-2","fs-2"],[1,"path1"],[1,"path2"],[1,"path3"],[1,"radio-text"],["type","radio","formControlName","verificationMethod","name","verificationMethod","value","uploadDocument","id","verificationMethod2","data-gtm-form-interact-field-id","0",1,"form-check-input"],["for","verificationMethod2",1,"form-check-label"],[1,"ki-duotone","ki-document","mx-2","fs-2"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],[1,"fv-plugins-message-container","invalid-feedback"],["formControlName","website","type","text",1,"form-control",3,"placeholder"],[1,"d-flex","gap-2"],["formControlName","companyEmail","type","email",1,"form-control","flex-3",3,"placeholder"],["type","button",1,"btn","flex-1","btn-primary",3,"click","disabled"],["formControlName","code","type","text",1,"form-control",3,"placeholder"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"text-danger","fs-7","mt-2"],[1,"fv-row","mb-10"],["class","dropzone dz-clickable",3,"click","drop","dragover",4,"ngIf"],[1,"mt-3","approval-note"],["type","file","accept",".png, .jpg, .jpeg, .pdf",2,"display","none",3,"change"],[1,"dropzone","dz-clickable",3,"click","drop","dragover"],[1,"dz-message","needsclick"],[1,"ki-outline","ki-file-up","fs-3hx","text-primary"],[1,"mx-4","text-inline-start"],[1,"dfs-3","fw-bold","text-gray-900","mb-1"],[1,"fw-semibold","fs-7","text-muted"],[1,"d-flex","flex-stack","py-4","border","border-top-0","border-left-0","border-right-0","border-dashed"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-35px"],["alt","icon",3,"src"],[1,"ms-6"],["href","#",1,"fs-5","fw-bold","text-gray-900","text-hover-primary","mb-2"],[1,"fw-semibold","text-muted"],[1,"min-w-100px"],["type","button","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-danger","btn-sm","text-danger",3,"click","pTooltip"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path4"],[1,"path5"],[1,"d-flex","justify-content-between","align-items-center","w-100"],[1,"m-0"],[1,"d-flex"],[1,"btn","btn-sm","btn-icon","me-2",3,"click"],[1,"ki-outline","ki-printer","fs-3"],[1,"btn","btn-sm","btn-icon",3,"click"],[1,"ki-outline","ki-save-2","fs-3"],[1,"d-flex","justify-content-center","py-4"],[1,"spinner-border","spinner-border-lg","text-primary"],[1,"agreement-content","custom-scrollbar"],[3,"innerHTML"],[1,"text-center","text-danger","py-4"],[1,"d-flex","flex-column","flex-md-row","justify-content-between","align-items-center","gap-3"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"div",1)(1,"h2",2),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",3),e.EFF(5),e.nI1(6,"translate"),e.j41(7,"a",4),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.EFF(10,". "),e.k0s()(),e.j41(11,"div",5),e.DNE(12,ut,32,12,"ng-container",6),e.j41(13,"div",7),e.nrm(14,"div",8),e.j41(15,"div",9)(16,"div",10)(17,"input",11),e.mxI("ngModelChange",function(s){return e.DH7(o.agreementChecked,s)||(o.agreementChecked=s),s}),e.bIt("click",function(s){return o.openAgreementDialog(s)}),e.k0s(),e.j41(18,"label",12)(19,"span",13),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()(),e.DNE(22,mt,3,3,"div",14),e.k0s()(),e.j41(23,"p-dialog",15),e.mxI("visibleChange",function(s){return e.DH7(o.showAgreementDialog,s)||(o.showAgreementDialog=s),s}),e.DNE(24,gt,9,3,"ng-template",16)(25,ht,2,0,"div",17),e.j41(26,"div",18),e.DNE(27,ft,2,5,"div",19)(28,_t,3,3,"div",20),e.k0s(),e.DNE(29,bt,8,6,"ng-template",21),e.k0s()),2&n&&(e.R7$(2),e.SpI(" ",e.bMT(3,23,"INSIGHTER_WIZARD.CORPORATE_ACCOUNT_VERIFICATION")," "),e.R7$(3),e.SpI(" ",e.bMT(6,25,"INSIGHTER_WIZARD.IF_NEED_MORE_INFO_VERIFICATION")," "),e.R7$(3),e.SpI(" ",e.bMT(9,27,"INSIGHTER_WIZARD.HELP_PAGE")," "),e.R7$(3),e.Y8G("formGroup",o.form),e.R7$(),e.Y8G("ngIf","corporate"===o.defaultValues.accountType),e.R7$(5),e.R50("ngModel",o.agreementChecked),e.Y8G("ngModelOptions",e.lJ4(31,Qe)),e.R7$(3),e.SpI(" ",e.bMT(21,29,"AUTH.REGISTRATION.TERMS_AGREEMENT"),""),e.R7$(2),e.Y8G("ngIf",o.showAgreementError&&!o.agreementChecked),e.R7$(),e.Aen(e.lJ4(32,Je)),e.R50("visible",o.showAgreementDialog),e.Y8G("modal",!0)("closable",!0)("closeOnEscape",!1)("dismissableMask",!1)("draggable",!1)("resizable",!1)("focusOnShow",!0)("blockScroll",!0),e.R7$(2),e.Y8G("ngIf",o.isLoadingAgreement),e.R7$(2),e.Y8G("ngIf",!o.isLoadingAgreement&&o.agreementContent),e.R7$(),e.Y8G("ngIf",!o.isLoadingAgreement&&!o.agreementContent))},dependencies:[h.bT,d.me,d.Zm,d.Fm,d.BC,d.cb,d.j4,d.JD,d.vS,D.Ei,A.l,$.m,h.Jj,h.QX,v.D9],styles:[".terms-dialog[_ngcontent-%COMP%]   .p-dialog-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #eee}.terms-dialog[_ngcontent-%COMP%]   .p-dialog-content[_ngcontent-%COMP%]{padding:0}.terms-dialog[_ngcontent-%COMP%]   .terms-content-wrapper[_ngcontent-%COMP%]{padding:1.5rem}.terms-dialog[_ngcontent-%COMP%]   .terms-header-image[_ngcontent-%COMP%]{display:flex;justify-content:center}.terms-dialog[_ngcontent-%COMP%]   .terms-header-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:120px}.terms-dialog[_ngcontent-%COMP%]   .agreement-content[_ngcontent-%COMP%]{padding-right:10px;line-height:1.6}.terms-dialog[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.terms-dialog[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.terms-dialog[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:4px}.terms-dialog[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#aaa}.terms-dialog[_ngcontent-%COMP%]   .p-dialog-footer[_ngcontent-%COMP%]{border-top:1px solid #eee;padding:1rem 1.5rem}.dropzone[_ngcontent-%COMP%]{border:2px dashed #0095e8;border-radius:.75rem;padding:3rem;text-align:center;transition:all .3s ease}.dropzone[_ngcontent-%COMP%]:hover{background-color:#0095e80d;cursor:pointer}.dropzone[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.form-check[_ngcontent-%COMP%], .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{cursor:pointer}.radio-options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.radio-option[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding-left:0;margin-bottom:0}.radio-option[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{float:none;margin-left:0;margin-right:.75rem}.radio-option[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1rem;border-radius:.475rem;transition:all .2s ease;cursor:pointer}.radio-option[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]:hover{background-color:#f5f8fa}.radio-option[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;margin-right:.75rem;color:#7e8299}.radio-option[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.radio-option[_ngcontent-%COMP%]   .radio-text[_ngcontent-%COMP%]{font-weight:500;color:#181c32}.form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]{background-color:#f1faff;border-color:#e1f0ff}.form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{color:#009ef7}.form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]   .radio-text[_ngcontent-%COMP%]{color:#009ef7;font-weight:600}.nav-group[_ngcontent-%COMP%]   .btn-check[_ngcontent-%COMP%]:checked + .btn[_ngcontent-%COMP%]{background-color:#0095e81a;color:#0095e8;font-weight:600}.approval-note[_ngcontent-%COMP%]{font-size:.875rem;color:#666;font-style:italic}"]})}return i})();const S=(i,l)=>({current:i,completed:l}),vt=i=>({current:i});function It(i,l){if(1&i&&(e.qex(0),e.nrm(1,"app-step1",11),e.bVm()),2&i){const t=e.XpG();e.R7$(),e.Y8G("updateParentModel",t.updateAccount)("defaultValues",t.account$.value)}}function Ct(i,l){if(1&i&&(e.qex(0),e.nrm(1,"app-step2",11),e.bVm()),2&i){const t=e.XpG();e.R7$(),e.Y8G("updateParentModel",t.updateAccount)("defaultValues",t.account$.value)}}function Et(i,l){if(1&i&&(e.qex(0),e.nrm(1,"app-step3",11),e.bVm()),2&i){const t=e.XpG();e.R7$(),e.Y8G("updateParentModel",t.updateAccount)("defaultValues",t.account$.value)}}function Tt(i,l){1&i&&(e.qex(0),e.nrm(1,"app-step5",12),e.bVm())}function St(i,l){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.prevStep())}),e.nrm(2,"app-keenicon",14),e.EFF(3," Back "),e.k0s(),e.bVm()}}function Rt(i,l){1&i&&(e.qex(0),e.EFF(1),e.nrm(2,"app-keenicon",17),e.bVm()),2&i&&(e.R7$(),e.SpI(" Continue "," "," "))}function kt(i,l){1&i&&(e.qex(0),e.EFF(1," Submit "),e.bVm())}function yt(i,l){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div")(2,"button",15),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.nextStep())}),e.j41(3,"span",16),e.DNE(4,Rt,3,1,"ng-container",8)(5,kt,2,0,"ng-container",8),e.k0s()()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("disabled",!t.isCurrentFormValid$.value),e.R7$(2),e.Y8G("ngIf",t.currentStep$.value<t.formsCount-1),e.R7$(),e.Y8G("ngIf",t.currentStep$.value===t.formsCount-1)}}let Mt=(()=>{class i{formsCount=5;account$=new f.t(w);currentStep$=new f.t(1);isCurrentFormValid$=new f.t(!1);unsubscribe=[];constructor(){}ngOnInit(){}updateAccount=(t,n)=>{const r={...this.account$.value,...t};this.account$.next(r),this.isCurrentFormValid$.next(n)};nextStep(){const t=this.currentStep$.value+1;t>this.formsCount||this.currentStep$.next(t)}prevStep(){const t=this.currentStep$.value-1;0!==t&&this.currentStep$.next(t)}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=e.VBU({type:i,selectors:[["app-horizontal"]],decls:29,vars:25,consts:[[1,"card"],[1,"card-body"],["id","kt_create_account_stepper",1,"stepper","stepper-links","d-flex","flex-column","pt-15"],[1,"stepper-nav","mb-5"],[1,"stepper-item",3,"ngClass"],[1,"stepper-title"],["noValidate","","id","kt_create_account_form",1,"mx-auto","mw-600px","w-100","pt-15","pb-10"],[1,"current"],[4,"ngIf"],[1,"d-flex","flex-stack","pt-15"],[1,"mr-2"],[1,"w-100",3,"updateParentModel","defaultValues"],[1,"w-100"],["type","button",1,"btn","btn-lg","btn-light-primary","me-3",3,"click"],["name","arrow-left",1,"fs-3","ms-4","me-1"],["type","button",1,"btn","btn-lg","btn-primary","me-3",3,"click","disabled"],[1,"indicator-label"],["name","arrow-right",1,"fs-3","mx-2","me-0"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e.EFF(6,"Account Type"),e.k0s()(),e.j41(7,"div",4)(8,"h3",5),e.EFF(9,"Account Info"),e.k0s()(),e.j41(10,"div",4)(11,"h3",5),e.EFF(12,"Business Info"),e.k0s()(),e.j41(13,"div",4)(14,"h3",5),e.EFF(15,"Billing Details"),e.k0s()(),e.j41(16,"div",4)(17,"h3",5),e.EFF(18,"Completed"),e.k0s()()(),e.j41(19,"form",6)(20,"div",7),e.DNE(21,It,2,2,"ng-container",8)(22,Ct,2,2,"ng-container",8)(23,Et,2,2,"ng-container",8)(24,Tt,2,0,"ng-container",8),e.k0s(),e.j41(25,"div",9)(26,"div",10),e.DNE(27,St,4,0,"ng-container",8),e.k0s(),e.DNE(28,yt,6,3,"ng-container",8),e.k0s()()()()()),2&n&&(e.R7$(4),e.Y8G("ngClass",e.l_i(11,S,1===o.currentStep$.value,o.currentStep$.value>1)),e.R7$(3),e.Y8G("ngClass",e.l_i(14,S,2===o.currentStep$.value,o.currentStep$.value>2)),e.R7$(3),e.Y8G("ngClass",e.l_i(17,S,3===o.currentStep$.value,o.currentStep$.value>3)),e.R7$(3),e.Y8G("ngClass",e.l_i(20,S,4===o.currentStep$.value,o.currentStep$.value>4)),e.R7$(3),e.Y8G("ngClass",e.eq3(23,vt,5===o.currentStep$.value)),e.R7$(5),e.Y8G("ngIf",1===o.currentStep$.value),e.R7$(),e.Y8G("ngIf",2===o.currentStep$.value),e.R7$(),e.Y8G("ngIf",3===o.currentStep$.value),e.R7$(),e.Y8G("ngIf",5===o.currentStep$.value),e.R7$(3),e.Y8G("ngIf",1!==o.currentStep$.value),e.R7$(),e.Y8G("ngIf",o.currentStep$.value!==o.formsCount))},dependencies:[h.YU,h.bT,d.qT,d.cb,d.cV,V.w,y,F,G,O],encapsulation:2})}return i})();var xt=p(1594),Dt=p(8810),B=p(980);let Ft=(()=>{class i{http;translationService;individuial_insighter="https://api.foresighta.co/api/account/insighter/individual/register";company_insighter="https://api.foresighta.co/api/account/insighter/company/register";isLoadingSubject=new f.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t,n){this.http=t,this.translationService=n}setLoading(t){this.isLoadingSubject.next(t),this.currentLang=this.translationService.getSelectedLanguage(),this.translationService.onLanguageChange().subscribe(n=>{this.currentLang=n||"en"})}handleError(t){return(0,Dt.$)(t)}personalInsighterRegister(t){const n=new b.Lr({"Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(this.individuial_insighter,t,{headers:n}).pipe((0,C.T)(o=>o),(0,M.W)(o=>this.handleError(o)),(0,B.j)(()=>this.setLoading(!1)))}corporateInsighterRegister(t){const n=new b.Lr({"Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(this.company_insighter,t,{headers:n}).pipe((0,C.T)(o=>o),(0,M.W)(o=>this.handleError(o)),(0,B.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||i)(e.KVO(b.Qq),e.KVO(E.L))};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Nt=p(4367),At=p(7112),W=p(9998);const R=(i,l)=>({current:i,completed:l});function $t(i,l){1&i&&e.nrm(0,"div",18)}function Gt(i,l){if(1&i&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12),e.nrm(3,"i",13),e.j41(4,"span",14),e.EFF(5,"4"),e.k0s()(),e.j41(6,"div",15)(7,"h3",16),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",17),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()),2&i){const t=e.XpG(2);e.Y8G("ngClass",e.l_i(7,R,5===t.currentStep$.value,t.currentStep$.value>5)),e.R7$(8),e.JRh(e.bMT(9,3,"INSIGHTER_WIZARD.VERIFY_ACCOUNT")),e.R7$(3),e.JRh(e.bMT(12,5,"INSIGHTER_WIZARD.VERIFY_ACCOUNT_DESC"))}}function Ot(i,l){if(1&i&&(e.qex(0),e.nrm(1,"app-step1",28),e.bVm()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("updateParentModel",t.updateAccount)("defaultValues",t.account$.value)}}function jt(i,l){if(1&i&&(e.qex(0),e.nrm(1,"app-step2",28),e.bVm()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("updateParentModel",t.updateAccount)("defaultValues",t.account$.value)}}function Pt(i,l){if(1&i&&(e.qex(0),e.nrm(1,"app-step3",28),e.bVm()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("updateParentModel",t.updateAccount)("defaultValues",t.account$.value)}}function wt(i,l){if(1&i&&(e.qex(0),e.nrm(1,"app-step5",28),e.bVm()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("updateParentModel",t.updateAccount)("defaultValues",t.account$.value)}}function Vt(i,l){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"button",29),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.prevStep())}),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.bVm()}2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"INSIGHTER_WIZARD.BACK")," "))}function Lt(i,l){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div")(2,"button",30),e.nI1(3,"async"),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.nextStep())}),e.j41(4,"span",31),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.bVm()}if(2&i){const t=e.XpG(2);e.R7$(2),e.Y8G("disabled",e.bMT(3,2,t.isLoadingSubmit$)),e.R7$(3),e.SpI(" ",e.bMT(6,4,"INSIGHTER_WIZARD.CONTINUE")," ")}}function Yt(i,l){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div")(2,"button",30),e.nI1(3,"async"),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.submit())}),e.j41(4,"span",31),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.bVm()}if(2&i){const t=e.XpG(2);e.R7$(2),e.Y8G("disabled",e.bMT(3,2,t.isLoadingSubmit$)),e.R7$(3),e.SpI(" ",e.bMT(6,4,"INSIGHTER_WIZARD.SUBMIT")," ")}}function Ht(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12),e.nrm(7,"i",13),e.j41(8,"span",14),e.EFF(9,"1"),e.k0s()(),e.j41(10,"div",15)(11,"h3",16),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"div",17),e.EFF(15),e.nI1(16,"translate"),e.k0s()()(),e.nrm(17,"div",18),e.k0s(),e.j41(18,"div",10)(19,"div",11)(20,"div",12),e.nrm(21,"i",13),e.j41(22,"span",14),e.EFF(23,"2"),e.k0s()(),e.j41(24,"div",15)(25,"h3",16),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"div",17),e.EFF(29),e.nI1(30,"translate"),e.k0s()()(),e.nrm(31,"div",18),e.k0s(),e.j41(32,"div",10)(33,"div",11)(34,"div",12),e.nrm(35,"i",13),e.j41(36,"span",14),e.EFF(37,"3"),e.k0s()(),e.j41(38,"div",15)(39,"h3",16),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"div",17),e.EFF(43),e.nI1(44,"translate"),e.k0s()()(),e.DNE(45,$t,1,0,"div",19),e.k0s(),e.DNE(46,Gt,13,10,"div",20),e.k0s()()(),e.j41(47,"div",21)(48,"form",22)(49,"p-messages",23),e.mxI("valueChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.messages,o)||(r.messages=o),e.Njj(o)}),e.k0s(),e.j41(50,"div",24),e.DNE(51,Ot,2,2,"ng-container",25)(52,jt,2,2,"ng-container",25)(53,Pt,2,2,"ng-container",25)(54,wt,2,2,"ng-container",25),e.k0s(),e.j41(55,"div",26)(56,"div",27),e.DNE(57,Vt,4,3,"ng-container",25),e.k0s(),e.DNE(58,Lt,7,6,"ng-container",25),e.nI1(59,"async"),e.nI1(60,"async"),e.DNE(61,Yt,7,6,"ng-container",25),e.nI1(62,"async"),e.nI1(63,"async"),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngClass",e.l_i(40,R,1===t.currentStep$.value,t.currentStep$.value>1)),e.R7$(8),e.SpI(" ",e.bMT(13,20,"INSIGHTER_WIZARD.ACCOUNT_TYPE")," "),e.R7$(3),e.SpI(" ",e.bMT(16,22,"INSIGHTER_WIZARD.ACCOUNT_DETAILS_DESC")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(43,R,2===t.currentStep$.value,t.currentStep$.value>2)),e.R7$(8),e.SpI(" ",e.bMT(27,24,"INSIGHTER_WIZARD.ACCOUNT_INFO")," "),e.R7$(3),e.SpI(" ",e.bMT(30,26,"INSIGHTER_WIZARD.ACCOUNT_INFO_DESC")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(46,R,3===t.currentStep$.value,t.currentStep$.value>3)),e.R7$(8),e.SpI(" ",e.bMT(41,28,"INSIGHTER_WIZARD.CERTIFICATES")," "),e.R7$(3),e.SpI(" ",e.bMT(44,30,"INSIGHTER_WIZARD.CERTIFICATES_DESC")," "),e.R7$(2),e.Y8G("ngIf","corporate"===t.account$.value.accountType),e.R7$(),e.Y8G("ngIf","corporate"===t.account$.value.accountType),e.R7$(3),e.R50("value",t.messages),e.Y8G("enableService",!1),e.R7$(2),e.Y8G("ngIf",1===t.currentStep$.value),e.R7$(),e.Y8G("ngIf",2===t.currentStep$.value),e.R7$(),e.Y8G("ngIf",3===t.currentStep$.value),e.R7$(),e.Y8G("ngIf",4===t.currentStep$.value),e.R7$(3),e.Y8G("ngIf",1!==t.currentStep$.value),e.R7$(),e.Y8G("ngIf",!(e.bMT(59,32,t.currentStep$)===e.bMT(60,34,t.formsCount$)||3===t.currentStep$.value&&"personal"===t.account$.value.accountType||4===t.currentStep$.value&&"corporate"===t.account$.value.accountType)),e.R7$(3),e.Y8G("ngIf",e.bMT(62,36,t.currentStep$)===e.bMT(63,38,t.formsCount$)||3===t.currentStep$.value&&"personal"===t.account$.value.accountType||4===t.currentStep$.value&&"corporate"===t.account$.value.accountType)}}function Ut(i,l){1&i&&(e.j41(0,"div",58)(1,"div",43)(2,"div",44)(3,"div",45)(4,"div",46)(5,"div",47)(6,"span",59),e.qSk(),e.j41(7,"svg",60),e.nrm(8,"path",61)(9,"path",62)(10,"path",63)(11,"path",64)(12,"path",65)(13,"path",66),e.j41(14,"g",67),e.nrm(15,"path",68)(16,"path",69)(17,"path",70)(18,"path",71)(19,"path",72)(20,"path",73)(21,"path",74),e.k0s()()()()(),e.joV(),e.j41(22,"div",50)(23,"h3",51),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"p",52),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()()()()),2&i&&(e.R7$(24),e.SpI(" ",e.bMT(25,2,"CONGRATS_CARD.FEATURES.MANAGE_INSIGHTERS")," "),e.R7$(3),e.SpI(" ",e.bMT(28,4,"CONGRATS_CARD.FEATURES.MANAGE_INSIGHTERS_DESC")," "))}function Bt(i,l){if(1&i&&(e.j41(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",35),e.nrm(4,"lottie-player",36),e.j41(5,"div",37)(6,"div",38),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",39)(10,"p",40),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",41)(14,"div",42)(15,"div",43)(16,"div",44)(17,"div",45)(18,"div",46)(19,"div",47)(20,"span",48),e.nrm(21,"img",49),e.k0s()()(),e.j41(22,"div",50)(23,"h3",51),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"p",52),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()()()(),e.DNE(29,Ut,29,6,"div",53),e.k0s(),e.j41(30,"div",54)(31,"button",55)(32,"span",31),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"span",56),e.EFF(36,"Please wait... "),e.nrm(37,"span",57),e.k0s()()()()()()()()()),2&i){const t=e.XpG();e.R7$(7),e.SpI(" ",e.bMT(8,7,"CONGRATS_CARD.TITLE")," "),e.R7$(4),e.SpI(" ",e.bMT(12,9,"CONGRATS_CARD.DESCRIPTION")," "),e.R7$(3),e.Y8G("ngClass",t.userRoles.includes("company")?"col-md-6":"col-md-12"),e.R7$(10),e.SpI(" ",e.bMT(25,11,"CONGRATS_CARD.FEATURES.UPLOAD_INSIGHTS")," "),e.R7$(3),e.SpI(" ",e.bMT(28,13,"CONGRATS_CARD.FEATURES.UPLOAD_INSIGHTS_DESC")," "),e.R7$(2),e.Y8G("ngIf",t.userRoles.includes("company")),e.R7$(4),e.JRh(e.bMT(34,15,"CONGRATS_CARD.BUTTON"))}}function Wt(i,l){1&i&&(e.j41(0,"div",32)(1,"div",75)(2,"div",34)(3,"div",35)(4,"div",76)(5,"div"),e.nrm(6,"img",77),e.k0s(),e.j41(7,"div",78),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",39)(11,"p",79),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"p",79),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"div",80)(18,"a",81),e.EFF(19),e.nI1(20,"translate"),e.k0s()()()()()()()()),2&i&&(e.R7$(8),e.SpI(" ",e.bMT(9,4,"ACCOUNT_PENDING.TITLE")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"ACCOUNT_PENDING.MESSAGE1")," "),e.R7$(3),e.SpI(" ",e.bMT(16,8,"ACCOUNT_PENDING.MESSAGE2")," "),e.R7$(4),e.SpI(" ",e.bMT(20,10,"ACCOUNT_PENDING.BUTTON")," "))}const Xt=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=e.VBU({type:i,selectors:[["app-wizards"]],decls:2,vars:0,consts:[[1,"container","mt-100","mb-20","d-flex","justify-content-center","align-items-center"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.nrm(1,"router-outlet"),e.k0s())},dependencies:[I.n3],encapsulation:2})}return i})(),children:[{path:"horizontal",component:Mt},{path:"vertical",component:(()=>{class i extends N.${insighterRegistraionService;router;translateService;auth;commonService;getProfileService;step1Component;step2Component;step3Component;step5Component;formsCount$=new f.t(3);onSuccessMessage=!1;onPendingMessage=!1;user;userRoles=[];messages=[];account$=new f.t(w);currentStep$=new f.t(1);isCurrentFormValid$=new f.t(!1);isLoadingSubmit$=(0,_.of)(!1);lang="en";companySelected=!1;constructor(t,n,o,r,s,c,g){super(c),this.insighterRegistraionService=t,this.router=n,this.translateService=o,this.auth=r,this.commonService=s,this.getProfileService=g,this.isLoadingSubmit$=this.insighterRegistraionService.isLoading$}ngOnInit(){this.translateService.onLanguageChange().subscribe(t=>{this.lang=t}),this.checkUserRoleAndVerificaiton(),this.commonService.companySectionSelected$.subscribe(t=>{this.companySelected=t})}checkUserRoleAndVerificaiton(){const t=this.getProfileService.getProfile().subscribe({next:n=>{if(this.user=n,n.country_id){const r={...this.account$.value,country:n.country_id};this.account$.next(r)}},error:n=>{this.messages.push({severity:"error",summary:"",detail:"Error fetchingUsers"})}});this.unsubscribe.push(t)}updateAccount=(t,n)=>{const r={...this.account$.value,...t};this.account$.next(r),this.isCurrentFormValid$.next(n),t.accountType&&this.formsCount$.next("corporate"===t.accountType?4:3)};nextStep(){const t=this.currentStep$.value,n=this.account$.value.accountType,o=this.formsCount$.value;if(console.log(this.account$.value),3===t&&"personal"===n)return void this.submit();if(4===t&&"corporate"===n)return void this.submit();let r=!1;if(1===t&&this.step1Component?r=this.step1Component.validateAndMarkTouched():2===t&&this.step2Component?r=this.step2Component.validateAndMarkTouched():3===t&&this.step3Component?r="personal"===n?this.step3Component.prepareForSubmit():this.step3Component.form.valid:4===t&&this.step5Component&&(r=this.step5Component.prepareForSubmit()),!r)return;const s=t+1;s>o||this.currentStep$.next(s)}toUploadInsighta(){this.router.navigate(["/app"])}prevStep(){const t=this.currentStep$.value-1;0!==t&&this.currentStep$.next(t)}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}preparePersonalData(t){const n=t.isicCodes.filter(a=>"number"==typeof a.key),o=t.isicCodes.filter(a=>"string"==typeof a.key&&"selectAll"!==a.key&&null!=a.data.customInput),r=t.consultingFields.filter(a=>"number"==typeof a.key),s=t.consultingFields.filter(a=>"string"==typeof a.key&&"selectAll"!==a.key&&null!=a.data.customInput),c=new FormData;c.append("bio",t.bio?t.bio:""),t.country&&c.append("country_id",t.country.toString()),t.phoneNumber&&c.append("phone","+"+(t.phoneCountryCode||"")+t.phoneNumber),n&&n.length>0&&n.forEach(a=>{c.append("industries[]",a.key.toString())}),r&&r.length>0&&r.forEach(a=>{c.append("consulting_field[]",a.key.toString())}),o&&o.length>0&&o.forEach((a,m)=>{c.append(`suggest_industries[${m}][parent_id]`,"selectAll"===a.parent.key?0:a.parent.key),c.append(`suggest_industries[${m}][name][en]`,a.data.customInput),c.append(`suggest_industries[${m}][name][ar]`,a.data.customInput)}),s&&s.length>0&&s.forEach((a,m)=>{c.append(`suggest_consulting_fields[${m}][parent_id]`,"selectAll"===a.parent.key?0:a.parent.key),c.append(`suggest_consulting_fields[${m}][name][en]`,a.data.customInput),c.append(`suggest_consulting_fields[${m}][name][ar]`,a.data.customInput)}),t.certifications&&t.certifications.length>0&&t.certifications?.forEach((a,m)=>{c.append(`certification[${m}][type]`,a.type),c.append(`certification[${m}][file]`,a.file)}),c.append("insighter_agreement","true");const g=[];return c.forEach((a,m)=>{g.push({key:m,value:a.toString()})}),c}prepareCorporateAccount(t){const n=new FormData;n.append("about_us",t.aboutCompany?t.aboutCompany:""),n.append("legal_name",t.legalName?t.legalName:""),n.append("address",t.companyAddress?t.companyAddress:""),n.append("logo",t.logo),t.country&&n.append("country_id",t.country.toString()),"websiteEmail"===t.verificationMethod?(n.append("website",t.website?.toLowerCase()?t.website.toLocaleLowerCase():""),n.append("verified_email",t.companyEmail?.toLocaleLowerCase()?t.companyEmail.toLocaleLowerCase():""),n.append("code",t.code?t.code:"")):"uploadDocument"===t.verificationMethod&&t.registerDocument&&n.append("register_document",t.registerDocument),t.phoneCompanyNumber&&n.append("company_phone","+"+t.phoneCountryCode+t.phoneCompanyNumber);const o=t.isicCodes.filter(a=>"number"==typeof a.key),r=t.isicCodes.filter(a=>"string"==typeof a.key&&"selectAll"!==a.key&&null!=a.data.customInput),s=t.consultingFields.filter(a=>"number"==typeof a.key),c=t.consultingFields.filter(a=>"string"==typeof a.key&&"selectAll"!==a.key&&null!=a.data.customInput);o&&o.length>0&&o.forEach(a=>{n.append("industries[]",a.key.toString())}),s&&s.length>0&&s.forEach(a=>{n.append("consulting_field[]",a.key.toString())}),r&&r.length>0&&r.forEach((a,m)=>{n.append(`suggest_industries[${m}][parent_id]`,"selectAll"===a.parent.key?0:a.parent.key),n.append(`suggest_industries[${m}][name][en]`,a.data.customInput),n.append(`suggest_industries[${m}][name][ar]`,a.data.customInput)}),c&&c.length>0&&c.forEach((a,m)=>{n.append(`suggest_consulting_fields[${m}][parent_id]`,"selectAll"===a.parent.key?0:a.parent.key),n.append(`suggest_consulting_fields[${m}][name][en]`,a.data.customInput),n.append(`suggest_consulting_fields[${m}][name][ar]`,a.data.customInput)}),t.certifications&&t.certifications.length>0&&t.certifications?.forEach((a,m)=>{n.append(`certification[${m}][type]`,a.type),n.append(`certification[${m}][file]`,a.file)}),n.append("company_agreement","true");const g=[];return n.forEach((a,m)=>{g.push({key:m,value:a.toString()})}),n}submit(){if(3===this.currentStep$.value&&this.step3Component){if(!this.step3Component.prepareForSubmit())return}else if(4===this.currentStep$.value&&this.step5Component&&!this.step5Component.prepareForSubmit())return;this.account$.pipe((0,xt.$)()).subscribe(t=>{const n=t;if("personal"===n.accountType?n.insighterAgreement:n.companyAgreement)if("personal"===n.accountType){const r=this.preparePersonalData(n),s=this.insighterRegistraionService.personalInsighterRegister(r).subscribe({next:c=>{this.onSuccessMessage=!0;const g=this.getProfileService.refreshProfile().subscribe({next:a=>{this.userRoles=a.roles||[]}});this.unsubscribe.push(g)},error:c=>{this.handleServerErrors(c)}});this.unsubscribe.push(s)}else{const r=this.prepareCorporateAccount(n),s=this.insighterRegistraionService.corporateInsighterRegister(r).subscribe({next:c=>{if("uploadDocument"===n.verificationMethod)this.onPendingMessage=!0;else{this.onSuccessMessage=!0;const g=this.getProfileService.refreshProfile().subscribe({next:a=>{this.userRoles=a.roles||[]}});this.unsubscribe.push(g)}},error:c=>{this.handleServerErrors(c)}});this.unsubscribe.push(s)}else this.messageService.add({severity:"error",summary:"Error",detail:"personal"===n.accountType?"You must agree to the Insighter Terms of Service to proceed.":"You must agree to the Company Terms of Service to proceed."})})}handleServerErrors(t){if(t.error&&t.error.errors){const n=t.error.errors;for(const o in n)n.hasOwnProperty(o)&&this.showError("",n[o].join(", "),1e4)}else this.showError("","An unexpected error occurred.")}static \u0275fac=function(n){return new(n||i)(e.rXU(Ft),e.rXU(I.Ix),e.rXU(E.L),e.rXU(Nt.uR),e.rXU(T.h),e.rXU(e.zZn),e.rXU(At.p))};static \u0275cmp=e.VBU({type:i,selectors:[["app-vertical"]],viewQuery:function(n,o){if(1&n&&(e.GBs(y,5),e.GBs(F,5),e.GBs(G,5),e.GBs(O,5)),2&n){let r;e.mGM(r=e.lsd())&&(o.step1Component=r.first),e.mGM(r=e.lsd())&&(o.step2Component=r.first),e.mGM(r=e.lsd())&&(o.step3Component=r.first),e.mGM(r=e.lsd())&&(o.step5Component=r.first)}},features:[e.Vt3],decls:12,vars:9,consts:[[1,"h-100px","w-100","d-flex","flex-column","justify-content-center","w-100",2,"background-image","url('./assets/media/auth/bg-dark-line-blue.jpg')","background-size","cover","background-position","center","border-radius","10px","margin-bottom","10px"],[1,"m-auto","d-flex","flex-column",2,"padding-inline-start","7rem"],[1,"fs-2x","fw-bolder","text-white","m-0","p-0"],[1,"text-center","text-gray-300","fw-semibold","m-0","p-0"],["class","\n    stepper stepper-pills stepper-column\n    d-flex\n    flex-column flex-xl-row flex-row-fluid\n  ","id","kt_create_account_stepper",4,"ngIf"],["class","w-400px w-xl-800px m-auto",4,"ngIf"],["id","kt_create_account_stepper",1,"stepper","stepper-pills","stepper-column","d-flex","flex-column","flex-xl-row","flex-row-fluid"],[1,"d-flex","justify-content-center","justify-content-xl-start","flex-row-auto","w-100","w-xl-300px","w-xxl-350px","me-9"],[1,"px-6","px-lg-10","px-xxl-15","py-20"],[1,"stepper-nav"],[1,"stepper-item",3,"ngClass"],[1,"stepper-wrapper"],[1,"stepper-icon","w-40px","h-40px"],[1,"stepper-check","fas","fa-check"],[1,"stepper-number"],[1,"stepper-label"],[1,"stepper-title"],[1,"stepper-desc","fw-semibold"],[1,"stepper-line","h-40px"],["class","stepper-line h-40px",4,"ngIf"],["class","stepper-item",3,"ngClass",4,"ngIf"],[1,"d-flex","flex-row-fluid","flex-center","bg-body","rounded","border","border-gray-200","border-1"],["noValidate","","id","kt_create_account_form",1,"py-20","w-100","w-xl-700px","px-9"],[3,"valueChange","value","enableService"],[1,"current"],[4,"ngIf"],[1,"d-flex","flex-stack","pt-10"],[1,"mr-2"],[1,"w-100",3,"updateParentModel","defaultValues"],["type","button",1,"btn","btn-lg","btn-light-primary","me-3",3,"click"],["type","button",1,"btn","btn-lg","btn-primary","me-3",3,"click","disabled"],[1,"indicator-label"],[1,"w-400px","w-xl-800px","m-auto"],[1,"card","border-1","border-muted"],[1,"card-body","p-9"],[1,"d-flex","flex-column","align-items-center"],["src","https://lottie.host/31b881d5-a1dc-4fa4-a360-61ddfc81f77d/6tberhm4xq.json","background","##fff","speed","1","loop","","autoplay","","direction","1","mode","normal",2,"width","180px","height","180px"],[1,"w-100","p-4"],[1,"text-primary","text-center","fs-1","my-5","fw-bold"],[1,"fs-5"],[1,"text-center","mb-8"],[1,"row","g-5","mb-8"],[1,"col-md-6",3,"ngClass"],[1,"card","card-bordered","h-100","overflow-hidden"],[1,"card-body","p-5"],[1,"d-flex","flex-column","h-100"],[1,"mb-7","text-center"],[1,"symbol","symbol-60px","symbol-circle","mb-2"],[1,"symbol-label"],["src","https://cdn-icons-png.freepik.com/512/6303/6303009.png","alt","icon",1,"w-100"],[1,"text-center","mb-5"],[1,"text-info","fw-bold","fs-4","mb-3"],[1,"text-muted","mb-0"],["class","col-md-6",4,"ngIf"],[1,"d-flex","justify-content-center"],["routerLink","/app/add-knowledge/stepper",1,"btn","btn-lg","btn-primary","px-6","py-3"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"col-md-6"],[1,"symbol-label","bg-light-info"],["viewBox","0 0 480 480.00115","width","480pt","xmlns","http://www.w3.org/2000/svg"],["d","m280 232c0 22.089844-17.90625 40-40 40-22.089844 0-40-17.910156-40-40s17.910156-40 40-40c22.09375 0 40 17.910156 40 40zm0 0","fill","#9bc9ff"],["d","m416 264c0 22.089844-17.90625 40-40 40-22.089844 0-40-17.910156-40-40s17.910156-40 40-40c22.09375 0 40 17.910156 40 40zm0 0","fill","#9bc9ff"],["d","m144 264c0 22.089844-17.90625 40-40 40-22.089844 0-40-17.910156-40-40s17.910156-40 40-40c22.09375 0 40 17.910156 40 40zm0 0","fill","#9bc9ff"],["d","m208 296h64c35.347656 0 64 28.652344 64 64v80c0 17.671875-14.328125 32-32 32h-128c-17.671875 0-32-14.328125-32-32v-80c0-35.347656 28.65625-64 64-64zm0 0","fill","#9bc9ff"],["d","m344 328h64c35.347656 0 64 28.652344 64 64v32c0 26.507812-21.488281 48-48 48h-144v-80c0-35.347656 28.65625-64 64-64zm0 0","fill","#9bc9ff"],["d","m200 472h-144c-26.507812 0-48-21.492188-48-48v-32c0-35.347656 28.65625-64 64-64h64c35.347656 0 64 28.652344 64 64zm0 0","fill","#9bc9ff"],["fill","#1e81ce"],["d","m432 264v-16c4.417969 0 8-3.582031 8-8v-48c0-4.417969-3.582031-8-8-8h-43.199219l-1.550781-6.007812c-3.535156-13.746094-9.03125-26.910157-16.320312-39.089844l-3.199219-5.351563 30.671875-30.726562c3.085937-3.09375 3.085937-8.105469 0-11.199219l-33.976563-34.023438c-3.136719-2.992187-8.066406-2.992187-11.203125 0l-30.726562 30.726563-5.351563-3.199219c-12.195312-7.292968-25.375-12.789062-39.136719-16.328125l-6.007812-1.5625v-43.238281c0-4.417969-3.582031-8-8-8h-48c-4.417969 0-8 3.582031-8 8v43.199219l-6.007812 1.554687c-13.746094 3.535156-26.910157 9.027344-39.09375 16.308594l-5.355469 3.203125-30.71875-30.664063c-3.140625-3.015624-8.097657-3.015624-11.238281 0l-33.984376 33.972657c-1.496093 1.492187-2.335937 3.515625-2.335937 5.625 0 2.113281.839844 4.136719 2.335937 5.625l30.726563 30.726562-3.199219 5.351563c-7.289062 12.179687-12.785156 25.34375-16.320312 39.089844l-1.566406 6.007812h-43.242188c-4.417969 0-8 3.582031-8 8v48c0 4.417969 3.582031 8 8 8v16c-13.253906 0-24-10.746094-24-24v-48c0-13.253906 10.746094-24 24-24h30.953125c3.300781-11.0625 7.761719-21.742188 13.3125-31.863281l-22-22c-4.5-4.488281-7.027344-10.582031-7.027344-16.9375 0-6.351563 2.527344-12.445313 7.027344-16.933594l34-34c9.472656-9.066406 24.40625-9.066406 33.878906 0l21.992188 21.992187c10.121093-5.546874 20.804687-10 31.863281-13.296874v-30.960938c0-13.253906 10.746094-24 24-24h48c13.253906 0 24 10.746094 24 24v30.960938c11.0625 3.296874 21.742188 7.757812 31.863281 13.304687l22-22c9.476563-9.066406 24.40625-9.066406 33.882813 0l33.992187 33.992187c4.496094 4.488282 7.023438 10.578126 7.023438 16.933594 0 6.355469-2.527344 12.449219-7.023438 16.9375l-22 22c5.546875 10.125 10.007813 20.808594 13.308594 31.871094h30.953125c13.253906 0 24 10.746094 24 24v48c0 13.253906-10.746094 24-24 24zm0 0"],["d","m352 216h-16c0-53.019531-42.980469-96-96-96s-96 42.980469-96 96h-16c0-61.855469 50.144531-112 112-112s112 50.144531 112 112zm0 0"],["d","m240 280c-26.507812 0-48-21.492188-48-48s21.492188-48 48-48c26.511719 0 48 21.492188 48 48-.027344 26.5-21.5 47.972656-48 48zm0-80c-17.671875 0-32 14.328125-32 32s14.328125 32 32 32 32-14.328125 32-32-14.328125-32-32-32zm0 0"],["d","m376 312c-26.507812 0-48-21.492188-48-48s21.492188-48 48-48c26.511719 0 48 21.492188 48 48-.027344 26.5-21.5 47.972656-48 48zm0-80c-17.671875 0-32 14.328125-32 32s14.328125 32 32 32 32-14.328125 32-32-14.328125-32-32-32zm0 0"],["d","m104 312c-26.507812 0-48-21.492188-48-48s21.492188-48 48-48c26.511719 0 48 21.492188 48 48-.027344 26.5-21.5 47.972656-48 48zm0-80c-17.671875 0-32 14.328125-32 32s14.328125 32 32 32 32-14.328125 32-32-14.328125-32-32-32zm0 0"],["d","m448.527344 332.527344c-11.921875-8.195313-26.058594-12.566406-40.527344-12.527344h-64c-3.890625.035156-7.773438.386719-11.609375 1.054688-5.117187-8.007813-11.777344-14.914063-19.589844-20.328126-1.171875-.886718-2.402343-1.6875-3.6875-2.398437-11.191406-6.777344-24.03125-10.347656-37.113281-10.328125h-64c-24.464844-.085938-47.261719 12.398438-60.367188 33.054688-3.84375-.667969-7.734374-1.019532-11.632812-1.054688h-64c-14.457031-.039062-28.585938 4.324219-40.503906 12.511719-19.691406 13.398437-31.4843752 35.671875-31.496094 59.488281v32c.0273438 21.84375 12.738281 41.683594 32.578125 50.832031 7.324219 3.449219 15.328125 5.214844 23.421875 5.167969h80v-16h-72v-88h-16v87.199219c-3.011719-.605469-5.9375-1.578125-8.710938-2.894531-14.171874-6.535157-23.257812-20.699219-23.289062-36.304688v-32c.019531-18.535156 9.203125-35.863281 24.527344-46.289062 9.261718-6.355469 20.238281-9.742188 31.472656-9.710938h64c1.410156 0 2.769531.152344 4.144531.246094-2.707031 7.628906-4.109375 15.660156-4.144531 23.753906v80c.027344 22.082031 17.921875 39.972656 40 40h24v-128h-16v112h-8c-13.253906 0-24-10.746094-24-24v-80c0-30.929688 25.074219-56 56-56h64c10.292969.007812 20.382812 2.855469 29.160156 8.230469.8125.445312 1.59375.945312 2.335938 1.496093 7.496094 5.132813 13.648437 11.992188 17.9375 20 4.308594 8.085938 6.566406 17.109376 6.566406 26.273438v80c0 13.253906-10.746094 24-24 24h-8v-112h-16v128h24c22.082031-.027344 39.972656-17.917969 40-40v-80c-.035156-8.09375-1.433594-16.121094-4.136719-23.753906 1.378907-.09375 2.738281-.246094 4.136719-.246094h64c11.242188-.03125 22.230469 3.363281 31.496094 9.726562 15.3125 10.429688 24.484375 27.746094 24.503906 46.273438v32c-.027344 15.660156-9.179688 29.867188-23.421875 36.367188-2.734375 1.292968-5.613281 2.242187-8.578125 2.832031v-87.199219h-16v88h-72v16h80c8.046875.050781 16.003906-1.691406 23.289062-5.105469 19.90625-9.121093 32.679688-28.996093 32.710938-50.894531v-32c-.011719-23.808594-11.792969-46.070312-31.472656-59.472656zm0 0"],["d","m208 464h64v16h-64zm0 0"],[1,"card"],[1,"text-center","p-4"],["src","./assets/media/svg/general/waiting-account.svg","alt","waiting-account",1,"w-100px"],[1,"text-warning","fs-1","my-5","fw-bold"],[1,"text-inline-start"],[1,"d-flex","justify-content-center","mt-4"],["href","/support",1,"btn","btn-secondary"]],template:function(n,o){1&n&&(e.nrm(0,"p-toast"),e.j41(1,"div",0)(2,"div",1)(3,"h1",2),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"p",3),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,Ht,64,49,"div",4)(10,Bt,38,17,"div",5)(11,Wt,21,12,"div",5)),2&n&&(e.R7$(4),e.JRh(e.bMT(5,5,o.companySelected?"BECOME_COMPANY_HEADER":"BECOME_INSIHGER_HEADER")),e.R7$(3),e.SpI(" ",e.bMT(8,7,"BECOME_INSIGHTER_DESCRIPTION"),"\n"),e.R7$(2),e.Y8G("ngIf",!o.onPendingMessage&&!o.onSuccessMessage),e.R7$(),e.Y8G("ngIf",o.onSuccessMessage),e.R7$(),e.Y8G("ngIf",o.onPendingMessage))},dependencies:[h.YU,h.bT,I.Wk,d.qT,d.cb,d.cV,W.y8,x.B,y,F,G,O,h.Jj,v.D9],encapsulation:2})}return i})()},{path:"",redirectTo:"vertical",pathMatch:"full"},{path:"**",redirectTo:"vertical",pathMatch:"full"}]}];let zt=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.$C({type:i});static \u0275inj=e.G2t({imports:[I.iI.forChild(Xt),I.iI]})}return i})();var Zt=p(8646),qt=p(1579),Qt=p(6296),Jt=p(5114),Kt=p(5033),en=p(185);let tn=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.$C({type:i});static \u0275inj=e.G2t({imports:[h.MD]})}return i})();var nn=p(8870);let on=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.$C({type:i});static \u0275inj=e.G2t({providers:[Kt.w],imports:[h.MD,zt,E.E,d.X1,d.YN,qt.d,tn,W.MB,A.P,en.VG,$.S,Y.o,H.R,U.kr,Jt.u,Qt.iV,x.h,P.n8,nn.W,Zt.G]})}return i})()}}]);