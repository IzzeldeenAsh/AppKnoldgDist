"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[8753],{8753:(ot,m,a)=>{a.r(m),a.d(m,{InsighterWalletsModule:()=>nt});var l=a(177),c=a(9417),d=a(2791),p=a(5098),t=a(4438),u=a(1626),v=a(4412),k=a(8810),f=a(9437),_=a(980),x=a(779);let b=(()=>{class n{http;translationService;baseUrl="https://api.foresighta.co/api/admin/fund";isLoadingSubject=new v.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(e,i){this.http=e,this.translationService=i,this.translationService.onLanguageChange().subscribe(o=>{this.currentLang=o||"en"})}setLoading(e){this.isLoadingSubject.next(e)}getHeaders(){return new u.Lr({"Content-Type":"application/json",Accept:"application/json","Accept-Language":this.currentLang,"X-Timezone":Intl.DateTimeFormat().resolvedOptions().timeZone})}handleError(e){return(0,k.$)(e)}getInsighterWallets(e=1,i,o){const s=this.getHeaders();this.setLoading(!0);let g=`${this.baseUrl}/insighter?page=${e}`;return void 0!==i&&(g+=`&overdue_wired_transaction=${i}`),o&&(g+=`&balance_status=${o}`),this.http.get(g,{headers:s}).pipe((0,f.W)(it=>this.handleError(it)),(0,_.j)(()=>this.setLoading(!1)))}getInsighterTransactions(e,i=1){const o=this.getHeaders();return this.setLoading(!0),this.http.get(`${this.baseUrl}/insighter/transaction/${e}?page=${i}`,{headers:o}).pipe((0,f.W)(s=>this.handleError(s)),(0,_.j)(()=>this.setLoading(!1)))}static \u0275fac=function(i){return new(i||n)(t.KVO(u.Qq),t.KVO(x.L))};static \u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const C=()=>[];function F(n,r){1&n&&(t.j41(0,"div",3)(1,"div",4)(2,"span",5),t.EFF(3,"Loading..."),t.k0s()()())}function I(n,r){if(1&n&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.value),t.R7$(),t.SpI(" ",e.label," ")}}function P(n,r){if(1&n&&t.nrm(0,"img",47),2&n){const e=t.XpG().$implicit;t.Y8G("src",e.profile_photo_url,t.B4B)}}function y(n,r){if(1&n&&(t.j41(0,"div",48),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.name.charAt(0)," ")}}function j(n,r){1&n&&t.nrm(0,"i",52)}function w(n,r){if(1&n&&(t.j41(0,"span",49)(1,"span",50),t.EFF(2),t.k0s(),t.DNE(3,j,1,0,"i",51),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(2),t.JRh(e.company.legal_name),t.R7$(),t.Y8G("ngIf",e.company.verified)}}function M(n,r){if(1&n&&(t.j41(0,"span",53),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.phone)}}function O(n,r){if(1&n&&(t.j41(0,"span",40),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.last_wired_transfer,"mediumDate")," ")}}function $(n,r){1&n&&(t.j41(0,"span",54),t.EFF(1," N/A "),t.k0s())}function R(n,r){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"div",13)(3,"div",32),t.DNE(4,P,1,1,"img",33)(5,y,2,1,"div",34),t.k0s(),t.j41(6,"div",35)(7,"a",36),t.EFF(8),t.k0s(),t.DNE(9,w,4,2,"span",37),t.k0s()()(),t.j41(10,"td")(11,"div",0)(12,"span",38),t.EFF(13),t.k0s(),t.DNE(14,M,2,1,"span",39),t.k0s()(),t.j41(15,"td")(16,"span",40),t.EFF(17),t.k0s()(),t.j41(18,"td")(19,"div",13)(20,"span",38),t.EFF(21),t.k0s()()(),t.j41(22,"td")(23,"span",41),t.EFF(24),t.k0s()(),t.j41(25,"td"),t.DNE(26,O,3,4,"span",42)(27,$,2,0,"span",43),t.k0s(),t.j41(28,"td",44)(29,"button",45),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.viewTransactions(o.id))}),t.nrm(30,"i",46),t.k0s()()()}if(2&n){const e=r.$implicit;t.R7$(4),t.Y8G("ngIf",e.profile_photo_url),t.R7$(),t.Y8G("ngIf",!e.profile_photo_url),t.R7$(3),t.JRh(e.name),t.R7$(),t.Y8G("ngIf",e.company),t.R7$(4),t.JRh(e.email),t.R7$(),t.Y8G("ngIf",e.phone),t.R7$(3),t.JRh(e.country),t.R7$(4),t.SpI("$",e.balance,""),t.R7$(3),t.JRh(e.payment_type),t.R7$(2),t.Y8G("ngIf",e.last_wired_transfer),t.R7$(),t.Y8G("ngIf",!e.last_wired_transfer),t.R7$(2),t.Y8G("title","View Transactions")}}function E(n,r){if(1&n){const e=t.RV6();t.j41(0,"li",58)(1,"a",59),t.bIt("click",function(){const o=t.eBV(e).index,s=t.XpG(3);return t.Njj(s.onPageChange(o+1))}),t.EFF(2),t.k0s()()}if(2&n){const e=r.index,i=t.XpG(3);t.AVh("active",i.currentPage===e+1),t.R7$(2),t.JRh(e+1)}}function T(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",55)(1,"div",56),t.EFF(2),t.k0s(),t.j41(3,"ul",57)(4,"li",58)(5,"a",59),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.currentPage>1&&o.onPageChange(o.currentPage-1))}),t.nrm(6,"i",60),t.k0s()(),t.DNE(7,E,3,3,"li",61),t.j41(8,"li",58)(9,"a",59),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.currentPage<o.totalPages&&o.onPageChange(o.currentPage+1))}),t.nrm(10,"i",62),t.k0s()()()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.E5c(" Showing ",10*(e.currentPage-1)+1," to ",e.Math.min(10*e.currentPage,e.totalItems)," of ",e.totalItems," entries "),t.R7$(2),t.AVh("disabled",1===e.currentPage),t.R7$(3),t.Y8G("ngForOf",t.lJ4(8,C).constructor(e.totalPages)),t.R7$(),t.AVh("disabled",e.currentPage===e.totalPages)}}function G(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"h3",8)(3,"span",9),t.EFF(4,"Insighter Wallets"),t.k0s(),t.j41(5,"span",10),t.EFF(6),t.k0s()(),t.j41(7,"div",11)(8,"div",12)(9,"div",13)(10,"label",14),t.EFF(11,"Balance Status:"),t.k0s(),t.j41(12,"select",15),t.mxI("ngModelChange",function(o){t.eBV(e);const s=t.XpG();return t.DH7(s.balanceStatus,o)||(s.balanceStatus=o),t.Njj(o)}),t.bIt("change",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.onBalanceStatusChange(o))}),t.DNE(13,I,2,2,"option",16),t.k0s()(),t.j41(14,"div",17)(15,"input",18),t.bIt("change",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.onOverdueFilterChange(o))}),t.k0s(),t.j41(16,"label",19),t.EFF(17," Overdue Wired (+60 days) "),t.k0s()()()()(),t.j41(18,"div",20)(19,"div",21)(20,"table",22)(21,"thead")(22,"tr",23)(23,"th",24),t.EFF(24,"Insighter"),t.k0s(),t.j41(25,"th",25),t.EFF(26,"Contact"),t.k0s(),t.j41(27,"th",26),t.EFF(28,"Location"),t.k0s(),t.j41(29,"th",26),t.EFF(30,"Balance"),t.k0s(),t.j41(31,"th",27),t.EFF(32,"Payment Type"),t.k0s(),t.j41(33,"th",26),t.EFF(34,"Last Wired Transfer"),t.k0s(),t.j41(35,"th",28),t.EFF(36,"Actions"),t.k0s()()(),t.j41(37,"tbody"),t.DNE(38,R,31,12,"tr",29),t.k0s()()(),t.DNE(39,T,11,9,"div",30),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(6),t.SpI("Total: ",e.totalItems," insighters"),t.R7$(6),t.R50("ngModel",e.balanceStatus),t.R7$(),t.Y8G("ngForOf",e.balanceStatusOptions),t.R7$(2),t.Y8G("checked",1===e.overdueWiredTransaction),t.R7$(23),t.Y8G("ngForOf",e.wallets),t.R7$(),t.Y8G("ngIf",e.totalPages>1)}}function L(n,r){1&n&&(t.j41(0,"div",6)(1,"div",63)(2,"div",64),t.nrm(3,"i",65),t.j41(4,"h3",66),t.EFF(5,"No Wallets Found"),t.k0s(),t.j41(6,"p",67),t.EFF(7," There are no insighter wallets to display at the moment. "),t.k0s()()()())}const h=()=>[];function D(n,r){1&n&&(t.j41(0,"div",3)(1,"div",4)(2,"span",5),t.EFF(3,"Loading..."),t.k0s()()())}function W(n,r){if(1&n&&t.nrm(0,"img",52),2&n){const e=t.XpG(2).$implicit;t.Y8G("src",null==e.order.user?null:e.order.user.profile_photo_url,t.B4B)("alt",null==e.order.user?null:e.order.user.name)}}function N(n,r){if(1&n&&(t.j41(0,"div",53),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(2);t.R7$(),t.SpI(" ",i.getInitials((null==e.order.user?null:e.order.user.name)||"")," ")}}function X(n,r){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&n){const e=r.$implicit;t.HbH("badge me-1 fs-7 "+("insighter"===e?"badge-light-success":"badge-light-info")),t.R7$(),t.SpI(" ",t.bMT(2,3,e)," ")}}function Y(n,r){if(1&n&&(t.j41(0,"div",45)(1,"div",27)(2,"div",38),t.DNE(3,W,1,2,"img",46)(4,N,2,1,"div",47),t.k0s(),t.j41(5,"div",0)(6,"span",48),t.EFF(7),t.k0s(),t.j41(8,"span",49),t.EFF(9),t.k0s()()(),t.j41(10,"div",50),t.DNE(11,X,3,5,"span",51),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(3),t.Y8G("ngIf",null==e.order.user?null:e.order.user.profile_photo_url),t.R7$(),t.Y8G("ngIf",!(null!=e.order.user&&e.order.user.profile_photo_url)),t.R7$(3),t.JRh(null==e.order.user?null:e.order.user.name),t.R7$(2),t.JRh(null==e.order.user?null:e.order.user.email),t.R7$(2),t.Y8G("ngForOf",(null==e.order.user?null:e.order.user.roles)||t.lJ4(5,h))}}function V(n,r){1&n&&(t.j41(0,"div",54)(1,"span",49),t.EFF(2,"Customer information not available"),t.k0s()())}function B(n,r){if(1&n&&(t.j41(0,"div",55)(1,"div",27),t.nrm(2,"i",56),t.j41(3,"span",57),t.EFF(4,"Meeting Details"),t.k0s()(),t.j41(5,"div",58),t.EFF(6),t.k0s(),t.j41(7,"div",59),t.nrm(8,"i",60),t.j41(9,"span"),t.EFF(10),t.k0s(),t.j41(11,"span",61),t.EFF(12,"\u2022"),t.k0s(),t.j41(13,"span"),t.EFF(14),t.k0s()(),t.j41(15,"span"),t.nrm(16,"i"),t.EFF(17),t.nI1(18,"titlecase"),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(6),t.SpI(" ",null==e.order.orderable.meeting_booking?null:e.order.orderable.meeting_booking.title," "),t.R7$(4),t.JRh(null==e.order.orderable.meeting_booking?null:e.order.orderable.meeting_booking.date),t.R7$(4),t.Lme("",null==e.order.orderable.meeting_booking?null:e.order.orderable.meeting_booking.start_time," - ",null==e.order.orderable.meeting_booking?null:e.order.orderable.meeting_booking.end_time,""),t.R7$(),t.HbH("badge badge-light-"+("pending"===(null==e.order.orderable.meeting_booking?null:e.order.orderable.meeting_booking.status)?"warning":"success")+" fs-6"),t.R7$(),t.HbH("ki-outline "+("pending"===(null==e.order.orderable.meeting_booking?null:e.order.orderable.meeting_booking.status)?"ki-time":"ki-check")+" fs-7 me-1"),t.R7$(),t.SpI(" ",t.bMT(18,9,null==e.order.orderable.meeting_booking?null:e.order.orderable.meeting_booking.status)," ")}}function J(n,r){if(1&n&&(t.j41(0,"div",77)(1,"div",78)(2,"div",79)(3,"div",80),t.nrm(4,"img",81),t.k0s(),t.j41(5,"div",82)(6,"div",83),t.EFF(7),t.k0s(),t.j41(8,"div",84)(9,"span",85),t.EFF(10),t.k0s(),t.j41(11,"span",49),t.nrm(12,"i",86),t.EFF(13," Document "),t.k0s()()()(),t.j41(14,"div",87)(15,"span",88),t.nrm(16,"i",89),t.EFF(17),t.k0s()()()()),2&n){const e=r.$implicit,i=t.XpG(6);t.R7$(4),t.Y8G("src",i.getFileIcon(e.file_extension),t.B4B)("alt",e.file_extension+" file"),t.R7$(3),t.SpI(" ",e.file_name," "),t.R7$(3),t.JRh(e.file_extension.toUpperCase()),t.R7$(7),t.SpI(" ",e.price," ")}}function H(n,r){if(1&n&&(t.j41(0,"div",75),t.DNE(1,J,18,5,"div",76),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.Y8G("ngForOf",e)}}function A(n,r){if(1&n&&(t.j41(0,"div",69)(1,"div",27),t.nrm(2,"i",70),t.j41(3,"span",71),t.EFF(4,"Order Contents"),t.k0s(),t.j41(5,"span",72),t.EFF(6),t.k0s()(),t.j41(7,"div",73),t.DNE(8,H,2,1,"div",74),t.k0s()()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(2);t.R7$(6),t.Lme(" ",i.getDocumentCount(e.order.orderable.knowledge_documents)," ",1===i.getDocumentCount(e.order.orderable.knowledge_documents)?"Document":"Documents"," "),t.R7$(2),t.Y8G("ngForOf",e.order.orderable.knowledge_documents)}}function U(n,r){if(1&n&&(t.j41(0,"div",62)(1,"div",27),t.nrm(2,"i",63),t.j41(3,"span",64),t.EFF(4,"Knowledge Package"),t.k0s()(),t.j41(5,"div",58),t.EFF(6),t.k0s(),t.j41(7,"div",65)(8,"span",66),t.nrm(9,"i",67),t.EFF(10),t.nI1(11,"titlecase"),t.k0s()(),t.DNE(12,A,9,3,"div",68),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(6),t.SpI(" ",null==e.order.orderable||null==e.order.orderable.knowledge||null==e.order.orderable.knowledge[0]?null:e.order.orderable.knowledge[0].title," "),t.R7$(4),t.SpI(" ",t.bMT(11,3,null==e.order.orderable||null==e.order.orderable.knowledge||null==e.order.orderable.knowledge[0]?null:e.order.orderable.knowledge[0].type)," "),t.R7$(2),t.Y8G("ngIf",null==e.order.orderable?null:e.order.orderable.knowledge_documents)}}function z(n,r){if(1&n&&(t.j41(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19)(5,"div",20)(6,"div"),t.nrm(7,"i"),t.k0s()(),t.j41(8,"div",0)(9,"span",21),t.EFF(10),t.nI1(11,"titlecase"),t.k0s(),t.j41(12,"span",22),t.EFF(13),t.k0s()()(),t.j41(14,"div",23)(15,"span"),t.EFF(16),t.k0s(),t.j41(17,"div",24),t.EFF(18),t.k0s()()(),t.j41(19,"div",12)(20,"div",25)(21,"div",26)(22,"div",27),t.nrm(23,"i",28),t.j41(24,"span",29),t.EFF(25,"Service"),t.k0s()(),t.j41(26,"span",30),t.EFF(27),t.nI1(28,"titlecase"),t.k0s(),t.j41(29,"div",31)(30,"div",27),t.nrm(31,"i",32),t.j41(32,"span",29),t.EFF(33,"Customer"),t.k0s()(),t.DNE(34,Y,12,6,"div",33)(35,V,3,0,"div",34),t.k0s()()(),t.j41(36,"div",35)(37,"div",36)(38,"div",37)(39,"div",19)(40,"div",38)(41,"div",39),t.nrm(42,"i",40),t.k0s()(),t.j41(43,"div",0)(44,"span",41),t.EFF(45),t.k0s(),t.j41(46,"span",42),t.EFF(47),t.k0s()()(),t.j41(48,"span"),t.nrm(49,"i"),t.EFF(50),t.nI1(51,"titlecase"),t.k0s()(),t.DNE(52,B,19,11,"div",43)(53,U,13,5,"div",44),t.k0s()()()()()()),2&n){const e=r.$implicit,i=t.XpG(2);t.R7$(6),t.HbH("symbol-label bg-light-"+("deposit"===e.transaction?"success":"danger")),t.R7$(),t.HbH("ki-outline "+("deposit"===e.transaction?"ki-arrow-up text-success":"ki-arrow-down text-danger")+" fs-2"),t.R7$(3),t.JRh(t.bMT(11,22,e.transaction)),t.R7$(3),t.JRh(i.getTransactionTypeDisplay(e.type)),t.R7$(2),t.HbH("fw-bold fs-3 amount-display "+("deposit"===e.transaction?"text-success":"text-danger")),t.R7$(),t.SpI(" ",i.getAmountDisplay(e)," "),t.R7$(2),t.JRh(i.formatDate(e.date)),t.R7$(9),t.JRh(t.bMT(28,24,e.order.service)),t.R7$(7),t.Y8G("ngIf",null==e.order?null:e.order.user),t.R7$(),t.Y8G("ngIf",!(null!=e.order&&e.order.user)),t.R7$(10),t.JRh(e.order.order_no),t.R7$(2),t.JRh(e.order.invoice_no),t.R7$(),t.HbH("badge badge-light-"+("paid"===e.order.status?"success":"warning")+" fs-6"),t.R7$(),t.HbH("ki-outline "+("paid"===e.order.status?"ki-check-circle":"ki-time")+" fs-7 me-1"),t.R7$(),t.SpI(" ",t.bMT(51,26,e.order.status)," "),t.R7$(2),t.Y8G("ngIf",null==e.order.orderable?null:e.order.orderable.meeting_booking),t.R7$(),t.Y8G("ngIf",null==e.order.orderable||null==e.order.orderable.knowledge?null:e.order.orderable.knowledge.length)}}function K(n,r){if(1&n){const e=t.RV6();t.j41(0,"li",93)(1,"a",94),t.bIt("click",function(){const o=t.eBV(e).index,s=t.XpG(3);return t.Njj(s.onPageChange(o+1))}),t.EFF(2),t.k0s()()}if(2&n){const e=r.index,i=t.XpG(3);t.AVh("active",i.currentPage===e+1),t.R7$(2),t.JRh(e+1)}}function Z(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",90)(1,"div",91),t.EFF(2),t.k0s(),t.j41(3,"ul",92)(4,"li",93)(5,"a",94),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.currentPage>1&&o.onPageChange(o.currentPage-1))}),t.nrm(6,"i",95),t.k0s()(),t.DNE(7,K,3,3,"li",96),t.j41(8,"li",93)(9,"a",94),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.currentPage<o.totalPages&&o.onPageChange(o.currentPage+1))}),t.nrm(10,"i",97),t.k0s()()()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.E5c(" Showing ",10*(e.currentPage-1)+1," to ",e.Math.min(10*e.currentPage,e.totalItems)," of ",e.totalItems," entries "),t.R7$(2),t.AVh("disabled",1===e.currentPage),t.R7$(3),t.Y8G("ngForOf",t.lJ4(8,h).constructor(e.totalPages)),t.R7$(),t.AVh("disabled",e.currentPage===e.totalPages)}}function Q(n,r){if(1&n&&(t.j41(0,"div",6)(1,"div",7)(2,"h3",8)(3,"span",9),t.EFF(4,"Transactions"),t.k0s(),t.j41(5,"span",10),t.EFF(6),t.k0s()()(),t.j41(7,"div",11)(8,"div",12),t.DNE(9,z,54,28,"div",13),t.k0s(),t.DNE(10,Z,11,9,"div",14),t.k0s()()),2&n){const e=t.XpG();t.R7$(6),t.SpI("Total: ",e.totalItems," transactions"),t.R7$(3),t.Y8G("ngForOf",e.transactions),t.R7$(),t.Y8G("ngIf",e.totalPages>1)}}function q(n,r){1&n&&(t.j41(0,"div",6)(1,"div",98)(2,"div",99),t.nrm(3,"i",100),t.j41(4,"h3",101),t.EFF(5,"No Transactions Found"),t.k0s(),t.j41(6,"p",102),t.EFF(7," This insighter has no transaction history yet. "),t.k0s()()()())}const tt=[{path:"",component:(()=>{class n extends p.${fundService;router;wallets=[];isLoading$;currentPage=1;totalPages=1;totalItems=0;Math=Math;overdueWiredTransaction=void 0;balanceStatus="positive";balanceStatusOptions=[{value:"positive",label:"Positive"},{value:"negative",label:"Negative"},{value:"zero",label:"Zero"}];constructor(e,i,o){super(e),this.fundService=i,this.router=o,this.isLoading$=this.fundService.isLoading$}ngOnInit(){this.loadWallets()}loadWallets(e=1){this.currentPage=e,this.unsubscribe.push(this.fundService.getInsighterWallets(e,this.overdueWiredTransaction,this.balanceStatus).subscribe({next:i=>{this.wallets=i.data,this.totalPages=i.meta.last_page,this.totalItems=i.meta.total},error:i=>{this.handleServerErrors(i)}}))}viewTransactions(e){this.router.navigate(["/admin-dashboard/admin/fund/insighter-wallets/transactions",e])}onPageChange(e){this.loadWallets(e)}onOverdueFilterChange(e){this.overdueWiredTransaction=e.target.checked?1:void 0,this.currentPage=1,this.loadWallets()}onBalanceStatusChange(e){this.balanceStatus=e.target.value,this.currentPage=1,this.loadWallets()}handleServerErrors(e){if(e.error&&e.error.errors){const i=e.error.errors;for(const o in i)i.hasOwnProperty(o)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",i[o].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(b),t.rXU(d.Ix))};static \u0275cmp=t.VBU({type:n,selectors:[["app-insighter-wallets-list"]],features:[t.Vt3],decls:7,vars:9,consts:[[1,"d-flex","flex-column"],["class","d-flex justify-content-center align-items-center","style","min-height: 300px;",4,"ngIf"],["class","card",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"min-height","300px"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"],[1,"card"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bold","fs-3","mb-1"],[1,"text-muted","mt-1","fw-semibold","fs-7"],[1,"card-toolbar"],[1,"d-flex","align-items-center","gap-4"],[1,"d-flex","align-items-center"],[1,"form-label","fw-semibold","text-gray-600","fs-7","me-2","mb-0"],[1,"form-select","form-select-sm","w-auto",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"form-check","form-check-sm"],["type","checkbox","id","overdueFilter",1,"form-check-input",3,"change","checked"],["for","overdueFilter",1,"form-check-label","fw-semibold","text-gray-600","fs-7"],[1,"card-body","py-3"],[1,"table-responsive"],[1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],[1,"fw-bold","text-muted"],[1,"min-w-150px"],[1,"min-w-140px"],[1,"min-w-120px"],[1,"min-w-100px"],[1,"min-w-100px","text-end"],[4,"ngFor","ngForOf"],["class","d-flex flex-stack flex-wrap pt-10",4,"ngIf"],[3,"value"],[1,"symbol","symbol-45px","me-5"],["alt","","style","object-fit: cover; object-position: top;",3,"src",4,"ngIf"],["class","symbol-label bg-light-info text-info fw-bold",4,"ngIf"],[1,"d-flex","justify-content-start","flex-column"],["href","javascript:void(0)",1,"text-dark","fw-bold","text-hover-primary","fs-6"],["class","text-muted fw-semibold text-muted d-block fs-7",4,"ngIf"],[1,"text-dark","fw-bold","fs-6"],["class","text-muted fw-semibold fs-7",4,"ngIf"],[1,"text-dark","fw-semibold","fs-6"],[1,"badge","badge-light-info","text-capitalize"],["class","text-dark fw-semibold fs-6",4,"ngIf"],["class","text-muted fw-semibold fs-6",4,"ngIf"],[1,"text-end"],[1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click","title"],[1,"ki-outline","ki-eye","fs-2"],["alt","",2,"object-fit","cover","object-position","top",3,"src"],[1,"symbol-label","bg-light-info","text-info","fw-bold"],[1,"text-muted","fw-semibold","text-muted","d-block","fs-7"],[1,"badge","badge-light-info"],["class","ki-outline ki-verify fs-7 text-success ms-1",4,"ngIf"],[1,"ki-outline","ki-verify","fs-7","text-success","ms-1"],[1,"text-muted","fw-semibold","fs-7"],[1,"text-muted","fw-semibold","fs-6"],[1,"d-flex","flex-stack","flex-wrap","pt-10"],[1,"fs-6","fw-semibold","text-gray-700"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],[1,"previous"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"next"],[1,"card-body","text-center","py-15"],[1,"text-center"],[1,"ki-outline","ki-wallet","fs-4x","text-muted","mb-5"],[1,"text-gray-800","fs-2","fw-bold","mb-3"],[1,"text-gray-500","fs-6","fw-semibold","mb-0"]],template:function(i,o){1&i&&(t.j41(0,"div",0),t.DNE(1,F,4,0,"div",1),t.nI1(2,"async"),t.DNE(3,G,40,6,"div",2),t.nI1(4,"async"),t.DNE(5,L,8,0,"div",2),t.nI1(6,"async"),t.k0s()),2&i&&(t.R7$(),t.Y8G("ngIf",t.bMT(2,3,o.isLoading$)),t.R7$(2),t.Y8G("ngIf",!t.bMT(4,5,o.isLoading$)),t.R7$(2),t.Y8G("ngIf",!t.bMT(6,7,o.isLoading$)&&0===o.wallets.length))},dependencies:[l.Sq,l.bT,c.xH,c.y7,c.wz,c.BC,c.vS,l.Jj,l.vh],styles:[".table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--bs-gray-600);border-bottom:1px solid var(--bs-gray-200)}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .75rem;border-bottom:1px solid var(--bs-gray-100)}.table[_ngcontent-%COMP%]   .symbol[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{border:none;color:var(--bs-gray-500);padding:.5rem .75rem;margin:0 .25rem;border-radius:.475rem}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:var(--bs-light-info);color:var(--bs-info)}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:var(--bs-info);color:#fff}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:var(--bs-gray-300);cursor:not-allowed}.card[_ngcontent-%COMP%]{box-shadow:0 .1rem 1rem .25rem #0000000d;border:1px solid var(--bs-gray-200)}.btn-icon[_ngcontent-%COMP%]{width:35px;height:35px;display:inline-flex;align-items:center;justify-content:center}.badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500}"]})}return n})()},{path:"transactions/:id",component:(()=>{class n extends p.${fundService;route;router;transactions=[];isLoading$;insighterId;currentPage=1;totalPages=1;totalItems=0;Math=Math;constructor(e,i,o,s){super(e),this.fundService=i,this.route=o,this.router=s,this.isLoading$=this.fundService.isLoading$}ngOnInit(){this.route.params.subscribe(e=>{this.insighterId=+e.id,this.loadTransactions()})}loadTransactions(e=1){this.currentPage=e,this.unsubscribe.push(this.fundService.getInsighterTransactions(this.insighterId,e).subscribe({next:i=>{this.transactions=i.data,this.totalPages=i.meta.last_page,this.totalItems=i.meta.total},error:i=>{this.handleServerErrors(i)}}))}goBack(){this.router.navigate(["/admin-dashboard/admin/fund/insighter-wallets"])}onPageChange(e){this.loadTransactions(e)}getTransactionTypeDisplay(e){return{income_meeting:"Meeting Income",income_knowledge:"Knowledge Sale",book_meeting:"Meeting Booking",purchase_knowledge:"Purchase Knowledge",withdraw:"Withdrawal",deposit:"Deposit"}[e]||e}getTransactionIcon(e){return"deposit"===e.transaction?"ki-arrow-down text-success":"ki-arrow-up text-danger"}getAmountDisplay(e){return`${"deposit"===e.transaction?"+":""}$${Math.abs(e.amount)}`}formatDate(e){const i=new Date(e);return i.toLocaleDateString()+" "+i.toLocaleTimeString()}getDocumentCount(e){return e?e.reduce((i,o)=>i+o.length,0):0}getFileIcon(e){const i=e.toLowerCase();return["csv","doc","docx","jpg","mp3","mp4","pdf","ppt","pptx","pub","txt","xlsx","xsl","zip"].includes(i)?`assets/media/svg/new-files/${i}.svg`:"assets/media/svg/new-files/txt.svg"}getInitials(e){return e?e.split(" ").map(i=>i.charAt(0)).join("").toUpperCase().substring(0,2):"?"}handleServerErrors(e){if(e.error&&e.error.errors){const i=e.error.errors;for(const o in i)i.hasOwnProperty(o)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",i[o].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(b),t.rXU(d.nX),t.rXU(d.Ix))};static \u0275cmp=t.VBU({type:n,selectors:[["app-insighter-transactions"]],features:[t.Vt3],decls:7,vars:9,consts:[[1,"d-flex","flex-column"],["class","d-flex justify-content-center align-items-center","style","min-height: 300px;",4,"ngIf"],["class","card",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"min-height","300px"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"],[1,"card"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bold","fs-3","mb-1"],[1,"text-muted","mt-1","fw-semibold","fs-7"],[1,"card-body","py-3"],[1,"row","g-4"],["class","col-12",4,"ngFor","ngForOf"],["class","d-flex flex-stack flex-wrap pt-10",4,"ngIf"],[1,"col-12"],[1,"card","transaction-card"],[1,"card-body","p-6"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","mb-4"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-50px","me-4"],[1,"text-dark","fw-bold","fs-4"],[1,"text-muted","fw-semibold","fs-6"],[1,"text-end"],[1,"text-muted","fs-7","fw-semibold"],[1,"col-lg-4","col-md-12"],[1,"service-section","p-4"],[1,"d-flex","align-items-center","mb-3"],[1,"ki-outline","ki-category","fs-2","text-info","me-2"],[1,"fw-bold","fs-6","text-info"],[1,"badge","badge-light-info","fs-6","mb-4"],[1,"border-top","pt-4"],[1,"ki-outline","ki-user","fs-2","text-info","me-2"],["class","customer-info",4,"ngIf"],["class","text-center py-3",4,"ngIf"],[1,"col-lg-8","col-md-12"],[1,"order-section","p-4"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"symbol","symbol-40px","me-3"],[1,"symbol-label","bg-light-info"],[1,"ki-outline","ki-bill","fs-3","text-info"],[1,"text-dark","fw-bold","fs-5"],[1,"text-muted","fw-semibold","fs-7"],["class","meeting-details-card p-4 mb-4",4,"ngIf"],["class","knowledge-details-card p-4",4,"ngIf"],[1,"customer-info"],["style","object-fit: cover; object-position: top;","class","rounded-circle",3,"src","alt",4,"ngIf"],["class","symbol-label bg-light-info text-info fw-bold",4,"ngIf"],[1,"text-dark","fw-bold","fs-6"],[1,"text-muted","fs-7"],[1,"mb-2"],[3,"class",4,"ngFor","ngForOf"],[1,"rounded-circle",2,"object-fit","cover","object-position","top",3,"src","alt"],[1,"symbol-label","bg-light-info","text-info","fw-bold"],[1,"text-center","py-3"],[1,"meeting-details-card","p-4","mb-4"],[1,"ki-outline","ki-calendar","fs-3","text-primary","me-3"],[1,"fw-bold","fs-5","text-primary"],[1,"text-gray-800","fs-5","fw-bold","mb-2"],[1,"d-flex","align-items-center","text-gray-700","fs-6","mb-3"],[1,"ki-outline","ki-time","fs-5","me-2"],[1,"mx-2","text-muted"],[1,"knowledge-details-card","p-4"],[1,"ki-outline","ki-book","fs-3","text-info","me-3"],[1,"fw-bold","fs-5","text-info"],[1,"mb-3"],[1,"badge","badge-light-primary","fs-6"],[1,"ki-outline","ki-category","fs-7","me-1"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[1,"ki-outline","ki-folder","text-info","fs-2","me-2"],[1,"text-gray-800","fs-5","fw-bold"],[1,"badge","badge-light-info","ms-2","fs-7"],[1,"documents-container"],["class","document-group mb-2",4,"ngFor","ngForOf"],[1,"document-group","mb-2"],["class","document-card border border-light-info rounded-3 p-3 mb-2 bg-light-info",4,"ngFor","ngForOf"],[1,"document-card","border","border-light-info","rounded-3","p-3","mb-2","bg-light-info"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center","flex-grow-1"],[1,"file-icon-wrapper","me-3"],["onerror","this.style.display='none'; this.nextElementSibling.style.display='flex'",1,"file-extension-icon",2,"width","40px","height","40px","object-fit","contain",3,"src","alt"],[1,"document-details"],[1,"document-name","text-gray-800","fw-bold","fs-6","mb-1"],[1,"document-meta","d-flex","align-items-center"],[1,"badge","badge-light-secondary","me-2","fs-8"],[1,"ki-outline","ki-file","fs-7","me-1"],[1,"document-price"],[1,"badge","badge-success","fs-6","px-3","py-2"],[1,"ki-outline","ki-dollar","fs-6","me-1"],[1,"d-flex","flex-stack","flex-wrap","pt-10"],[1,"fs-6","fw-semibold","text-gray-700"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],[1,"previous"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"next"],[1,"card-body","text-center","py-15"],[1,"text-center"],[1,"ki-outline","ki-finance-calculator","fs-4x","text-muted","mb-5"],[1,"text-gray-800","fs-2","fw-bold","mb-3"],[1,"text-gray-500","fs-6","fw-semibold","mb-0"]],template:function(i,o){1&i&&(t.j41(0,"div",0),t.DNE(1,D,4,0,"div",1),t.nI1(2,"async"),t.DNE(3,Q,11,3,"div",2),t.nI1(4,"async"),t.DNE(5,q,8,0,"div",2),t.nI1(6,"async"),t.k0s()),2&i&&(t.R7$(),t.Y8G("ngIf",t.bMT(2,3,o.isLoading$)),t.R7$(2),t.Y8G("ngIf",!t.bMT(4,5,o.isLoading$)),t.R7$(2),t.Y8G("ngIf",!t.bMT(6,7,o.isLoading$)&&0===o.transactions.length))},dependencies:[l.Sq,l.bT,l.Jj,l.PV],styles:[".transaction-card[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-300)!important;background:#fff;transition:all .2s ease-in-out}.transaction-card[_ngcontent-%COMP%]:hover{border-color:var(--bs-info)!important;transform:translateY(-2px)}.service-section[_ngcontent-%COMP%]{background:var(--bs-light-info)!important;border:1px solid var(--bs-gray-200)!important;border-radius:.5rem;transition:background-color .2s ease}.service-section[_ngcontent-%COMP%]:hover{background:rgba(var(--bs-info-rgb),.1)!important}.order-section[_ngcontent-%COMP%]{background:var(--bs-gray-100)!important;border:1px solid var(--bs-gray-200)!important;border-radius:.5rem}.meeting-details-card[_ngcontent-%COMP%]{background:var(--bs-light-primary)!important;border:1px solid var(--bs-primary)!important;border-radius:.5rem;transition:all .2s ease}.meeting-details-card[_ngcontent-%COMP%]:hover{background:rgba(var(--bs-primary-rgb),.1)!important}.knowledge-details-card[_ngcontent-%COMP%]{background:var(--bs-light-info)!important;border:1px solid var(--bs-info)!important;border-radius:.5rem;transition:all .2s ease}.knowledge-details-card[_ngcontent-%COMP%]:hover{background:rgba(var(--bs-info-rgb),.1)!important}.document-item[_ngcontent-%COMP%]{background:#fff!important;border:1px solid var(--bs-gray-300)!important;border-radius:.375rem;transition:all .2s ease}.document-item[_ngcontent-%COMP%]:hover{border-color:var(--bs-info)!important;background:var(--bs-light-info)!important}.symbol[_ngcontent-%COMP%]   .symbol-label[_ngcontent-%COMP%], .symbol[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:.5rem}.badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;padding:.375rem .75rem;border-radius:.375rem}.amount-display[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Inconsolata,Roboto Mono,monospace;letter-spacing:-.5px}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-200);color:var(--bs-gray-600);padding:.5rem .75rem;margin:0 .125rem;border-radius:.375rem;background:#fff;transition:all .2s ease}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:var(--bs-light-info);color:var(--bs-info);border-color:var(--bs-info);transform:translateY(-1px)}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:var(--bs-info);border-color:var(--bs-info);color:#fff}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:var(--bs-gray-300);cursor:not-allowed;background:var(--bs-gray-50);border-color:var(--bs-gray-200)}@media (max-width: 991.98px){.transaction-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem!important}.transaction-card[_ngcontent-%COMP%]   .order-section[_ngcontent-%COMP%], .transaction-card[_ngcontent-%COMP%]   .service-section[_ngcontent-%COMP%]{margin-bottom:1rem}.amount-display[_ngcontent-%COMP%]{font-size:1.25rem!important}}@media (max-width: 767.98px){.transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important;gap:1rem}.transaction-card[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{text-align:left!important}.service-section[_ngcontent-%COMP%], .order-section[_ngcontent-%COMP%]{padding:1rem!important}}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{color:var(--bs-gray-400);font-size:4rem}.documents-container[_ngcontent-%COMP%]   .document-group[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]{transition:all .2s ease;border:1px solid var(--bs-light-info)!important}.documents-container[_ngcontent-%COMP%]   .document-group[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a;border-color:#50cd89!important}.documents-container[_ngcontent-%COMP%]   .document-group[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .file-icon-wrapper[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.documents-container[_ngcontent-%COMP%]   .document-group[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .file-icon-wrapper[_ngcontent-%COMP%]   .file-extension-icon[_ngcontent-%COMP%]{transition:transform .2s ease;border-radius:.375rem}.documents-container[_ngcontent-%COMP%]   .document-group[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .file-icon-wrapper[_ngcontent-%COMP%]:hover   .file-extension-icon[_ngcontent-%COMP%]{transform:scale(1.05)}.documents-container[_ngcontent-%COMP%]   .document-group[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .file-icon-wrapper[_ngcontent-%COMP%]   .fallback-icon[_ngcontent-%COMP%]{box-shadow:0 2px 4px #0000001a}.documents-container[_ngcontent-%COMP%]   .document-group[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-details[_ngcontent-%COMP%]   .document-name[_ngcontent-%COMP%]{color:var(--bs-gray-800);line-height:1.4;word-break:break-word}.documents-container[_ngcontent-%COMP%]   .document-group[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-details[_ngcontent-%COMP%]   .document-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#f0f9ff;color:#0369a1;border:1px solid #e0f2fe;font-weight:600;letter-spacing:.025em}.documents-container[_ngcontent-%COMP%]   .document-group[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-price[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#f0fdf4;color:#059669;border:1px solid #bbf7d0;font-weight:700}"]})}return n})()}];let et=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[d.iI.forChild(tt),d.iI]})}return n})(),nt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[l.MD,c.YN,et]})}return n})()}}]);