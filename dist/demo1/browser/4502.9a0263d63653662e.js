"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[4502],{4502:(R,y,c)=>{c.r(y),c.d(y,{MyDownloadsModule:()=>Ot});var _=c(177),s=c(2791),t=c(4438),u=c(9079),f=c(9417),D=c(152),k=c(3294),O=c(5098),T=c(4412),E=c(8810),w=c(6354),b=c(9437),M=c(980),x=c(1626),r=c(4133);let C=(()=>{class o{http;translationService;API_URL="https://api.foresighta.co/api/account/library/my-knowledge";STATISTICS_URL="https://api.foresighta.co/api/account/library/my-knowledge/statistics";DOWNLOAD_KNOWLEDGE_URL="https://api.foresighta.co/api/account/library/my-knowledge/download";DOWNLOAD_DOCUMENT_URL="https://api.foresighta.co/api/account/library/my-knowledge/document/download";isLoadingSubject=new T.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(e,n){this.http=e,this.translationService=n,this.currentLang=this.normalizeLanguage(this.translationService.getSelectedLanguage()||"en"),this.translationService.onLanguageChange().subscribe(i=>{this.currentLang=this.normalizeLanguage(i||"en")})}normalizeLanguage(e){return e&&"ar"===e.toLowerCase().split(/[-_,;]/)[0]?"ar":"en"}setLoading(e){this.isLoadingSubject.next(e)}getHeaders(){return new x.Lr({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang})}handleError(e){return console.error("MyDownloadsService error:",e),(0,E.$)(()=>e)}getMyDownloads(e=1,n,i){let l=`${this.API_URL}?page=${e}&per_page=10`;n&&n.trim()&&(l+=`&title=${encodeURIComponent(n.trim())}`);const p=this.getHeaders(),v=i&&i.length>0?{uuids:i}:null;return this.setLoading(!0),this.http.post(l,v,{headers:p}).pipe((0,w.T)(h=>h),(0,b.W)(h=>this.handleError(h)),(0,M.j)(()=>this.setLoading(!1)))}downloadKnowledge(e){const n=`${this.DOWNLOAD_KNOWLEDGE_URL}/${e}`,i=this.getHeaders();return this.http.post(n,{},{headers:i,responseType:"blob"}).pipe((0,w.T)(l=>l),(0,b.W)(l=>this.handleError(l)))}downloadDocument(e){const n=`${this.DOWNLOAD_DOCUMENT_URL}/${e}`,i=this.getHeaders();return this.http.post(n,{},{headers:i}).pipe((0,w.T)(l=>({url:l.data.url})),(0,b.W)(l=>this.handleError(l)))}archiveKnowledge(e){const n=`${this.API_URL}/archive/${e}`,i=this.getHeaders();return this.setLoading(!0),this.http.post(n,{},{headers:i}).pipe((0,w.T)(l=>l),(0,b.W)(l=>this.handleError(l)),(0,M.j)(()=>this.setLoading(!1)))}getArchivedDownloads(e=1,n,i){let l=`${this.API_URL}?page=${e}&per_page=10&archived=true`;n&&n.trim()&&(l+=`&title=${encodeURIComponent(n.trim())}`);const p=this.getHeaders(),v=i&&i.length>0?{uuids:i}:null;return this.setLoading(!0),this.http.post(l,v,{headers:p}).pipe((0,w.T)(h=>h),(0,b.W)(h=>this.handleError(h)),(0,M.j)(()=>this.setLoading(!1)))}getLibraryStatistics(){const e=this.getHeaders();return this.http.get(this.STATISTICS_URL,{headers:e}).pipe((0,w.T)(n=>n.data),(0,b.W)(n=>this.handleError(n)))}static \u0275fac=function(n){return new(n||o)(t.KVO(x.Qq),t.KVO(r.L))};static \u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var d=c(8542),g=c(3955),m=c(5692),j=c(2354);const P=["knowledgeList"];function S(o,a){1&o&&(t.j41(0,"div",1)(1,"div",3)(2,"div",4)(3,"span",5),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"h3",6),t.EFF(7,"Loading Downloads"),t.k0s(),t.j41(8,"p",7),t.EFF(9,"Please wait while we fetch your downloads..."),t.k0s()()()),2&o&&(t.R7$(4),t.JRh(t.bMT(5,1,"COMMON.LOADING")))}function I(o,a){if(1&o&&t.DNE(0,S,10,3,"div",2),2&o){const e=t.XpG();t.Y8G("ngIf",e.loading)}}function F(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",45),t.nI1(1,"translate"),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.clearSearch())}),t.j41(2,"i",46),t.nrm(3,"span",18)(4,"span",19),t.k0s()()}2&o&&t.BMQ("title",t.bMT(1,1,"COMMON.CLEAR_SEARCH"))}function L(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",47),t.nI1(1,"translate"),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.viewAll())}),t.j41(2,"i",48),t.nrm(3,"span",18)(4,"span",19)(5,"span",49),t.k0s(),t.j41(6,"span",50),t.EFF(7),t.nI1(8,"translate"),t.k0s()()}2&o&&(t.BMQ("title",t.bMT(1,2,"MY_DOWNLOADS.VIEW_ALL")),t.R7$(7),t.JRh(t.bMT(8,4,"MY_DOWNLOADS.VIEW_ALL")))}function $(o,a){1&o&&t.nrm(0,"i",26)}function A(o,a){1&o&&t.nrm(0,"i",51)}function V(o,a){if(1&o&&(t.j41(0,"span",27),t.EFF(1),t.k0s()),2&o){let e;const n=t.XpG(2);t.R7$(),t.JRh(null==(e=n.libraryStatistics())?null:e.archived)}}function K(o,a){if(1&o){const e=t.RV6();t.j41(0,"i",52),t.nrm(1,"span",18)(2,"span",19),t.k0s(),t.j41(3,"p",53),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"button",54),t.bIt("click",function(){t.eBV(e);const i=t.XpG(3);return t.Njj(i.clearSearch())}),t.EFF(7),t.nI1(8,"translate"),t.k0s()}2&o&&(t.R7$(4),t.JRh(t.bMT(5,2,"COMMON.NO_SEARCH_RESULTS")),t.R7$(3),t.SpI(" ",t.bMT(8,4,"COMMON.CLEAR")," "))}function B(o,a){1&o&&(t.j41(0,"i",55),t.nrm(1,"span",18)(2,"span",19),t.k0s(),t.j41(3,"p",53),t.EFF(4),t.nI1(5,"translate"),t.k0s()),2&o&&(t.R7$(4),t.JRh(t.bMT(5,1,"MY_DOWNLOADS.NO_DOWNLOADS")))}function N(o,a){if(1&o&&(t.j41(0,"div",34),t.DNE(1,K,9,6)(2,B,6,3),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.vxM(1,e.currentSearchTerm()?1:2)}}function G(o,a){1&o&&t.nrm(0,"span",66)}function U(o,a){1&o&&t.nrm(0,"i",68)}function X(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",69),t.bIt("click",function(i){t.eBV(e);const l=t.XpG().$implicit;return t.XpG(3).archiveKnowledge(l),t.Njj(i.stopPropagation())}),t.nrm(1,"i",70),t.k0s()}if(2&o){const e=t.XpG().$implicit,n=t.XpG(3);t.Y8G("disabled",n.isKnowledgeDownloading(e.uuid))("pTooltip","Archive Knowledge")}}function W(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",57),t.bIt("click",function(i){const l=t.eBV(e).$implicit;return t.XpG(3).selectKnowledge(l),t.Njj(i.stopPropagation())}),t.j41(1,"div",58)(2,"i",59),t.nrm(3,"span",18)(4,"span",19),t.k0s()(),t.j41(5,"div",60)(6,"div",61),t.EFF(7),t.nI1(8,"truncateText"),t.k0s(),t.j41(9,"div",62)(10,"small",63),t.EFF(11),t.nI1(12,"titlecase"),t.k0s()()(),t.j41(13,"div",64)(14,"button",65),t.bIt("click",function(i){const l=t.eBV(e).$implicit;return t.XpG(3).downloadKnowledge(l),t.Njj(i.stopPropagation())}),t.DNE(15,G,1,0,"span",66)(16,U,1,0),t.k0s(),t.DNE(17,X,2,2,"button",67),t.k0s()()}if(2&o){let e;const n=a.$implicit,i=t.XpG(3);t.AVh("active",(null==(e=i.selectedKnowledge())?null:e.uuid)===n.uuid),t.R7$(7),t.JRh(t.i5U(8,8,n.title,30)),t.R7$(4),t.JRh(t.bMT(12,11,n.type)),t.R7$(3),t.Y8G("disabled",i.isKnowledgeDownloading(n.uuid))("pTooltip","Download Knowledge"),t.R7$(),t.vxM(15,i.isKnowledgeDownloading(n.uuid)?15:16),t.R7$(2),t.vxM(17,i.showArchivedDownloads()?-1:17)}}function H(o,a){if(1&o&&t.Z7z(0,W,18,13,"div",56,t.BUC().trackByKnowledgeUuid,!0),2&o){const e=t.XpG(2);t.Dyx(e.currentKnowledgeItems())}}function z(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",71),t.bIt("click",function(i){return t.eBV(e),t.XpG(2).scrollUp(),t.Njj(i.stopPropagation())}),t.j41(1,"i",72),t.nrm(2,"span",18)(3,"span",19),t.k0s()()}2&o&&t.BMQ("title","Scroll Up")}function Y(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",71),t.bIt("click",function(i){return t.eBV(e),t.XpG(2).scrollDown(),t.Njj(i.stopPropagation())}),t.j41(1,"i",73),t.nrm(2,"span",18)(3,"span",19),t.k0s()()}2&o&&t.BMQ("title","Scroll Down")}function Q(o,a){if(1&o){const e=t.RV6();t.j41(0,"li",75)(1,"a",76),t.bIt("click",function(){const i=t.eBV(e).$implicit,l=t.XpG(3);return t.Njj(l.onPageClick(i))}),t.EFF(2),t.k0s()()}if(2&o){const e=a.$implicit,n=t.XpG(3);t.AVh("active",e===n.currentDisplayPage())("disabled","..."===e),t.R7$(2),t.JRh(e)}}function J(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",37)(1,"ul",74)(2,"li",75)(3,"a",76),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.onPageChange(i.currentDisplayPage()-1))}),t.nrm(4,"i",77),t.k0s()(),t.Z7z(5,Q,3,5,"li",78,t.BUC().trackByPageIndex,!0),t.j41(7,"li",75)(8,"a",76),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.onPageChange(i.currentDisplayPage()+1))}),t.nrm(9,"i",79),t.k0s()()()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.AVh("disabled",!e.hasPrevPage()),t.R7$(3),t.Dyx(e.getPages()),t.R7$(2),t.AVh("disabled",!e.hasNextPage())}}function Z(o,a){if(1&o&&(t.j41(0,"span",40),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.JRh(e.currentKnowledgeDocuments().length)}}function q(o,a){}function tt(o,a){1&o&&(t.j41(0,"div",34)(1,"i",80),t.nrm(2,"span",18)(3,"span",19),t.k0s(),t.j41(4,"p",53),t.EFF(5),t.nI1(6,"translate"),t.k0s()()),2&o&&(t.R7$(5),t.JRh(t.bMT(6,1,"MY_DOWNLOADS.NO_DOCUMENTS")))}function et(o,a){if(1&o&&(t.j41(0,"small",63),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(),t.SpI("$",e.price,"")}}function nt(o,a){1&o&&(t.j41(0,"small",87),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o&&(t.R7$(),t.JRh(t.bMT(2,1,"COMMON.FREE")))}function ot(o,a){1&o&&t.nrm(0,"span",66)}function it(o,a){1&o&&t.nrm(0,"i",88)}function lt(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",82),t.bIt("click",function(){const i=t.eBV(e).$implicit,l=t.XpG(3);return t.Njj(l.selectDocument(i))}),t.j41(1,"div",58),t.nrm(2,"img",83),t.k0s(),t.j41(3,"div",60)(4,"div",61),t.EFF(5),t.nI1(6,"truncateText"),t.k0s(),t.j41(7,"div",84)(8,"small",63),t.EFF(9),t.nI1(10,"fileSize"),t.k0s(),t.j41(11,"span",53),t.EFF(12,"\u2022"),t.k0s(),t.DNE(13,et,2,1,"small",63)(14,nt,3,3),t.k0s()(),t.j41(15,"div",85)(16,"button",86),t.bIt("click",function(i){const l=t.eBV(e).$implicit;return t.XpG(3).downloadDocument(l),t.Njj(i.stopPropagation())}),t.DNE(17,ot,1,0,"span",66)(18,it,1,0),t.k0s()()()}if(2&o){let e;const n=a.$implicit,i=t.XpG(3);t.AVh("active",(null==(e=i.selectedDocument())?null:e.uuid)===n.uuid),t.R7$(2),t.Y8G("src",i.getFileIconByExtension(n.file_extension),t.B4B)("alt",n.file_extension+" file"),t.R7$(3),t.JRh(t.i5U(6,10,n.file_name,30)),t.R7$(4),t.JRh(t.bMT(10,13,n.file_size)),t.R7$(4),t.vxM(13,n.price>0?13:14),t.R7$(3),t.Y8G("disabled",i.isDocumentDownloading(n.uuid))("pTooltip","Download Document"),t.R7$(),t.vxM(17,i.isDocumentDownloading(n.uuid)?17:18)}}function st(o,a){if(1&o&&t.Z7z(0,lt,19,15,"div",81,t.BUC().trackByDocumentUuid,!0),2&o){const e=t.XpG(2);t.Dyx(e.currentKnowledgeDocuments())}}function at(o,a){}function rt(o,a){1&o&&(t.qSk(),t.j41(0,"svg",95),t.nrm(1,"path",96)(2,"path",97)(3,"path",98)(4,"path",99),t.k0s())}function ct(o,a){1&o&&(t.qSk(),t.j41(0,"svg",100),t.nrm(1,"path",101),t.k0s())}function dt(o,a){1&o&&(t.qSk(),t.j41(0,"svg",102),t.nrm(1,"path",103)(2,"path",104),t.k0s())}function pt(o,a){1&o&&(t.qSk(),t.j41(0,"svg",102),t.nrm(1,"path",105)(2,"path",106)(3,"path",107)(4,"path",108),t.k0s())}function gt(o,a){1&o&&(t.qSk(),t.j41(0,"svg",109),t.nrm(1,"path",110)(2,"path",111),t.k0s())}function _t(o,a){1&o&&(t.qSk(),t.j41(0,"svg",102),t.nrm(1,"path",112)(2,"path",113),t.k0s())}function ut(o,a){1&o&&(t.j41(0,"i",114),t.nrm(1,"span",18)(2,"span",19),t.k0s())}function mt(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",91),t.DNE(1,rt,5,0)(2,ct,2,0)(3,dt,3,0)(4,pt,5,0)(5,gt,3,0)(6,_t,3,0)(7,ut,3,0),t.j41(8,"div",92),t.EFF(9),t.nI1(10,"uppercase"),t.k0s()(),t.j41(11,"a",93),t.bIt("click",function(i){t.eBV(e);const l=t.XpG(3);return l.viewKnowledge(l.selectedKnowledge()),t.Njj(i.stopPropagation())}),t.j41(12,"h2",94),t.EFF(13),t.nI1(14,"truncateText"),t.k0s()()}if(2&o){let e,n;const i=a,l=t.XpG(3);t.R7$(),t.vxM(1,"data"===(e=i.type)?1:"insight"===e?2:"report"===e?3:"manual"===e?4:"course"===e?5:"media"===e?6:7),t.R7$(8),t.JRh(t.bMT(10,3,i.type)),t.R7$(4),t.JRh(t.i5U(14,5,(null==(n=l.selectedKnowledge())?null:n.title)||"",40))}}function ht(o,a){if(1&o&&t.nrm(0,"img",126),2&o){let e,n;const i=t.XpG(5);t.Y8G("src",null==(e=i.selectedKnowledge())?null:e.insighter_photo,t.B4B)("alt",null==(n=i.selectedKnowledge())?null:n.insighter)}}function Ct(o,a){if(1&o&&(t.j41(0,"div",118),t.nrm(1,"img",125),t.DNE(2,ht,1,2,"img",126),t.k0s()),2&o){let e,n,i;const l=t.XpG(4);t.R7$(),t.Y8G("src",null==(e=l.selectedKnowledge())||null==e.company?null:e.company.logo,t.B4B)("alt",null==(n=l.selectedKnowledge())||null==n.company?null:n.company.legal_name),t.R7$(),t.vxM(2,null!=(i=l.selectedKnowledge())&&i.insighter_photo?2:-1)}}function ft(o,a){if(1&o&&t.nrm(0,"img",127),2&o){let e,n;const i=t.XpG(4);t.Y8G("src",null==(e=i.selectedKnowledge())?null:e.insighter_photo,t.B4B)("alt",null==(n=i.selectedKnowledge())?null:n.insighter)}}function wt(o,a){if(1&o&&(t.j41(0,"div",120)(1,"div",128),t.EFF(2),t.k0s(),t.j41(3,"span",63),t.EFF(4),t.k0s()()),2&o){let e;const n=t.XpG(),i=t.XpG(3);t.R7$(2),t.JRh(null==(e=i.selectedKnowledge())||null==e.company?null:e.company.legal_name),t.R7$(2),t.SpI("By ",n.publisher,"")}}function bt(o,a){if(1&o&&(t.j41(0,"div",129),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.JRh(e.publisher)}}function vt(o,a){if(1&o&&(t.j41(0,"div",115)(1,"div",116)(2,"div",117),t.DNE(3,Ct,3,3,"div",118)(4,ft,1,2),t.k0s(),t.j41(5,"div",119),t.DNE(6,wt,5,2,"div",120)(7,bt,2,1),t.k0s()()(),t.j41(8,"div",121)(9,"div",122)(10,"span",123),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"span",124),t.EFF(14),t.nI1(15,"date"),t.k0s()()()),2&o){let e,n;const i=t.XpG(3);t.R7$(3),t.vxM(3,null!=(e=i.selectedKnowledge())&&e.company?3:null!=(e=i.selectedKnowledge())&&e.insighter_photo?4:-1),t.R7$(3),t.vxM(6,null!=(n=i.selectedKnowledge())&&n.company?6:7),t.R7$(5),t.JRh(t.bMT(12,4,"MY_DOWNLOADS.PURCHASE_DATE")),t.R7$(3),t.JRh(t.i5U(15,6,a.purchaseDate,"yyyy/MM/dd"))}}function Mt(o,a){if(1&o&&(t.j41(0,"div",89),t.DNE(1,mt,15,8),t.k0s(),t.j41(2,"div",90),t.DNE(3,vt,16,9),t.k0s()),2&o){let e,n;const i=t.XpG(2);t.R7$(),t.vxM(1,(e=i.currentKnowledgeDetails())?1:-1,e),t.R7$(2),t.vxM(3,(n=i.currentKnowledgeDetails())?3:-1,n)}}function yt(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",11)(6,"div",13)(7,"div",14)(8,"div",15)(9,"span",16)(10,"i",17),t.nrm(11,"span",18)(12,"span",19),t.k0s()(),t.nrm(13,"input",20),t.nI1(14,"translate"),t.k0s()(),t.DNE(15,F,5,3,"button",21)(16,L,9,6,"button",22),t.k0s()()(),t.j41(17,"div",23)(18,"div",11)(19,"div",24)(20,"button",25),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.toggleArchivedDownloads())}),t.DNE(21,$,1,0,"i",26)(22,A,1,0),t.j41(23,"span"),t.EFF(24),t.k0s(),t.DNE(25,V,2,1,"span",27),t.k0s()()()(),t.j41(26,"div",28)(27,"div",29),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.onKnowledgeColumnClick())}),t.j41(28,"div",30)(29,"h5",31),t.EFF(30),t.nI1(31,"translate"),t.k0s(),t.j41(32,"span",32),t.EFF(33),t.k0s()(),t.j41(34,"div",33,0),t.bIt("scroll",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.onKnowledgeListScroll())}),t.DNE(36,N,3,1,"div",34)(37,H,2,0),t.k0s(),t.j41(38,"div",35),t.DNE(39,z,4,1,"button",36)(40,Y,4,1,"button",36),t.k0s(),t.DNE(41,J,10,4,"div",37),t.k0s(),t.j41(42,"div",38)(43,"div",39)(44,"h5",31),t.EFF(45),t.nI1(46,"translate"),t.k0s(),t.DNE(47,Z,2,1,"span",40),t.k0s(),t.j41(48,"div",41),t.DNE(49,q,0,0)(50,tt,7,3)(51,st,2,0),t.k0s()(),t.j41(52,"div",42)(53,"div",43)(54,"h5",31),t.EFF(55),t.nI1(56,"translate"),t.k0s()(),t.j41(57,"div",44),t.DNE(58,at,0,0)(59,Mt,4,2),t.k0s()()()()()()()}if(2&o){let e;const n=t.XpG();t.R7$(8),t.AVh("flex-row-reverse","ar"===n.lang),t.R7$(),t.AVh("border-end-0","ar"!==n.lang)("border-start-0","ar"===n.lang),t.R7$(4),t.xc7("text-align","ar"===n.lang?"right":"left")("direction","ar"===n.lang?"rtl":"ltr"),t.AVh("border-start-0","ar"!==n.lang)("border-end-0","ar"===n.lang),t.Y8G("formControl",n.searchControl)("placeholder",t.bMT(14,35,"MY_DOWNLOADS.SEARCH_PLACEHOLDER")),t.R7$(2),t.vxM(15,n.currentSearchTerm()?15:-1),t.R7$(),t.vxM(16,n.currentUuids().length>0?16:-1),t.R7$(4),t.AVh("active",n.showArchivedDownloads()),t.Y8G("pTooltip",n.showArchivedDownloads()?"Show Downloads":"Show Archived"),t.R7$(),t.vxM(21,n.showArchivedDownloads()?21:22),t.R7$(3),t.JRh(n.showArchivedDownloads()?"Downloads":"Archived"),t.R7$(),t.vxM(25,!n.showArchivedDownloads()&&null!=(e=n.libraryStatistics())&&e.archived?25:-1),t.R7$(5),t.JRh(t.bMT(31,37,"MY_DOWNLOADS.KNOWLEDGE_ITEMS")),t.R7$(3),t.JRh(n.currentDisplayTotalItems()),t.R7$(3),t.vxM(36,0===n.currentKnowledgeItems().length?36:37),t.R7$(3),t.vxM(39,"up"===n.showScrollButton()?39:-1),t.R7$(),t.vxM(40,"down"===n.showScrollButton()?40:-1),t.R7$(),t.vxM(41,n.currentDisplayTotalPages()>1?41:-1),t.R7$(4),t.JRh(t.bMT(46,39,"MY_DOWNLOADS.DOCUMENTS")),t.R7$(2),t.vxM(47,n.selectedKnowledge()?47:-1),t.R7$(2),t.vxM(49,n.selectedKnowledge()?0===n.currentKnowledgeDocuments().length?50:51:49),t.R7$(6),t.JRh(t.bMT(56,41,"MY_DOWNLOADS.KNOWLEDGE_SOURCE")),t.R7$(3),t.vxM(58,n.selectedKnowledge()?59:58)}}let xt=(()=>{class o extends O.${_mydownloads;knowledgeItems=(0,t.vPA)([]);selectedKnowledge=(0,t.vPA)(null);selectedDocument=(0,t.vPA)(null);loading=(0,t.vPA)(!1);downloadingItems=(0,t.vPA)(new Set);currentPage=(0,t.vPA)(1);totalPages=(0,t.vPA)(1);totalItems=(0,t.vPA)(0);perPage=(0,t.vPA)(15);searchControl=new f.MJ("");currentSearchTerm=(0,t.vPA)("");currentUuids=(0,t.vPA)([]);selectedColumn=(0,t.vPA)("knowledge");showArchivedDownloads=(0,t.vPA)(!1);archivedKnowledgeItems=(0,t.vPA)([]);archivedCurrentPage=(0,t.vPA)(1);archivedTotalPages=(0,t.vPA)(1);archivedTotalItems=(0,t.vPA)(0);libraryStatistics=(0,t.vPA)(null);canScrollUp=(0,t.vPA)(!1);canScrollDown=(0,t.vPA)(!1);showScrollButton=(0,t.EWP)(()=>{const e=this.canScrollUp();return this.canScrollDown()?"down":e?"up":null});knowledgeListElement;currentKnowledgeDocuments=(0,t.EWP)(()=>this.selectedKnowledge()?.documents||[]);currentKnowledgeDetails=(0,t.EWP)(()=>{const e=this.selectedKnowledge();return e?{type:e.type,publisher:e.insighter,purchaseDate:e.purchase_date,slug:e.knowledge_slug}:null});currentKnowledgeItems=(0,t.EWP)(()=>this.showArchivedDownloads()?this.archivedKnowledgeItems():this.knowledgeItems());currentDisplayPage=(0,t.EWP)(()=>this.showArchivedDownloads()?this.archivedCurrentPage():this.currentPage());currentDisplayTotalPages=(0,t.EWP)(()=>this.showArchivedDownloads()?this.archivedTotalPages():this.totalPages());currentDisplayTotalItems=(0,t.EWP)(()=>this.showArchivedDownloads()?this.archivedTotalItems():this.totalItems());hasNextPage=(0,t.EWP)(()=>this.currentDisplayPage()<this.currentDisplayTotalPages());hasPrevPage=(0,t.EWP)(()=>this.currentDisplayPage()>1);myDownloadsService=(0,t.WQX)(C);destroyRef=(0,t.WQX)(t.abz);router=(0,t.WQX)(s.Ix);route=(0,t.WQX)(s.nX);elementRef=(0,t.WQX)(t.aKT);Math=Math;constructor(e,n){super(e),this._mydownloads=n}ngOnInit(){this.loadLibraryStatistics(),this.route.queryParams.pipe((0,u.pQ)(this.destroyRef)).subscribe(e=>{if(e.search)this.searchControl.setValue(e.search,{emitEvent:!1}),this.currentSearchTerm.set(e.search),this.currentUuids.set([]),this.loadMyDownloads(1,e.search);else if(e.uuids){const n=e.uuids.split(",").filter(i=>i.trim());this.currentUuids.set(n),this.currentSearchTerm.set(""),this.searchControl.setValue("",{emitEvent:!1}),this.loadMyDownloads(1,"",n)}else if(e.uuid){const n=[e.uuid];this.currentUuids.set(n),this.currentSearchTerm.set(""),this.searchControl.setValue("",{emitEvent:!1}),this.loadMyDownloads(1,"",n)}else this.loadMyDownloads()}),this._mydownloads.isLoading$.pipe((0,u.pQ)(this.destroyRef)).subscribe(e=>this.loading.set(e)),this.searchControl.valueChanges.pipe((0,D.B)(500),(0,k.F)(),(0,u.pQ)(this.destroyRef)).subscribe(e=>{this.currentSearchTerm.set(e||""),this.currentUuids.set([]),this.currentPage.set(1),this.selectedKnowledge.set(null),this.selectedDocument.set(null),this.showArchivedDownloads()&&this.showArchivedDownloads.set(!1),this.loadMyDownloads(1,e||"",[])})}ngAfterViewInit(){setTimeout(()=>{this.checkScrollState()},100)}loadMyDownloads(e=1,n="",i=[]){this._mydownloads.getMyDownloads(e,n||void 0,i.length>0?i:void 0).pipe((0,u.pQ)(this.destroyRef)).subscribe({next:l=>{this.knowledgeItems.set(l.data),this.currentPage.set(l.meta.current_page),this.totalPages.set(l.meta.last_page),this.totalItems.set(l.meta.total),this.perPage.set(l.meta.per_page),n&&l.data.length>0&&!this.selectedKnowledge()&&this.selectedKnowledge.set(l.data[0]),i&&i.length>0&&l.data.length>0&&!this.selectedKnowledge()&&this.selectedKnowledge.set(l.data[0]),setTimeout(()=>{this.checkScrollState()},100)},error:l=>{console.error("Error loading downloads:",l),this.showError("Error","Failed to load downloads. Please try again.")}})}selectKnowledge(e){this.selectedKnowledge.set(e),this.selectedDocument.set(null),this.selectedColumn.set("document")}selectDocument(e){this.selectedDocument.set(e),this.selectedColumn.set("details")}downloadKnowledge(e){this.downloadingItems.update(n=>new Set(n).add(e.uuid)),this.myDownloadsService.downloadKnowledge(e.uuid).pipe((0,u.pQ)(this.destroyRef)).subscribe({next:n=>{this.downloadFile(n,`${e.title}.zip`),this.downloadingItems.update(i=>{const l=new Set(i);return l.delete(e.uuid),l})},error:n=>{console.error("Error downloading knowledge:",n),this.showError("Error","Failed to download knowledge. Please try again."),this.downloadingItems.update(i=>{const l=new Set(i);return l.delete(e.uuid),l})}})}downloadDocument(e){this.downloadingItems.update(n=>new Set(n).add(e.uuid)),this.myDownloadsService.downloadDocument(e.uuid).pipe((0,u.pQ)(this.destroyRef)).subscribe({next:n=>{window.open(n.url,"_blank"),this.downloadingItems.update(i=>{const l=new Set(i);return l.delete(e.uuid),l})},error:n=>{console.error("Error downloading document:",n),this.showError("Error","Failed to download document. Please try again."),this.downloadingItems.update(i=>{const l=new Set(i);return l.delete(e.uuid),l})}})}isKnowledgeDownloading(e){return this.downloadingItems().has(e)}isDocumentDownloading(e){return this.downloadingItems().has(e)}downloadFile(e,n){const i=window.URL.createObjectURL(e),l=document.createElement("a");l.href=i,l.download=n,l.click(),window.URL.revokeObjectURL(i)}viewKnowledge(e){window.open(`${this.clientBaseUrl}/${this.lang}/knowledge/${e.type}/${e.knowledge_slug}`,"_blank")}onPageChange(e){e>=1&&e<=this.currentDisplayTotalPages()&&e!==this.currentDisplayPage()&&(this.showArchivedDownloads()?this.loadArchivedDownloads(e):this.loadMyDownloads(e,this.currentSearchTerm(),this.currentUuids()))}getPages(){const e=this.currentDisplayTotalPages(),n=this.currentDisplayPage();let l=[];const p=Math.max(2,n-2),v=Math.min(e-1,n+2);l.push(1),p>2&&l.push("...");for(let h=p;h<=v;h++)l.push(h);return v<e-1&&l.push("..."),e>1&&l.push(e),l}onPageClick(e){"number"==typeof e&&this.onPageChange(e)}clearSearch(){this.searchControl.setValue("")}viewAll(){this.currentUuids.set([]),this.currentSearchTerm.set(""),this.searchControl.setValue("",{emitEvent:!1}),this.currentPage.set(1),this.selectedKnowledge.set(null),this.selectedDocument.set(null),this.loadMyDownloads(1,"",[]),this.router.navigate([],{relativeTo:this.route,queryParams:{},queryParamsHandling:"merge"})}trackByKnowledgeUuid(e,n){return n.uuid}trackByDocumentUuid(e,n){return n.uuid}trackByPageIndex(e,n){return n}getFileIconByExtension(e){const n={pdf:"./assets/media/svg/new-files/pdf.svg",doc:"./assets/media/svg/new-files/doc.svg",docx:"./assets/media/svg/new-files/docx.svg",xls:"./assets/media/svg/new-files/xls.svg",ppt:"./assets/media/svg/new-files/ppt.svg",pptx:"./assets/media/svg/new-files/pptx.svg",txt:"./assets/media/svg/new-files/txt.svg",zip:"./assets/media/svg/new-files/zip.svg",xlsx:"./assets/media/svg/new-files/xlsx.svg",default:"./assets/media/svg/new-files/default.svg"};return n[e?.toLowerCase()||""]||n.default}onDocumentClick(e){this.elementRef.nativeElement.contains(e.target)||this.resetKnowledgeSelection()}resetKnowledgeSelection(){this.selectedKnowledge.set(null),this.selectedDocument.set(null)}onKnowledgeColumnClick(){this.resetKnowledgeSelection()}checkScrollState(){if(!this.knowledgeListElement)return;const e=this.knowledgeListElement.nativeElement,n=e.scrollTop,i=e.scrollHeight,l=e.clientHeight;this.canScrollUp.set(n>5),this.canScrollDown.set(n<i-l-5)}scrollUp(){this.knowledgeListElement&&(this.knowledgeListElement.nativeElement.scrollBy({top:-100,behavior:"smooth"}),setTimeout(()=>this.checkScrollState(),300))}scrollDown(){this.knowledgeListElement&&(this.knowledgeListElement.nativeElement.scrollBy({top:100,behavior:"smooth"}),setTimeout(()=>this.checkScrollState(),300))}onKnowledgeListScroll(){this.checkScrollState()}archiveKnowledge(e){this.downloadingItems.update(n=>new Set(n).add(e.uuid)),this.myDownloadsService.archiveKnowledge(e.uuid).pipe((0,u.pQ)(this.destroyRef)).subscribe({next:()=>{this.showSuccess("Success","Knowledge archived successfully"),this.downloadingItems.update(n=>{const i=new Set(n);return i.delete(e.uuid),i}),this.selectedKnowledge()?.uuid===e.uuid&&(this.selectedKnowledge.set(null),this.selectedDocument.set(null)),this.reloadCurrentDownloads(),this.loadLibraryStatistics()},error:n=>{console.error("Error archiving knowledge:",n),this.showError("Error","Failed to archive knowledge. Please try again."),this.downloadingItems.update(i=>{const l=new Set(i);return l.delete(e.uuid),l})}})}toggleArchivedDownloads(){const e=!this.showArchivedDownloads();this.showArchivedDownloads.set(e),this.selectedKnowledge.set(null),this.selectedDocument.set(null),e?this.loadArchivedDownloads(1):this.loadMyDownloads(1,this.currentSearchTerm(),this.currentUuids())}loadArchivedDownloads(e=1){this.myDownloadsService.getArchivedDownloads(e,this.currentSearchTerm()||void 0,this.currentUuids().length>0?this.currentUuids():void 0).pipe((0,u.pQ)(this.destroyRef)).subscribe({next:n=>{this.archivedKnowledgeItems.set(n.data),this.archivedCurrentPage.set(n.meta.current_page),this.archivedTotalPages.set(n.meta.last_page),this.archivedTotalItems.set(n.meta.total),setTimeout(()=>{this.checkScrollState()},100)},error:n=>{console.error("Error loading archived downloads:",n),this.showError("Error","Failed to load archived downloads. Please try again.")}})}reloadCurrentDownloads(){this.showArchivedDownloads()?this.loadArchivedDownloads(this.currentDisplayPage()):this.loadMyDownloads(this.currentDisplayPage(),this.currentSearchTerm(),this.currentUuids())}loadLibraryStatistics(){this.myDownloadsService.getLibraryStatistics().pipe((0,u.pQ)(this.destroyRef)).subscribe({next:e=>{this.libraryStatistics.set(e)},error:e=>{console.error("Error loading library statistics:",e)}})}static \u0275fac=function(n){return new(n||o)(t.rXU(t.zZn),t.rXU(C))};static \u0275cmp=t.VBU({type:o,selectors:[["app-my-downloads"]],viewQuery:function(n,i){if(1&n&&t.GBs(P,5),2&n){let l;t.mGM(l=t.lsd())&&(i.knowledgeListElement=l.first)}},hostBindings:function(n,i){1&n&&t.bIt("click",function(p){return i.onDocumentClick(p)},!1,t.EBC)},features:[t.Vt3],decls:2,vars:1,consts:[["knowledgeList",""],[1,"text-center","py-10","bg-light","rounded","mb-5","border","border-1","border-light"],["class","text-center py-10 bg-light rounded mb-5 border border-1 border-light",4,"ngIf"],[1,"my-5"],["role","status",1,"spinner-border","text-primary","mb-4",2,"width","3rem","height","3rem"],[1,"visually-hidden"],[1,"fw-bold","text-gray-800","mb-2"],[1,"text-gray-600","fs-6","px-3"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-12"],[1,"row","mb-10"],[1,"d-flex","align-items-center"],[1,"flex-grow-1","me-3"],[1,"input-group"],[1,"input-group-text","bg-light"],[1,"ki-duotone","ki-magnifier","fs-4"],[1,"path1"],[1,"path2"],["type","text","autocomplete","off",1,"form-control",3,"formControl","placeholder"],["type","button",1,"btn","btn-sm","btn-light-danger"],["type","button",1,"btn","btn-sm","btn-light-primary","ms-2"],[1,"row","mb-4"],[1,"d-flex","justify-content-start"],["tooltipPosition","top",1,"btn","btn-sm","btn-outline-info","d-flex","align-items-center","toggle-archived-btn",3,"click","pTooltip"],[1,"pi","pi-arrow-left","me-2","text-dark",2,"font-size","1rem"],[1,"badge","badge-light-info","ms-2"],[1,"row",2,"min-height","500px"],[1,"col-lg-4","border-end",3,"click"],[1,"d-flex","align-items-center","gap-2","mb-4","bg-light-gray","px-4","py-4"],[1,"mb-0","fw-bold","text-dark"],[1,"badge","badge-light-info"],[1,"knowledge-list",2,"max-height","400px","overflow-y","auto",3,"scroll"],[1,"text-center","py-5"],[1,"d-flex","justify-content-center","mt-3"],[1,"scroll-button"],[1,"d-flex","justify-content-center","mt-4"],[1,"col-lg-4","border-end"],[1,"d-flex","align-items-center","mb-4","bg-light-gray","p-4"],[1,"badge","badge-light-success","ms-2"],[1,"documents-list",2,"max-height","400px","overflow-y","auto"],[1,"col-lg-4"],[1,"d-flex","align-items-center","gap-2","mb-4","bg-light-gray","p-4"],[1,"details-panel"],["type","button",1,"btn","btn-sm","btn-light-danger",3,"click"],[1,"ki-duotone","ki-cross","fs-2"],["type","button",1,"btn","btn-sm","btn-light-primary","ms-2",3,"click"],[1,"ki-duotone","ki-eye","fs-2"],[1,"path3"],[1,"ms-1"],[1,"pi","pi-inbox","me-2","text-dark",2,"font-size","1rem"],[1,"ki-duotone","ki-magnifier","fs-3x","text-muted","mb-3"],[1,"text-muted"],[1,"btn","btn-sm","btn-light-info",3,"click"],[1,"ki-duotone","ki-folder-down","fs-3x","text-muted","mb-3"],[1,"knowledge-item","d-flex","align-items-center","px-4","py-2","mb-2","border","rounded","cursor-pointer",3,"active"],[1,"knowledge-item","d-flex","align-items-center","px-4","py-2","mb-2","border","rounded","cursor-pointer",3,"click"],[1,"me-3"],[1,"ki-duotone","ki-folder","fs-4","text-info"],[1,"flex-grow-1"],[1,"fs-7","fw-bold"],[1,"d-flex","align-items-center","gap-1"],[1,"text-muted","fs-8"],[1,"ms-2","d-flex","gap-1"],["tooltipPosition","top",1,"btn","btn-xs","btn-light-info","download-btn",2,"border-color","transparent !important",3,"click","disabled","pTooltip"],["role","status",1,"spinner-border","spinner-border-sm"],["tooltipPosition","top",1,"btn","btn-xs","btn-light-warning","archive-btn",3,"disabled","pTooltip"],[1,"pi","pi-download","text-info",2,"font-size","1rem","padding","0"],["tooltipPosition","top",1,"btn","btn-xs","btn-light-warning","archive-btn",3,"click","disabled","pTooltip"],[1,"pi","pi-inbox","text-warning",2,"font-size","1rem","padding","0"],[1,"scroll-button",3,"click"],[1,"ki-duotone","ki-up","fs-4"],[1,"ki-duotone","ki-down","fs-4"],[1,"pagination","pagination-sm"],[1,"page-item"],[1,"page-link",3,"click"],[1,"previous"],[1,"page-item",3,"active","disabled"],[1,"next"],[1,"ki-duotone","ki-document","fs-3x","text-muted","mb-3"],[1,"document-item","d-flex","align-items-center","px-4","py-2","mb-2","border","rounded","cursor-pointer",3,"active"],[1,"document-item","d-flex","align-items-center","px-4","py-2","mb-2","border","rounded","cursor-pointer",3,"click"],["width","32","height","32",1,"file-icon",3,"src","alt"],[1,"d-flex","align-items-center","gap-2"],[1,"ms-2"],["tooltipPosition","top",1,"btn","btn-sm","btn-light-info","download-btn",3,"click","disabled","pTooltip"],[1,"text-success","fs-8"],[1,"pi","pi-download","text-info",2,"font-size","1rem"],[1,"details-header"],[1,"details-content"],[1,"d-flex","align-items-center","gap-2","mb-2"],[1,"type-label"],[1,"cursor-pointer",3,"click"],[1,"knowledge-title"],["width","18","height","18","viewBox","0 0 30 34","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M14.5464 0C10.5851 0 6.86364 0.704566 4.06815 1.98373C1.48292 3.16777 0 4.73376 0 6.28348C0 7.8332 1.48292 9.39967 4.06815 10.5831C6.86364 11.8623 10.585 12.5669 14.5464 12.5669C18.5078 12.5669 22.2297 11.8623 25.0243 10.5831C27.6099 9.39967 29.0933 7.8333 29.0933 6.28348C29.0933 4.73367 27.6099 3.16777 25.0243 1.98373C22.2293 0.704566 18.5077 0 14.5464 0Z","fill","#0179FE"],["d","M0 9.45442C0.821516 10.3442 1.99713 11.1499 3.49489 11.8359C6.46628 13.1954 10.3914 13.9444 14.5469 13.9444C18.7023 13.9444 22.627 13.1949 25.5984 11.8359C27.0961 11.1499 28.2718 10.3445 29.0933 9.45442V13.4496C29.0933 15.004 27.6131 16.5723 25.0331 17.7531C22.2436 19.029 18.5194 19.7326 14.5464 19.7326C10.5734 19.7326 6.84871 19.029 4.05982 17.7531C1.47967 16.5723 0 15.004 0 13.4496V9.45442Z","fill","#0179FE"],["d","M29.0933 16.6207C26.6302 19.2908 21.1116 21.1102 14.5464 21.1102C7.98116 21.1102 2.46273 19.2908 0 16.6207V20.1383C0 21.6918 1.47967 23.261 4.05982 24.4417C6.84871 25.7181 10.5734 26.4217 14.5464 26.4217C18.5194 26.4217 22.2436 25.7181 25.0336 24.4417C27.6136 23.261 29.0933 21.6918 29.0933 20.1383V16.6207Z","fill","#0179FE"],["d","M4.05982 31.608C1.47967 30.4272 0 28.858 0 27.3041V23.3093C2.46273 25.9799 7.98116 27.7994 14.5464 27.7994C21.1116 27.7994 26.6302 25.9799 29.0933 23.3093V27.3041C29.0933 28.858 27.6131 30.4272 25.0331 31.608C22.2436 32.8844 18.5194 33.5875 14.5464 33.5875C10.5734 33.5875 6.84871 32.8844 4.05982 31.608Z","fill","#0179FE"],["width","18","height","18","viewBox","0 0 42 42","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M29.5625 0C37.1458 0 41.6663 4.52116 41.6455 12.1045V29.5625C41.6455 37.1457 37.1251 41.6669 29.542 41.667H12.1045C4.52127 41.667 0.00012927 37.146 0 29.542V12.1045C0 4.52116 4.52116 0 12.1045 0H29.5625ZM11.9346 21.46C10.7753 21.4601 9.83305 22.4022 9.83301 23.5615V29.4678C9.83321 30.6269 10.7754 31.5682 11.9346 31.5684C13.112 31.5684 14.0545 30.627 14.0547 29.4678V23.5615C14.0546 22.4021 13.1121 21.46 11.9346 21.46ZM19.96 12.1846C18.7825 12.1847 17.8409 13.1268 17.8408 14.2861V29.4678C17.841 30.6269 18.7827 31.5682 19.96 31.5684C21.1192 31.5684 22.0613 30.627 22.0615 29.4678V14.2861C22.0615 13.1267 21.1194 12.1846 19.96 12.1846ZM27.6689 8.83301C26.4561 8.83301 25.4854 9.93196 25.4854 11.2842V28.9912C25.4855 30.3434 26.4561 31.4424 27.6689 31.4424C28.863 31.4423 29.8329 30.3433 29.833 28.9912V11.2842C29.8329 9.93204 28.8631 8.83313 27.6689 8.83301Z","fill","#0179FE"],["width","18","height","18","viewBox","0 0 50 50","fill","none","xmlns","http://www.w3.org/2000/svg"],["opacity","0.4","d","M45.125 21.75L43.0833 30.4583C41.3333 37.9792 37.875 41.0208 31.375 40.3958C30.3333 40.3125 29.2083 40.125 28 39.8333L24.5 39C15.8125 36.9375 13.125 32.6458 15.1667 23.9375L17.2083 15.2083C17.625 13.4375 18.125 11.8958 18.75 10.625C21.1875 5.58333 25.3333 4.22916 32.2917 5.875L35.7708 6.6875C44.5 8.72916 47.1667 13.0417 45.125 21.75Z","fill","#0179FE"],["d","M31.375 40.3958C30.0833 41.2708 28.4583 42 26.4792 42.6458L23.1875 43.7292C14.9167 46.3958 10.5625 44.1667 7.87499 35.8958L5.20833 27.6667C2.54166 19.3958 4.74999 15.0208 13.0208 12.3542L16.3125 11.2708C17.1667 11 17.9792 10.7708 18.75 10.625C18.125 11.8958 17.625 13.4375 17.2083 15.2083L15.1667 23.9375C13.125 32.6458 15.8125 36.9375 24.5 39L28 39.8333C29.2083 40.125 30.3333 40.3125 31.375 40.3958Z","fill","#0179FE"],["d","M42.7083 14.5834V31.25H13.2292C9.95834 31.25 7.29167 33.9167 7.29167 37.1875V14.5834C7.29167 6.25002 9.37501 4.16669 17.7083 4.16669H32.2917C40.625 4.16669 42.7083 6.25002 42.7083 14.5834Z","fill","#0179FE"],["d","M42.7083 31.25V38.5417C42.7083 42.5625 39.4375 45.8333 35.4167 45.8333H14.5833C10.5625 45.8333 7.29167 42.5625 7.29167 38.5417V37.1875C7.29167 33.9167 9.95834 31.25 13.2292 31.25H42.7083Z","fill","#0179FE"],["d","M33.3333 16.1458H16.6667C15.8125 16.1458 15.1042 15.4375 15.1042 14.5833C15.1042 13.7291 15.8125 13.0208 16.6667 13.0208H33.3333C34.1875 13.0208 34.8958 13.7291 34.8958 14.5833C34.8958 15.4375 34.1875 16.1458 33.3333 16.1458Z","fill","white"],["d","M27.0833 23.4375H16.6667C15.8125 23.4375 15.1042 22.7292 15.1042 21.875C15.1042 21.0208 15.8125 20.3125 16.6667 20.3125H27.0833C27.9375 20.3125 28.6458 21.0208 28.6458 21.875C28.6458 22.7292 27.9375 23.4375 27.0833 23.4375Z","fill","white"],["width","18","height","18","viewBox","0 0 39 36","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M31.9898 26.8163C31.9898 24.1788 29.8518 22.0408 27.2143 22.0408C24.5767 22.0408 22.4388 24.1788 22.4388 26.8163C22.4388 28.1696 23.0037 29.3885 23.9081 30.2576V36L27.2143 33.7959L30.5204 36V30.2576C31.4248 29.3885 31.9898 28.1696 31.9898 26.8163Z","fill","#0179FE"],["d","M37.1327 0H1.86734C1.05624 0 0.397949 0.657551 0.397949 1.46939V30.8572C0.397949 31.6683 1.05624 32.3265 1.86734 32.3265H20.9694V31.3443C20.0143 30.0372 19.5 28.4694 19.5 26.8163C19.5 22.5625 22.9604 19.102 27.2143 19.102C31.4682 19.102 34.9286 22.5625 34.9286 26.8163C34.9286 28.4701 34.4143 30.038 33.4592 31.345V32.3265H37.1327C37.9438 32.3265 38.6021 31.6683 38.6021 30.8572V1.46939C38.6021 0.657551 37.9438 0 37.1327 0ZM20.9694 13.2245H8.47959V10.2857H20.9694V13.2245ZM30.5204 7.34694H8.47959V4.40816H30.5204V7.34694Z","fill","#0179FE"],["d","M25 0C11.215 0 0 11.215 0 25C0 38.785 11.215 50 25 50C38.785 50 50 38.785 50 25C50 11.215 38.785 0 25 0Z","fill","#0179FE"],["d","M33 25L21 33V17L33 25Z","fill","white"],[1,"ki-duotone","ki-document","fs-5",2,"color","#0179FE"],[1,"publisher-info"],[1,"publisher-content"],[1,"publisher-image-container"],[1,"company-logo-container"],[1,"publisher-text"],[1,"company-info"],[1,"purchase-info"],[1,"purchase-date"],[1,"label"],[1,"value"],["onerror","this.src='assets/images/default-company.png'",1,"company-logo","rounded-circle",2,"object-fit","cover","object-position","top",3,"src","alt"],["onerror","this.src='assets/images/default-avatar.png'",1,"insighter-overlay",2,"object-fit","cover","object-position","top",3,"src","alt"],["onerror","this.src='assets/images/default-avatar.png'",1,"insighter-photo",2,"object-fit","cover","object-position","top",3,"src","alt"],[1,"company-name","fw-bold"],[1,"publisher-name","fw-bold"]],template:function(n,i){1&n&&t.DNE(0,I,1,1,"div",1)(1,yt,60,43),2&n&&t.vxM(0,i.loading()?0:1)},dependencies:[_.bT,f.me,f.BC,f.l_,d.m,_.Pc,_.PV,_.vh,g.D9,m._,j.s],styles:[".bg-light-gray[_ngcontent-%COMP%]{background-color:#f8f9fa!important;border:1px solid #dee2e6!important;font-weight:600!important;color:#495057!important;margin-bottom:0!important}.bg-light-gray[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.9rem!important;font-weight:600!important;text-transform:uppercase;letter-spacing:.5px;margin-bottom:0!important}.bg-light-gray[_ngcontent-%COMP%]:first-child{border-top-left-radius:6px!important;border-bottom-left-radius:6px!important}.bg-light-gray[_ngcontent-%COMP%]:last-child{border-top-right-radius:6px!important;border-bottom-right-radius:6px!important}.knowledge-list[_ngcontent-%COMP%], .documents-list[_ngcontent-%COMP%], .details-panel[_ngcontent-%COMP%]{margin-top:1rem!important}.knowledge-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0;opacity:.8;transition:opacity .2s ease}.knowledge-item.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.knowledge-item[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{opacity:1}.knowledge-item[_ngcontent-%COMP%], .document-item[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid #e4e6ef!important}.knowledge-item[_ngcontent-%COMP%]:hover, .document-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;border-color:#0978b9!important}.knowledge-item.active[_ngcontent-%COMP%], .document-item.active[_ngcontent-%COMP%]{background-color:#e3f2fd;border-color:#0978b9!important}.knowledge-item.active[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%], .document-item.active[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:#0978b9!important}.knowledge-item[_ngcontent-%COMP%]   .cursor-pointer[_ngcontent-%COMP%], .document-item[_ngcontent-%COMP%]   .cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.knowledge-item[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%], .document-item[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{object-fit:contain}.knowledge-list[_ngcontent-%COMP%]::-webkit-scrollbar, .documents-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.knowledge-list[_ngcontent-%COMP%]::-webkit-scrollbar-track, .documents-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.knowledge-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .documents-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.knowledge-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .documents-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.details-panel[_ngcontent-%COMP%]{border-radius:4px;position:relative;overflow:hidden;display:flex;flex-direction:column}.details-panel[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]{background-image:url(https://res.cloudinary.com/dsiku9ipv/image/upload/v1752857105/test2_taexwy.webp);background-size:cover;background-repeat:no-repeat;background-position:50%;padding:2rem;color:#fff;position:relative;min-height:200px;flex:1;display:flex;flex-direction:column;justify-content:flex-start}.details-panel[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:2}.details-panel[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .type-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#60a5fa;letter-spacing:.1em;text-transform:uppercase}.details-panel[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .knowledge-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#fff;line-height:1.2;margin:0}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:0 0 4px 4px;border:1px solid #DFDFDF;height:-moz-fit-content;height:fit-content;display:flex;justify-content:space-between}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]{margin-bottom:1.5rem}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{color:#64748b!important}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]   .publisher-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]   .publisher-image-container[_ngcontent-%COMP%]{flex-shrink:0}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]   .publisher-image-container[_ngcontent-%COMP%]   .company-logo-container[_ngcontent-%COMP%]{position:relative;width:45px;height:45px}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]   .publisher-image-container[_ngcontent-%COMP%]   .company-logo-container[_ngcontent-%COMP%]   .company-logo[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:8px;object-fit:cover;border:2px solid #e5e7eb}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]   .publisher-image-container[_ngcontent-%COMP%]   .company-logo-container[_ngcontent-%COMP%]   .insighter-overlay[_ngcontent-%COMP%]{position:absolute;bottom:-8px;right:-4px;width:22px;height:22px;border-radius:50%;object-fit:cover;border:2px solid #ffffff;box-shadow:0 2px 4px #0000001a}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]   .publisher-image-container[_ngcontent-%COMP%]   .insighter-photo[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;object-fit:cover;border:2px solid #e5e7eb}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]   .publisher-text[_ngcontent-%COMP%]{flex:1;min-width:0}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]   .publisher-text[_ngcontent-%COMP%]   .publisher-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]   .publisher-text[_ngcontent-%COMP%]   .company-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]   .publisher-text[_ngcontent-%COMP%]   .company-info[_ngcontent-%COMP%]   .company-prefix[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .publisher-info[_ngcontent-%COMP%]   .publisher-text[_ngcontent-%COMP%]   .company-info[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{font-size:1.14rem;border-radius:4px;font-weight:500;display:inline-block}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .purchase-info[_ngcontent-%COMP%]   .purchase-date[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .purchase-info[_ngcontent-%COMP%]   .purchase-date[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500}.details-panel[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]   .purchase-info[_ngcontent-%COMP%]   .purchase-date[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1rem;color:#1e293b;font-weight:600}.details-panel[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff3}.border-end[_ngcontent-%COMP%]{border-right:1px solid #e4e6ef!important}.pagination-sm[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.875rem}.scroll-button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:none;background-color:#e1f5fe;color:#0978b9;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 2px 8px #009ef726;transition:all .3s ease}.scroll-button[_ngcontent-%COMP%]:hover{background-color:#0978b9;color:#fff!important;box-shadow:0 4px 12px #009ef74d;transform:translateY(-1px)}.scroll-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.scroll-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px!important;color:inherit}.download-btn[_ngcontent-%COMP%]{transition:all .3s ease}.download-btn[_ngcontent-%COMP%]:hover:not(:disabled)   i[_ngcontent-%COMP%]{color:#fff!important}.archive-btn[_ngcontent-%COMP%]{transition:all .3s ease}.archive-btn[_ngcontent-%COMP%]:hover:not(:disabled)   i[_ngcontent-%COMP%]{color:#fff!important}.toggle-archived-btn[_ngcontent-%COMP%]{transition:all .3s ease}.toggle-archived-btn[_ngcontent-%COMP%]:hover:not(:disabled)   i[_ngcontent-%COMP%]{color:#fff!important}.toggle-archived-btn.active[_ngcontent-%COMP%]{background-color:#0778b9;border-color:#0778b9;color:#fff}.toggle-archived-btn.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important}[dir=rtl][_ngcontent-%COMP%]   .border-end[_ngcontent-%COMP%]{border-right:none!important;border-left:1px solid #e4e6ef!important}[dir=rtl][_ngcontent-%COMP%]   .me-3[_ngcontent-%COMP%]{margin-right:0!important;margin-left:1rem!important}[dir=rtl][_ngcontent-%COMP%]   .ms-2[_ngcontent-%COMP%]{margin-left:0!important;margin-right:.5rem!important}[dir=rtl][_ngcontent-%COMP%]   .publisher-image-container[_ngcontent-%COMP%]   .company-logo-container[_ngcontent-%COMP%]   .insighter-overlay[_ngcontent-%COMP%]{bottom:-8px;right:auto;left:-8px}"]})}return o})();var Pt=c(4035),Dt=c(1579);const kt=[{path:"",component:xt}];let Ot=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=t.$C({type:o});static \u0275inj=t.G2t({imports:[_.MD,s.iI.forChild(kt),r.E,Pt.e1,g.h,f.YN,f.X1,Dt.d,d.S]})}return o})()},1579:(R,y,c)=>{c.d(y,{d:()=>x,z:()=>M});var _=c(177),s=c(4438),t=c(5779);const u=(r,C)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":r,"p-progressbar-indeterminate":C}),f=(r,C)=>({width:r,display:"flex",background:C}),D=r=>({$implicit:r}),k=r=>({display:r}),O=r=>({background:r});function T(r,C){if(1&r&&(s.j41(0,"div",7),s.EFF(1),s.k0s()),2&r){const d=s.XpG(2);s.Y8G("ngStyle",s.eq3(4,k,null!=d.value&&0!==d.value?"flex":"none")),s.BMQ("data-pc-section","label"),s.R7$(),s.Lme(" ",d.value,"",d.unit," ")}}function E(r,C){1&r&&s.eu8(0)}function w(r,C){if(1&r&&(s.j41(0,"div",3)(1,"div",4),s.DNE(2,T,2,6,"div",5)(3,E,1,0,"ng-container",6),s.k0s()()),2&r){const d=s.XpG();s.Y8G("ngStyle",s.l_i(5,f,d.value+"%",d.color)),s.BMQ("data-pc-section","value"),s.R7$(2),s.Y8G("ngIf",d.showValue&&!d.contentTemplate),s.R7$(),s.Y8G("ngTemplateOutlet",d.contentTemplate)("ngTemplateOutletContext",s.eq3(8,D,d.value))}}function b(r,C){if(1&r&&(s.j41(0,"div",8),s.nrm(1,"div",3),s.k0s()),2&r){const d=s.XpG();s.BMQ("data-pc-section","container"),s.R7$(),s.Y8G("ngStyle",s.eq3(3,O,d.color)),s.BMQ("data-pc-section","value")}}let M=(()=>{class r{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(d=>{d.getType(),this.contentTemplate=d.template})}static \u0275fac=function(g){return new(g||r)};static \u0275cmp=s.VBU({type:r,selectors:[["p-progressBar"]],contentQueries:function(g,m,j){if(1&g&&s.wni(j,t.Ei,4),2&g){let P;s.mGM(P=s.lsd())&&(m.templates=P)}},hostAttrs:[1,"p-element"],inputs:{value:[s.Mj6.HasDecoratorInputTransform,"value","value",s.Udg],showValue:[s.Mj6.HasDecoratorInputTransform,"showValue","showValue",s.L39],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[s.GFd],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(g,m){1&g&&(s.j41(0,"div",0),s.DNE(1,w,4,10,"div",1)(2,b,2,5,"div",2),s.k0s()),2&g&&(s.HbH(m.styleClass),s.Y8G("ngStyle",m.style)("ngClass",s.l_i(11,u,"determinate"===m.mode,"indeterminate"===m.mode)),s.BMQ("aria-valuemin",0)("aria-valuenow",m.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),s.R7$(),s.Y8G("ngIf","determinate"===m.mode),s.R7$(),s.Y8G("ngIf","indeterminate"===m.mode))},dependencies:[_.YU,_.bT,_.T3,_.B3],styles:['@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0})}return r})(),x=(()=>{class r{static \u0275fac=function(g){return new(g||r)};static \u0275mod=s.$C({type:r});static \u0275inj=s.G2t({imports:[_.MD]})}return r})()}}]);