"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[6789],{6789:(io,L,u)=>{u.r(L),u.d(L,{AccountSettingsModule:()=>oo});var g=u(177),I=u(2791),U=u(4133),l=u(9417),w=u(4412),M=u(7673),te=u(7468),ne=u(3726),v=u(6354),oe=u(9172),ie=u(1584),ae=u(6697),re=u(8032),D=u.n(re),f=u(5098);const se=[{text:"\u{1f1fa}\u{1f1f8} +1   United States",code:"+1",country:"US"},{text:"\u{1f1e8}\u{1f1e6} +1   Canada",code:"+1",country:"CA"},{text:"\u{1f1f7}\u{1f1fa} +7   Russia",code:"+7",country:"RU"},{text:"\u{1f1ea}\u{1f1ec} +20  Egypt",code:"+20",country:"EG"},{text:"\u{1f1ff}\u{1f1e6} +27  South Africa",code:"+27",country:"ZA"},{text:"\u{1f1ec}\u{1f1f7} +30  Greece",code:"+30",country:"GR"},{text:"\u{1f1f3}\u{1f1f1} +31  Netherlands",code:"+31",country:"NL"},{text:"\u{1f1e7}\u{1f1ea} +32  Belgium",code:"+32",country:"BE"},{text:"\u{1f1eb}\u{1f1f7} +33  France",code:"+33",country:"FR"},{text:"\u{1f1ea}\u{1f1f8} +34  Spain",code:"+34",country:"ES"},{text:"\u{1f1ed}\u{1f1fa} +36  Hungary",code:"+36",country:"HU"},{text:"\u{1f1ee}\u{1f1f9} +39  Italy",code:"+39",country:"IT"},{text:"\u{1f1f7}\u{1f1f4} +40  Romania",code:"+40",country:"RO"},{text:"\u{1f1e8}\u{1f1ed} +41  Switzerland",code:"+41",country:"CH"},{text:"\u{1f1e6}\u{1f1f9} +43  Austria",code:"+43",country:"AT"},{text:"\u{1f1ec}\u{1f1e7} +44  United Kingdom",code:"+44",country:"GB"},{text:"\u{1f1e9}\u{1f1f0} +45  Denmark",code:"+45",country:"DK"},{text:"\u{1f1f8}\u{1f1ea} +46  Sweden",code:"+46",country:"SE"},{text:"\u{1f1f3}\u{1f1f4} +47  Norway",code:"+47",country:"NO"},{text:"\u{1f1f5}\u{1f1f1} +48  Poland",code:"+48",country:"PL"},{text:"\u{1f1e9}\u{1f1ea} +49  Germany",code:"+49",country:"DE"},{text:"\u{1f1f5}\u{1f1ea} +51  Peru",code:"+51",country:"PE"},{text:"\u{1f1f2}\u{1f1fd} +52  Mexico",code:"+52",country:"MX"},{text:"\u{1f1e8}\u{1f1fa} +53  Cuba",code:"+53",country:"CU"},{text:"\u{1f1e6}\u{1f1f7} +54  Argentina",code:"+54",country:"AR"},{text:"\u{1f1e7}\u{1f1f7} +55  Brazil",code:"+55",country:"BR"},{text:"\u{1f1e8}\u{1f1f1} +56  Chile",code:"+56",country:"CL"},{text:"\u{1f1e8}\u{1f1f4} +57  Colombia",code:"+57",country:"CO"},{text:"\u{1f1fb}\u{1f1ea} +58  Venezuela",code:"+58",country:"VE"},{text:"\u{1f1f2}\u{1f1fe} +60  Malaysia",code:"+60",country:"MY"},{text:"\u{1f1e6}\u{1f1fa} +61  Australia",code:"+61",country:"AU"},{text:"\u{1f1ee}\u{1f1e9} +62  Indonesia",code:"+62",country:"ID"},{text:"\u{1f1f5}\u{1f1ed} +63  Philippines",code:"+63",country:"PH"},{text:"\u{1f1f3}\u{1f1ff} +64  New Zealand",code:"+64",country:"NZ"},{text:"\u{1f1f8}\u{1f1ec} +65  Singapore",code:"+65",country:"SG"},{text:"\u{1f1f9}\u{1f1ed} +66  Thailand",code:"+66",country:"TH"},{text:"\u{1f1ef}\u{1f1f5} +81  Japan",code:"+81",country:"JP"},{text:"\u{1f1f0}\u{1f1f7} +82  South Korea",code:"+82",country:"KR"},{text:"\u{1f1fb}\u{1f1f3} +84  Vietnam",code:"+84",country:"VN"},{text:"\u{1f1e8}\u{1f1f3} +86  China",code:"+86",country:"CN"},{text:"\u{1f1f9}\u{1f1f7} +90  Turkey",code:"+90",country:"TR"},{text:"\u{1f1ee}\u{1f1f3} +91  India",code:"+91",country:"IN"},{text:"\u{1f1f5}\u{1f1f0} +92  Pakistan",code:"+92",country:"PK"},{text:"\u{1f1e6}\u{1f1eb} +93  Afghanistan",code:"+93",country:"AF"},{text:"\u{1f1f1}\u{1f1f0} +94  Sri Lanka",code:"+94",country:"LK"},{text:"\u{1f1f2}\u{1f1f2} +95  Myanmar",code:"+95",country:"MM"},{text:"\u{1f1ee}\u{1f1f7} +98  Iran",code:"+98",country:"IR"},{text:"\u{1f1f2}\u{1f1e6} +212 Morocco",code:"+212",country:"MA"},{text:"\u{1f1e9}\u{1f1ff} +213 Algeria",code:"+213",country:"DZ"},{text:"\u{1f1f9}\u{1f1f3} +216 Tunisia",code:"+216",country:"TN"},{text:"\u{1f1f1}\u{1f1fe} +218 Libya",code:"+218",country:"LY"},{text:"\u{1f1ec}\u{1f1f2} +220 Gambia",code:"+220",country:"GM"},{text:"\u{1f1f8}\u{1f1f3} +221 Senegal",code:"+221",country:"SN"},{text:"\u{1f1f2}\u{1f1f7} +222 Mauritania",code:"+222",country:"MR"},{text:"\u{1f1f2}\u{1f1f1} +223 Mali",code:"+223",country:"ML"},{text:"\u{1f1ec}\u{1f1f3} +224 Guinea",code:"+224",country:"GN"},{text:"\u{1f1e8}\u{1f1ee} +225 Ivory Coast",code:"+225",country:"CI"},{text:"\u{1f1e7}\u{1f1eb} +226 Burkina Faso",code:"+226",country:"BF"},{text:"\u{1f1f3}\u{1f1ea} +227 Niger",code:"+227",country:"NE"},{text:"\u{1f1f9}\u{1f1ec} +228 Togo",code:"+228",country:"TG"},{text:"\u{1f1e7}\u{1f1ef} +229 Benin",code:"+229",country:"BJ"},{text:"\u{1f1f2}\u{1f1fa} +230 Mauritius",code:"+230",country:"MU"},{text:"\u{1f1f1}\u{1f1f7} +231 Liberia",code:"+231",country:"LR"},{text:"\u{1f1f8}\u{1f1f1} +232 Sierra Leone",code:"+232",country:"SL"},{text:"\u{1f1ec}\u{1f1ed} +233 Ghana",code:"+233",country:"GH"},{text:"\u{1f1f3}\u{1f1ec} +234 Nigeria",code:"+234",country:"NG"},{text:"\u{1f1f9}\u{1f1e9} +235 Chad",code:"+235",country:"TD"},{text:"\u{1f1e8}\u{1f1eb} +236 Central African Republic",code:"+236",country:"CF"},{text:"\u{1f1e8}\u{1f1f2} +237 Cameroon",code:"+237",country:"CM"},{text:"\u{1f1e8}\u{1f1fb} +238 Cape Verde",code:"+238",country:"CV"},{text:"\u{1f1f8}\u{1f1f9} +239 Sao Tome and Principe",code:"+239",country:"ST"},{text:"\u{1f1ec}\u{1f1f6} +240 Equatorial Guinea",code:"+240",country:"GQ"},{text:"\u{1f1ec}\u{1f1e6} +241 Gabon",code:"+241",country:"GA"},{text:"\u{1f1e8}\u{1f1ec} +242 Republic of the Congo",code:"+242",country:"CG"},{text:"\u{1f1e8}\u{1f1e9} +243 Democratic Republic of the Congo",code:"+243",country:"CD"},{text:"\u{1f1e6}\u{1f1f4} +244 Angola",code:"+244",country:"AO"},{text:"\u{1f1ec}\u{1f1fc} +245 Guinea-Bissau",code:"+245",country:"GW"},{text:"\u{1f1ee}\u{1f1f4} +246 British Indian Ocean Territory",code:"+246",country:"IO"},{text:"\u{1f1f8}\u{1f1e8} +248 Seychelles",code:"+248",country:"SC"},{text:"\u{1f1f8}\u{1f1e9} +249 Sudan",code:"+249",country:"SD"},{text:"\u{1f1f7}\u{1f1fc} +250 Rwanda",code:"+250",country:"RW"},{text:"\u{1f1ea}\u{1f1f9} +251 Ethiopia",code:"+251",country:"ET"},{text:"\u{1f1f8}\u{1f1f4} +252 Somalia",code:"+252",country:"SO"},{text:"\u{1f1e9}\u{1f1ef} +253 Djibouti",code:"+253",country:"DJ"},{text:"\u{1f1f0}\u{1f1ea} +254 Kenya",code:"+254",country:"KE"},{text:"\u{1f1f9}\u{1f1ff} +255 Tanzania",code:"+255",country:"TZ"},{text:"\u{1f1fa}\u{1f1ec} +256 Uganda",code:"+256",country:"UG"},{text:"\u{1f1e7}\u{1f1ee} +257 Burundi",code:"+257",country:"BI"},{text:"\u{1f1f2}\u{1f1ff} +258 Mozambique",code:"+258",country:"MZ"},{text:"\u{1f1ff}\u{1f1f2} +260 Zambia",code:"+260",country:"ZM"},{text:"\u{1f1f2}\u{1f1ec} +261 Madagascar",code:"+261",country:"MG"},{text:"\u{1f1f7}\u{1f1ea} +262 Reunion",code:"+262",country:"RE"},{text:"\u{1f1ff}\u{1f1fc} +263 Zimbabwe",code:"+263",country:"ZW"},{text:"\u{1f1f3}\u{1f1e6} +264 Namibia",code:"+264",country:"NA"},{text:"\u{1f1f2}\u{1f1fc} +265 Malawi",code:"+265",country:"MW"},{text:"\u{1f1f1}\u{1f1f8} +266 Lesotho",code:"+266",country:"LS"},{text:"\u{1f1e7}\u{1f1fc} +267 Botswana",code:"+267",country:"BW"},{text:"\u{1f1f8}\u{1f1ff} +268 Eswatini",code:"+268",country:"SZ"},{text:"\u{1f1f0}\u{1f1f2} +269 Comoros",code:"+269",country:"KM"},{text:"\u{1f1f8}\u{1f1ed} +290 Saint Helena",code:"+290",country:"SH"},{text:"\u{1f1ea}\u{1f1f7} +291 Eritrea",code:"+291",country:"ER"},{text:"\u{1f1e6}\u{1f1fc} +297 Aruba",code:"+297",country:"AW"},{text:"\u{1f1eb}\u{1f1f4} +298 Faroe Islands",code:"+298",country:"FO"},{text:"\u{1f1ec}\u{1f1f1} +299 Greenland",code:"+299",country:"GL"},{text:"\u{1f1ec}\u{1f1ee} +350 Gibraltar",code:"+350",country:"GI"},{text:"\u{1f1f5}\u{1f1f9} +351 Portugal",code:"+351",country:"PT"},{text:"\u{1f1f1}\u{1f1fa} +352 Luxembourg",code:"+352",country:"LU"},{text:"\u{1f1ee}\u{1f1ea} +353 Ireland",code:"+353",country:"IE"},{text:"\u{1f1ee}\u{1f1f8} +354 Iceland",code:"+354",country:"IS"},{text:"\u{1f1e6}\u{1f1f1} +355 Albania",code:"+355",country:"AL"},{text:"\u{1f1f2}\u{1f1f9} +356 Malta",code:"+356",country:"MT"},{text:"\u{1f1e8}\u{1f1fe} +357 Cyprus",code:"+357",country:"CY"},{text:"\u{1f1eb}\u{1f1ee} +358 Finland",code:"+358",country:"FI"},{text:"\u{1f1e7}\u{1f1ec} +359 Bulgaria",code:"+359",country:"BG"},{text:"\u{1f1f1}\u{1f1f9} +370 Lithuania",code:"+370",country:"LT"},{text:"\u{1f1f1}\u{1f1fb} +371 Latvia",code:"+371",country:"LV"},{text:"\u{1f1ea}\u{1f1ea} +372 Estonia",code:"+372",country:"EE"},{text:"\u{1f1f2}\u{1f1e9} +373 Moldova",code:"+373",country:"MD"},{text:"\u{1f1e6}\u{1f1f2} +374 Armenia",code:"+374",country:"AM"},{text:"\u{1f1e7}\u{1f1fe} +375 Belarus",code:"+375",country:"BY"},{text:"\u{1f1e6}\u{1f1e9} +376 Andorra",code:"+376",country:"AD"},{text:"\u{1f1f2}\u{1f1e8} +377 Monaco",code:"+377",country:"MC"},{text:"\u{1f1f8}\u{1f1f2} +378 San Marino",code:"+378",country:"SM"},{text:"\u{1f1fa}\u{1f1e6} +380 Ukraine",code:"+380",country:"UA"},{text:"\u{1f1f7}\u{1f1f8} +381 Serbia",code:"+381",country:"RS"},{text:"\u{1f1f2}\u{1f1ea} +382 Montenegro",code:"+382",country:"ME"},{text:"\u{1f1ed}\u{1f1f7} +385 Croatia",code:"+385",country:"HR"},{text:"\u{1f1f8}\u{1f1ee} +386 Slovenia",code:"+386",country:"SI"},{text:"\u{1f1e7}\u{1f1e6} +387 Bosnia and Herzegovina",code:"+387",country:"BA"},{text:"\u{1f1f2}\u{1f1f0} +389 North Macedonia",code:"+389",country:"MK"},{text:"\u{1f1e8}\u{1f1ff} +420 Czech Republic",code:"+420",country:"CZ"},{text:"\u{1f1f8}\u{1f1f0} +421 Slovakia",code:"+421",country:"SK"},{text:"\u{1f1f1}\u{1f1ee} +423 Liechtenstein",code:"+423",country:"LI"},{text:"\u{1f1eb}\u{1f1f0} +500 Falkland Islands",code:"+500",country:"FK"},{text:"\u{1f1e7}\u{1f1ff} +501 Belize",code:"+501",country:"BZ"},{text:"\u{1f1ec}\u{1f1f9} +502 Guatemala",code:"+502",country:"GT"},{text:"\u{1f1f8}\u{1f1fb} +503 El Salvador",code:"+503",country:"SV"},{text:"\u{1f1ed}\u{1f1f3} +504 Honduras",code:"+504",country:"HN"},{text:"\u{1f1f3}\u{1f1ee} +505 Nicaragua",code:"+505",country:"NI"},{text:"\u{1f1e8}\u{1f1f7} +506 Costa Rica",code:"+506",country:"CR"},{text:"\u{1f1f5}\u{1f1e6} +507 Panama",code:"+507",country:"PA"},{text:"\u{1f1f5}\u{1f1f2} +508 Saint Pierre and Miquelon",code:"+508",country:"PM"},{text:"\u{1f1ed}\u{1f1f9} +509 Haiti",code:"+509",country:"HT"},{text:"\u{1f1ec}\u{1f1f5} +590 Guadeloupe",code:"+590",country:"GP"},{text:"\u{1f1e7}\u{1f1f4} +591 Bolivia",code:"+591",country:"BO"},{text:"\u{1f1ec}\u{1f1fe} +592 Guyana",code:"+592",country:"GY"},{text:"\u{1f1ea}\u{1f1e8} +593 Ecuador",code:"+593",country:"EC"},{text:"\u{1f1ec}\u{1f1eb} +594 French Guiana",code:"+594",country:"GF"},{text:"\u{1f1f5}\u{1f1fe} +595 Paraguay",code:"+595",country:"PY"},{text:"\u{1f1f2}\u{1f1f6} +596 Martinique",code:"+596",country:"MQ"},{text:"\u{1f1f8}\u{1f1f7} +597 Suriname",code:"+597",country:"SR"},{text:"\u{1f1fa}\u{1f1fe} +598 Uruguay",code:"+598",country:"UY"},{text:"\u{1f1e8}\u{1f1fc} +599 Cura\xe7ao",code:"+599",country:"CW"},{text:"\u{1f1f9}\u{1f1f1} +670 Timor-Leste",code:"+670",country:"TL"},{text:"\u{1f1e6}\u{1f1f6} +672 Antarctica",code:"+672",country:"AQ"},{text:"\u{1f1e7}\u{1f1f3} +673 Brunei",code:"+673",country:"BN"},{text:"\u{1f1f3}\u{1f1f7} +674 Nauru",code:"+674",country:"NR"},{text:"\u{1f1f5}\u{1f1ec} +675 Papua New Guinea",code:"+675",country:"PG"},{text:"\u{1f1f9}\u{1f1f4} +676 Tonga",code:"+676",country:"TO"},{text:"\u{1f1f8}\u{1f1e7} +677 Solomon Islands",code:"+677",country:"SB"},{text:"\u{1f1fb}\u{1f1fa} +678 Vanuatu",code:"+678",country:"VU"},{text:"\u{1f1eb}\u{1f1ef} +679 Fiji",code:"+679",country:"FJ"},{text:"\u{1f1f5}\u{1f1fc} +680 Palau",code:"+680",country:"PW"},{text:"\u{1f1fc}\u{1f1eb} +681 Wallis and Futuna",code:"+681",country:"WF"},{text:"\u{1f1e8}\u{1f1f0} +682 Cook Islands",code:"+682",country:"CK"},{text:"\u{1f1f3}\u{1f1fa} +683 Niue",code:"+683",country:"NU"},{text:"\u{1f1fc}\u{1f1f8} +685 Samoa",code:"+685",country:"WS"},{text:"\u{1f1f0}\u{1f1ee} +686 Kiribati",code:"+686",country:"KI"},{text:"\u{1f1f3}\u{1f1e8} +687 New Caledonia",code:"+687",country:"NC"},{text:"\u{1f1f9}\u{1f1fb} +688 Tuvalu",code:"+688",country:"TV"},{text:"\u{1f1f5}\u{1f1eb} +689 French Polynesia",code:"+689",country:"PF"},{text:"\u{1f1f9}\u{1f1f0} +690 Tokelau",code:"+690",country:"TK"},{text:"\u{1f1eb}\u{1f1f2} +691 Federated States of Micronesia",code:"+691",country:"FM"},{text:"\u{1f1f2}\u{1f1ed} +692 Marshall Islands",code:"+692",country:"MH"},{text:"\u{1f1f0}\u{1f1f5} +850 North Korea",code:"+850",country:"KP"},{text:"\u{1f1ed}\u{1f1f0} +852 Hong Kong",code:"+852",country:"HK"},{text:"\u{1f1f2}\u{1f1f4} +853 Macau",code:"+853",country:"MO"},{text:"\u{1f1f0}\u{1f1ed} +855 Cambodia",code:"+855",country:"KH"},{text:"\u{1f1f1}\u{1f1e6} +856 Laos",code:"+856",country:"LA"},{text:"\u{1f1e7}\u{1f1e9} +880 Bangladesh",code:"+880",country:"BD"},{text:"\u{1f1f9}\u{1f1fc} +886 Taiwan",code:"+886",country:"TW"},{text:"\u{1f1f2}\u{1f1fb} +960 Maldives",code:"+960",country:"MV"},{text:"\u{1f1f1}\u{1f1e7} +961 Lebanon",code:"+961",country:"LB"},{text:"\u{1f1ef}\u{1f1f4} +962 Jordan",code:"+962",country:"JO"},{text:"\u{1f1f8}\u{1f1fe} +963 Syria",code:"+963",country:"SY"},{text:"\u{1f1ee}\u{1f1f6} +964 Iraq",code:"+964",country:"IQ"},{text:"\u{1f1f0}\u{1f1fc} +965 Kuwait",code:"+965",country:"KW"},{text:"\u{1f1f8}\u{1f1e6} +966 Saudi Arabia",code:"+966",country:"SA"},{text:"\u{1f1fe}\u{1f1ea} +967 Yemen",code:"+967",country:"YE"},{text:"\u{1f1f4}\u{1f1f2} +968 Oman",code:"+968",country:"OM"},{text:"\u{1f1f5}\u{1f1f8} +970 Palestine",code:"+970",country:"PS"},{text:"\u{1f1e6}\u{1f1ea} +971 United Arab Emirates",code:"+971",country:"AE"},{text:"\u{1f1ee}\u{1f1f1} +972 Israel",code:"+972",country:"IL"},{text:"\u{1f1e7}\u{1f1ed} +973 Bahrain",code:"+973",country:"BH"},{text:"\u{1f1f6}\u{1f1e6} +974 Qatar",code:"+974",country:"QA"},{text:"\u{1f1e7}\u{1f1f9} +975 Bhutan",code:"+975",country:"BT"},{text:"\u{1f1f2}\u{1f1f3} +976 Mongolia",code:"+976",country:"MN"},{text:"\u{1f1f3}\u{1f1f5} +977 Nepal",code:"+977",country:"NP"},{text:"\u{1f1f9}\u{1f1ef} +992 Tajikistan",code:"+992",country:"TJ"},{text:"\u{1f1f9}\u{1f1f2} +993 Turkmenistan",code:"+993",country:"TM"},{text:"\u{1f1e6}\u{1f1ff} +994 Azerbaijan",code:"+994",country:"AZ"},{text:"\u{1f1ec}\u{1f1ea} +995 Georgia",code:"+995",country:"GE"},{text:"\u{1f1f0}\u{1f1ec} +996 Kyrgyzstan",code:"+996",country:"KG"},{text:"\u{1f1fa}\u{1f1ff} +998 Uzbekistan",code:"+998",country:"UZ"}];var e=u(4438),m=u(1626),F=u(8810),x=u(9437),E=u(980),V=u(779);let ce=(()=>{class o{http;translationService;apiUrl="https://api.foresighta.co/api/account/insighter/individual/register-as-company";isLoadingSubject=new w.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t,n){this.http=t,this.translationService=n,this.translationService.onLanguageChange().subscribe(i=>{this.currentLang=i||"en"})}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){return(0,F.$)(t)}postInsighterToCompany(t){const n=new m.Lr({Accept:"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(this.apiUrl,t,{headers:n}).pipe((0,v.T)(i=>i),(0,x.W)(i=>this.handleError(i)),(0,E.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||o)(e.KVO(m.Qq),e.KVO(V.L))};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var le=u(6360),de=u(8688),ue=u(9634),pe=u(7192),ge=u(2016),R=u(7112),N=u(8542),Y=u(6781),B=u(5779),X=u(5430),H=u(5653),W=u(8833),Z=u(8706),h=u(3955),me=u(5692);const _e=["logoInput"],fe=["fileInput"],he=["certFileInput"],be=()=>({width:"550px"});function ve(o,r){if(1&o&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(),e.JRh(t)}}function Ce(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",74)(1,"div",75)(2,"i",76),e.nrm(3,"span",41)(4,"span",42)(5,"span",54),e.k0s(),e.j41(6,"strong"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"ul",77),e.DNE(10,ve,2,1,"li",78),e.k0s(),e.j41(11,"button",79),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showApiErrors=!1)}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(7),e.JRh(e.bMT(8,2,"COMMON.ERROR")),e.R7$(3),e.Y8G("ngForOf",t.apiErrorMessages)}}function ye(o,r){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.LEGAL_NAME_REQUIRED")," "))}function Te(o,r){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.ABOUT_COMPANY_REQUIRED")," "))}function Ie(o,r){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.ADDRESS_REQUIRED")," "))}function xe(o,r){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COUNTRY_REQUIRED")," "))}function Ee(o,r){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_PHONE_REQUIRED")," "))}function Re(o,r){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COUNTRY_CODE_REQUIRED")," "))}function Ae(o,r){1&o&&(e.j41(0,"div",81),e.nrm(1,"span",82),e.j41(2,"span",83),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&o&&(e.R7$(3),e.JRh(e.bMT(4,1,"INSIGHTER_WIZARD.LOADING_FIELDS")))}function Se(o,r){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.CONSULTING_FIELDS_REQUIRED")," "))}function Me(o,r){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.INDUSTRY_REQUIRED")," "))}function ke(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",84)(2,"shared-tree-selector",85),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.nI1(6,"translate"),e.nI1(7,"translate"),e.bIt("nodesSelected",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.onConsultingNodesSelected(i))}),e.k0s(),e.DNE(8,Se,3,3,"div",16),e.k0s(),e.j41(9,"div",84)(10,"shared-tree-selector",86),e.nI1(11,"translate"),e.nI1(12,"translate"),e.nI1(13,"translate"),e.nI1(14,"translate"),e.nI1(15,"translate"),e.bIt("nodesSelected",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.onIndustrySelected(i))}),e.k0s(),e.DNE(16,Me,3,3,"div",16),e.k0s(),e.bVm()}if(2&o){let t,n;const i=e.XpG();e.R7$(2),e.Y8G("title",e.bMT(3,19,"INSIGHTER_WIZARD.CONSULTING_FIELDS"))("placeholder",e.bMT(4,21,"AUTH.REGISTRATION.CONSULTING_FIELD_PLACEHOLDER"))("otherFieldPlaceholder",e.bMT(5,23,"INSIGHTER_WIZARD.OTHER_FIELD_PLACEHOLDER"))("selectAllLabel","ar"===i.lang?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644":"Select All")("fetchedData",i.listOfConsultingFields)("cancelLabel",e.bMT(6,25,"BUTTONS.CANCEL"))("okLabel",e.bMT(7,27,"BUTTONS.OK"))("isRequired",!0)("currentLang",i.lang),e.R7$(6),e.Y8G("ngIf",(null==(t=i.form.get("consultingFields"))?null:t.hasError("required"))&&(null==(t=i.form.get("consultingFields"))?null:t.touched)),e.R7$(2),e.Y8G("title",e.bMT(11,29,"AUTH.REGISTRATION.INDUSTRY"))("placeholder",e.bMT(12,31,"AUTH.REGISTRATION.INDUSTRY_PLACEHOLDER"))("otherFieldPlaceholder",e.bMT(13,33,"INSIGHTER_WIZARD.OTHER_FIELD_PLACEHOLDER"))("selectAllLabel","ar"===i.lang?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644":"Select All")("fetchedData",i.nodes)("cancelLabel",e.bMT(14,35,"BUTTONS.CANCEL"))("okLabel",e.bMT(15,37,"BUTTONS.OK"))("isRequired",!0),e.R7$(6),e.Y8G("ngIf",(null==(n=i.form.get("isicCodes"))?null:n.hasError("required"))&&(null==(n=i.form.get("isicCodes"))?null:n.touched))}}function we(o,r){if(1&o&&(e.j41(0,"option",107),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function Oe(o,r){1&o&&(e.j41(0,"div",108),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.DOCUMENT_TYPE_REQUIRED")," "))}function Pe(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",87)(1,"div",88)(2,"div",89)(3,"i",90),e.nrm(4,"span",41)(5,"span",42),e.k0s()(),e.j41(6,"div",91),e.nrm(7,"img",92),e.k0s(),e.j41(8,"div",93)(9,"a",94),e.EFF(10),e.nI1(11,"truncateText"),e.k0s(),e.j41(12,"div",95),e.EFF(13),e.nI1(14,"number"),e.k0s()(),e.j41(15,"div",96)(16,"label",97),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"select",98)(20,"option",99),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,we,2,2,"option",100),e.k0s(),e.DNE(24,Oe,3,3,"div",101),e.k0s()(),e.j41(25,"div",102)(26,"button",103),e.nI1(27,"translate"),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeCertification(i))}),e.j41(28,"i",104),e.nrm(29,"span",41)(30,"span",42)(31,"span",54)(32,"span",105)(33,"span",106),e.k0s()()()()}if(2&o){let t;const n=r.$implicit,i=e.XpG();e.Y8G("formGroup",n),e.R7$(7),e.Y8G("src",i.getFileIcon(n.value.file),e.B4B),e.R7$(3),e.SpI(" ",e.i5U(11,9,n.value.file.name,15)," "),e.R7$(3),e.SpI(" ",e.i5U(14,12,n.value.file.size/1e3,"1.0-2")," KB "),e.R7$(4),e.SpI(" ",e.bMT(18,15,"INSIGHTER_WIZARD.DOCUMENT_TYPE")," "),e.R7$(4),e.JRh(e.bMT(22,17,"INSIGHTER_WIZARD.SELECT_DOCUMENT_TYPE")),e.R7$(2),e.Y8G("ngForOf",i.documentTypes),e.R7$(),e.Y8G("ngIf",!(null!=(t=n.get("type"))&&t.value)),e.R7$(2),e.FS9("pTooltip",e.bMT(27,19,"BUTTONS.DELETE_FILE"))}}function De(o,r){1&o&&(e.j41(0,"div",109),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_LOGO_REQUIRED")," "))}function Fe(o,r){1&o&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.WEBSITE_REQUIRED")," "))}function Ne(o,r){1&o&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.WEBSITE_INVALID_FORMAT")," "))}function Ge(o,r){if(1&o&&(e.j41(0,"div",80),e.DNE(1,Fe,3,3,"span",26)(2,Ne,3,3,"span",26),e.k0s()),2&o){let t,n;const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(t=i.form.get("website"))?null:t.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(n=i.form.get("website"))?null:n.hasError("invalidWebsite"))}}function je(o,r){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.GET_CODE")," "))}function $e(o,r){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.nrm(3,"span",121),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"AUTH.REGISTRATION.PLEASE_WAIT")," "))}function Le(o,r){if(1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"async"),e.bVm()),2&o){const t=e.XpG(2);e.R7$(),e.Lme(" ",e.bMT(2,2,"INSIGHTER_WIZARD.PLEASE_WAIT")," (",e.bMT(3,4,t.getCodeCountdown$),"s) ")}}function Ue(o,r){1&o&&(e.j41(0,"div",122),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"EMAIL_DOMAIN_MATCH")," "))}function Ve(o,r){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_EMAIL_REQUIRED")," "))}function Ye(o,r){1&o&&(e.j41(0,"div",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.CODE_REQUIRED")," "))}function Be(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",13)(1,"div",13)(2,"label",14),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",110),e.nI1(6,"translate"),e.DNE(7,Ge,3,2,"div",16),e.k0s(),e.j41(8,"div",111)(9,"div",112)(10,"label",14),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",113)(14,"div",114),e.nrm(15,"input",115),e.nI1(16,"translate"),e.k0s(),e.j41(17,"div",116)(18,"button",117),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.getCode())}),e.DNE(19,je,3,3,"ng-container",26)(20,$e,4,3,"ng-container",26)(21,Le,4,6,"ng-container",26),e.k0s()()(),e.DNE(22,Ue,3,3,"div",118)(23,Ve,3,3,"div",16),e.k0s(),e.j41(24,"div",119)(25,"label",14),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.nrm(28,"input",120),e.nI1(29,"translate"),e.DNE(30,Ye,3,3,"div",16),e.k0s()()()}if(2&o){let t,n,i,a,s;const c=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,14,"INSIGHTER_WIZARD.WEBSITE_DOMAIN")," "),e.R7$(2),e.FS9("placeholder",e.bMT(6,16,"INSIGHTER_WIZARD.WEBSITE_DOMAIN")),e.R7$(2),e.Y8G("ngIf",(null==(t=c.form.get("website"))?null:t.invalid)&&(null==(t=c.form.get("website"))?null:t.touched)),e.R7$(4),e.SpI(" ",e.bMT(12,18,"INSIGHTER_WIZARD.COMPANY_EMAIL")," "),e.R7$(4),e.FS9("placeholder",e.bMT(16,20,"INSIGHTER_WIZARD.COMPANY_EMAIL")),e.R7$(3),e.Y8G("disabled",!(null!=(n=c.form.get("companyEmail"))&&n.valid)||c.gettingCodeLoader||c.isGetCodeDisabled||!c.validateDomainMatching()),e.R7$(),e.Y8G("ngIf",!c.gettingCodeLoader&&!c.isGetCodeDisabled),e.R7$(),e.Y8G("ngIf",c.gettingCodeLoader),e.R7$(),e.Y8G("ngIf",c.isGetCodeDisabled&&!c.gettingCodeLoader),e.R7$(),e.Y8G("ngIf",(null==(i=c.form.get("companyEmail"))?null:i.value)&&(null==(i=c.form.get("website"))?null:i.value)&&c.hasEmailAtSymbol()&&!c.validateDomainMatching()),e.R7$(),e.Y8G("ngIf",(null==(a=c.form.get("companyEmail"))?null:a.invalid)&&(null==(a=c.form.get("companyEmail"))?null:a.touched)),e.R7$(3),e.SpI(" ",e.bMT(27,22,"INSIGHTER_WIZARD.CODE")," "),e.R7$(2),e.FS9("placeholder",e.bMT(29,24,"INSIGHTER_WIZARD.ENTER_CODE")),e.R7$(2),e.Y8G("ngIf",(null==(s=c.form.get("code"))?null:s.invalid)&&(null==(s=c.form.get("code"))?null:s.touched))}}function Xe(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",127),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.onDropzoneClick())})("drop",function(i){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onFileDrop(i))})("dragover",function(i){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onDragOver(i))}),e.nrm(1,"i",128),e.j41(2,"h3",129),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"span",130),e.EFF(6),e.nI1(7,"translate"),e.k0s()()}2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"INSIGHTER_WIZARD.DROP_OR_UPLOAD_REGISTRY_DOCUMENT")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"INSIGHTER_WIZARD.VERIFY_COMPANY_ACCOUNT_BY_UPLOADING_REGISTRY_DOC")," "))}function He(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",131)(1,"div",132)(2,"div",133)(3,"div",134),e.nrm(4,"img",92),e.k0s(),e.j41(5,"div")(6,"span",135),e.EFF(7),e.k0s(),e.j41(8,"span",130),e.EFF(9),e.nI1(10,"number"),e.k0s()()(),e.j41(11,"button",136),e.nI1(12,"translate"),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.removeRegisterDocument())}),e.j41(13,"i",104),e.nrm(14,"span",41)(15,"span",42)(16,"span",54)(17,"span",105)(18,"span",106),e.k0s()()()()}if(2&o){let t,n,i;const a=e.XpG(2);e.R7$(4),e.Y8G("src",a.getFileIcon(null==(t=a.form.get("registerDocument"))?null:t.value),e.B4B),e.R7$(3),e.SpI(" ",null==(n=a.form.get("registerDocument"))?null:n.value.name," "),e.R7$(2),e.SpI(" ",e.i5U(10,4,(null==(i=a.form.get("registerDocument"))?null:i.value.size)/1e3,"1.0-2")," KB "),e.R7$(2),e.FS9("pTooltip",e.bMT(12,7,"BUTTONS.DELETE_FILE"))}}function We(o,r){1&o&&(e.j41(0,"div",109),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.REGISTER_DOCUMENT_REQUIRED")," "))}function Ze(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",13)(1,"div",123),e.DNE(2,Xe,8,6,"div",124)(3,He,19,9,"div",125),e.j41(4,"input",126,2),e.bIt("change",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.onFileSelected(i))}),e.k0s()(),e.DNE(6,We,3,3,"div",45),e.k0s()}if(2&o){let t,n,i;const a=e.XpG();e.R7$(2),e.Y8G("ngIf",!(null!=(t=a.form.get("registerDocument"))&&t.value)),e.R7$(),e.Y8G("ngIf",null==(n=a.form.get("registerDocument"))?null:n.value),e.R7$(3),e.Y8G("ngIf",(null==(i=a.form.get("registerDocument"))?null:i.invalid)&&(null==(i=a.form.get("registerDocument"))?null:i.touched))}}function ze(o,r){1&o&&(e.j41(0,"div",137),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"INSIGHTER_WIZARD.COMPANY_AGREEMENT_REQUIRED")," "))}function Je(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",138)(1,"h5",139),e.EFF(2),e.k0s(),e.j41(3,"div",140)(4,"button",141),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.printTerms())}),e.nrm(5,"i",142),e.k0s(),e.j41(6,"button",143),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.saveTerms())}),e.nrm(7,"i",144),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(2),e.JRh((null==t.agreementContent?null:t.agreementContent.name)||"Company Terms of Service")}}function qe(o,r){1&o&&(e.j41(0,"div",145),e.nrm(1,"span",146),e.k0s())}function Ke(o,r){if(1&o&&(e.j41(0,"div",147),e.nrm(1,"div",148),e.k0s()),2&o){const t=e.XpG();e.xc7("max-height","400px")("overflow-y","auto"),e.R7$(),e.Y8G("innerHTML",t.agreementContent.guideline,e.npT)}}function Qe(o,r){1&o&&(e.j41(0,"div",149),e.EFF(1," Failed to load agreement content. Please try again later. "),e.k0s())}function et(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",150)(1,"div",151),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",152)(5,"button",153),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.declineAgreement())}),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",154),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.acceptAgreement())}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()}2&o&&(e.R7$(2),e.JRh(e.bMT(3,3,"INSIGHTER_WIZARD.DOCUMENT_REGISTRY_APPROVAL_NOTE")),e.R7$(4),e.SpI(" ",e.bMT(7,5,"INSIGHTER_WIZARD.DECLINE")," "),e.R7$(3),e.SpI(" ",e.bMT(10,7,"INSIGHTER_WIZARD.ACCEPT")," "))}let tt=(()=>{class o extends f.${fb;http;insighterAsCompany;router;commonService;_KnoldgFieldsService;_isicService;documentsService;translationService;_countriesService;profileService;cdr;form;logoPreview=null;gettingCodeLoader=!1;isGetCodeDisabled=!1;getCodeCountdown$=new w.t(null);updateProfile$;dialogWidth="50vw";logoInput;fileInput;certFileInput;defaultImage="https://au.eragroup.com/wp-content/uploads/2018/02/logo-placeholder.png";agreementChecked=!1;showAgreementError=!1;agreementContent=null;isLoadingAgreement=!1;showAgreementDialog=!1;attemptedSubmit=!1;listOfConsultingFields=[];nodes=[];allConsultingFieldSelected=[];allIndustriesSelected=[];isLoadingFields=!1;phoneNumbers=se;isLoading$=(0,M.of)(!1);lang="en";countries=[];documentTypes=[];isLoadingDocumentTypes=!1;documentTypesError="";fizeSizeMessages=[];apiErrorMessages=[];showApiErrors=!1;currentUser;constructor(t,n,i,a,s,c,d,p,_,y,T,A,S){super(S),this.fb=t,this.http=n,this.insighterAsCompany=i,this.router=a,this.commonService=s,this._KnoldgFieldsService=c,this._isicService=d,this.documentsService=p,this.translationService=_,this._countriesService=y,this.profileService=T,this.cdr=A,this.updateProfile$=this.insighterAsCompany.isLoading$,this.lang=this.translationService.getSelectedLanguage()}ngOnInit(){this.initForm(),this.windowResize(),this.initApiCalls(),this.loadDocumentTypes(),this.setupSubscriptions(),this.setVerificationValidators(this.form.get("verificationMethod")?.value)}setupSubscriptions(){const t=this.translationService.onLanguageChange().subscribe(i=>{this.lang=i,this.initApiCalls()});this.unsubscribe.push(t);const n=this.form.get("verificationMethod")?.valueChanges.subscribe(i=>{this.setVerificationValidators(i)});n&&this.unsubscribe.push(n),this.setupDomainValidationSubscriptions()}setupDomainValidationSubscriptions(){const t=this.form.get("website")?.valueChanges.subscribe(()=>{this.validateDomainMatching()}),n=this.form.get("companyEmail")?.valueChanges.subscribe(()=>{this.validateDomainMatching()});t&&this.unsubscribe.push(t),n&&this.unsubscribe.push(n)}initApiCalls(){this.isLoadingFields=!0,this.isLoading$=(0,M.of)(!0);const t=(0,te.p)({consultingFields:this._KnoldgFieldsService.getConsultingCodesTree(this.lang||"en"),isicCodes:this._isicService.getIsicCodesTree(this.lang||"en"),countries:this._countriesService.getCountries(),profile:this.profileService.getProfile()}).subscribe({next:n=>{this.listOfConsultingFields=n.consultingFields,this.nodes=n.isicCodes,this.countries=n.countries.map(i=>({...i,showFlag:!0})),this.isLoadingFields=!1,this.isLoading$=(0,M.of)(!1),this.setDefaultCountryFromProfile(n.profile),this.cdr.detectChanges()},error:n=>{console.error("Error loading fields:",n),this.handleApiError("Failed to load consulting fields or industries."),this.isLoadingFields=!1,this.isLoading$=(0,M.of)(!1)}});this.unsubscribe.push(t)}handleApiError(t){this.messageService.add({severity:"error",summary:"Error",detail:t})}loadDocumentTypes(){this.isLoadingDocumentTypes=!0;const t=this.documentsService.getDocumentsTypes().subscribe({next:n=>{this.documentTypes=n,this.isLoadingDocumentTypes=!1},error:n=>{this.documentTypesError="Failed to load document types.",this.isLoadingDocumentTypes=!1,this.handleApiError("Failed to load document types."),console.error(n)}});this.unsubscribe.push(t)}ngOnDestroy(){this.unsubscribe.forEach(t=>{t&&!t.closed&&t.unsubscribe()})}windowResize(){const n=(0,ne.R)(window,"resize").pipe((0,v.T)(()=>window.innerWidth),(0,oe.Z)(window.innerWidth)).subscribe(i=>{this.dialogWidth=i<768?"100vw":"70vw"});this.unsubscribe.push(n)}openAgreementDialog(t){if(t&&t.originalEvent&&!t.checked)return this.form.get("agreement")?.setValue(!1),void(this.showAgreementError=this.attemptedSubmit);this.isLoadingAgreement=!0,this.showAgreementDialog=!0,this.commonService.getClientAgreement("company-agreement").subscribe({next:n=>{this.agreementContent=n.data,this.isLoadingAgreement=!1},error:n=>{console.error("Error loading agreement:",n),this.isLoadingAgreement=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load agreement. Please try again."})}})}acceptAgreement(){this.form.get("agreement")?.setValue(!0),this.form.get("agreement")?.markAsTouched(),this.showAgreementDialog=!1,this.showAgreementError=!1}declineAgreement(){this.form.get("agreement")?.setValue(!1),this.form.get("agreement")?.markAsTouched(),this.showAgreementDialog=!1,this.showAgreementError=!0}printTerms(){const t=window.open("","_blank");if(t){const n=this.agreementContent?.name||"Company Terms of Service",a=`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>${n}</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; line-height: 1.6; }\n            h1 { color: #333; text-align: center; margin-bottom: 20px; }\n            .content { margin: 0 auto; max-width: 800px; }\n          </style>\n        </head>\n        <body>\n          <h1>${n}</h1>\n          <div class="content">${this.agreementContent?.guideline||""}</div>\n        </body>\n        </html>\n      `;t.document.open(),t.document.write(a),t.document.close(),setTimeout(()=>{t.print()},500)}else this.messageService.add({severity:"error",summary:"Error",detail:"Could not open print window. Please check your browser settings."})}saveTerms(){if(this.agreementContent){const t=this.agreementContent.name||"Company-Terms-of-Service",n=this.stripHtmlTags(this.agreementContent.guideline),i=new Blob([n],{type:"text/plain"}),a=window.URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download=`${t.replace(/\s+/g,"-")}.txt`,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(a),document.body.removeChild(s)}}stripHtmlTags(t){const n=document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""}onConsultingNodesSelected(t){this.allConsultingFieldSelected=t&&t.length>0?t:[],this.form.get("consultingFields")?.setValue(this.allConsultingFieldSelected),this.form.get("consultingFields")?.markAsTouched(),this.form.get("consultingFields")?.updateValueAndValidity()}onIndustrySelected(t){this.allIndustriesSelected=t&&t.length>0?t:[],this.form.get("isicCodes")?.setValue(this.allIndustriesSelected),this.form.get("isicCodes")?.markAsTouched(),this.form.get("isicCodes")?.updateValueAndValidity()}initForm(){this.form=this.fb.group({legalName:["",l.k0.required],aboutCompany:["",l.k0.required],logo:[null,l.k0.required],address:["",l.k0.required],company_phone:["",l.k0.required],phoneCountryCode:["",l.k0.required],country:[null,l.k0.required],verificationMethod:["websiteEmail",l.k0.required],website:[""],companyEmail:["",l.k0.email],code:[""],registerDocument:[null],agreement:[!1,l.k0.requiredTrue],consultingFields:[[],[l.k0.required]],isicCodes:[[],[l.k0.required]],certifications:this.fb.array([])})}get certifications(){return this.form.get("certifications")}get certificationControls(){return this.certifications.controls}addCertification(t){const n=this.fb.group({type:[t?.type||"",[l.k0.required]],file:[t?.file||null,[l.k0.required]]});this.certifications.push(n)}removeCertification(t){this.certifications.removeAt(t)}onCertFileSelected(t){this.handleCertFiles(t.target.files),this.certFileInput&&(this.certFileInput.nativeElement.value="")}onCertDropzoneClick(){this.certFileInput&&this.certFileInput.nativeElement.click()}handleCertFiles(t){for(let a=0;a<t.length;a++){const s=t.item(a);if(s){if(s.size>2097152){this.messageService.add({severity:"error",summary:"File Too Large",detail:`File "${s.name}" exceeds the 2MB size limit.`});continue}this.addCertification({file:s})}}}getFileIcon(t){return t?`./assets/media/svg/files/${t.name.split(".").pop()?.toLowerCase()}.svg`:"./assets/media/svg/files/default.svg"}onPhoneNumberInput(t){let i=t.target.value.replace(/\D/g,"");i.length>10&&(i=i.slice(0,10)),this.form.controls.company_phone.setValue(i,{emitEvent:!1})}setVerificationValidators(t){"websiteEmail"===t?(this.form.get("website")?.setValidators([l.k0.required,this.websiteValidator()]),this.form.get("companyEmail")?.setValidators([l.k0.required,l.k0.email]),this.form.get("code")?.setValidators([l.k0.required]),this.form.get("registerDocument")?.clearValidators(),this.form.get("registerDocument")?.setValue(null)):"uploadDocument"===t&&(this.form.get("registerDocument")?.setValidators([l.k0.required]),this.form.get("website")?.clearValidators(),this.form.get("companyEmail")?.clearValidators(),this.form.get("code")?.clearValidators(),this.form.get("website")?.setValue(""),this.form.get("companyEmail")?.setValue(""),this.form.get("code")?.setValue("")),this.form.get("website")?.updateValueAndValidity(),this.form.get("companyEmail")?.updateValueAndValidity(),this.form.get("code")?.updateValueAndValidity(),this.form.get("registerDocument")?.updateValueAndValidity()}onLogoSelected(t){const n=t.target;if(n.files&&n.files[0]){const i=n.files[0];if(!["image/png","image/jpeg","image/jpg"].includes(i.type))return this.messageService.add({severity:"error",summary:"Invalid File Type",detail:"Please select a PNG or JPEG image."}),void this.form.get("logo")?.setErrors({invalidType:!0});if(i.size>2097152)return this.messageService.add({severity:"error",summary:"File Too Large",detail:"Logo must be smaller than 2MB."}),void this.form.get("logo")?.setErrors({maxSizeExceeded:!0});const c=new Image,d=new FileReader;d.onload=p=>{p.target&&(c.src=p.target.result,c.onload=()=>{if(c.width<500||c.height<300)return this.messageService.add({severity:"error",summary:"Low Resolution Image",detail:"Logo must be at least 500x300 pixels for high quality."}),this.form.get("logo")?.setErrors({lowResolution:!0}),this.logoPreview=null,void(this.logoInput&&(this.logoInput.nativeElement.value=""));this.form.patchValue({logo:i}),this.form.get("logo")?.updateValueAndValidity(),this.logoPreview=c.src})},d.readAsDataURL(i)}}removeLogo(){this.form.patchValue({logo:null}),this.logoPreview=null,this.logoInput&&(this.logoInput.nativeElement.value="")}getLogoBackgroundImage(){return`url(${this.logoPreview||this.defaultImage})`}getCode(){const t=this.form.get("companyEmail")?.value;if(t){this.gettingCodeLoader=!0;const n=this.http.post("https://api.foresighta.co/api/auth/company/code/send",{verified_email:t},{headers:{"Accept-Language":"en"}}).subscribe({next:i=>{this.messageService.add({severity:"success",summary:"Success",detail:"Verification email sent successfully."}),this.gettingCodeLoader=!1,this.startGetCodeCooldown()},error:i=>{console.error("Error sending code:",i),this.messageService.add({severity:"error",summary:"Error",detail:i?.error?.message||"Failed to send verification code."}),this.gettingCodeLoader=!1}});this.unsubscribe.push(n)}}startGetCodeCooldown(){this.isGetCodeDisabled=!0,this.getCodeCountdown$.next(30);const i=(0,ie.O)(0,1e3).pipe((0,ae.s)(31),(0,v.T)(a=>30-a)).subscribe({next:a=>{this.getCodeCountdown$.next(a)},complete:()=>{this.getCodeCountdown$.next(null),this.isGetCodeDisabled=!1}});this.unsubscribe.push(i)}onRegisterDocumentSelected(t){const n=t.target;n.files&&n.files[0]&&(this.form.patchValue({registerDocument:n.files[0]}),this.form.get("registerDocument")?.updateValueAndValidity())}removeRegisterDocument(){this.form.patchValue({registerDocument:null}),this.fileInput&&(this.fileInput.nativeElement.value="")}onDropzoneClick(){this.fileInput.nativeElement.click()}onFileSelected(t){const n=t.target.files[0];n&&(this.form.patchValue({registerDocument:n}),this.form.get("registerDocument")?.updateValueAndValidity())}onDragOver(t){t.preventDefault()}onFileDrop(t){t.preventDefault();const n=t.dataTransfer?.files;if(n&&n.length>0){const i=n.item(0);this.form.patchValue({registerDocument:i}),this.form.get("registerDocument")?.updateValueAndValidity()}}onSubmit(){if(this.attemptedSubmit=!0,this.markFormGroupTouched(this.form),this.form.invalid)return void window.scrollTo({top:0,behavior:"smooth"});const t=new FormData;if(t.append("legal_name",this.form.get("legalName")?.value),t.append("about_us",this.form.get("aboutCompany")?.value),t.append("logo",this.form.get("logo")?.value),t.append("address",this.form.get("address")?.value),t.append("country",this.form.get("country")?.value),this.form.get("company_phone")?.value){const d=this.form.get("company_phone")?.value;t.append("company_phone",d)}if(this.form.get("phoneCountryCode")?.value){const d=this.form.get("phoneCountryCode")?.value,p=d.code||d;if(p&&"string"==typeof p){const _=p.startsWith("+")?p.substring(1):p;t.append("phone_code",_)}}t.append("company_agreement","true");const n=this.form.get("verificationMethod")?.value;"websiteEmail"===n?(t.append("website",this.form.get("website")?.value),t.append("verified_email",this.form.get("companyEmail")?.value),t.append("code",this.form.get("code")?.value)):"uploadDocument"===n&&t.append("register_document",this.form.get("registerDocument")?.value);const i=this.form.get("consultingFields")?.value.filter(d=>"number"==typeof d.key),a=this.form.get("consultingFields")?.value.filter(d=>"string"==typeof d.key&&"selectAll"!==d.key&&d.data&&null!=d.data.customInput);i&&i.length>0&&i.forEach(d=>{t.append("consulting_field[]",d.key.toString())}),a&&a.length>0&&a.forEach((d,p)=>{t.append(`suggest_consulting_fields[${p}][parent_id]`,d.parent&&d.parent.key?"selectAll"===d.parent.key?"0":d.parent.key:"0"),t.append(`suggest_consulting_fields[${p}][name][en]`,d.data.customInput),t.append(`suggest_consulting_fields[${p}][name][ar]`,d.data.customInput)});const s=this.form.get("isicCodes")?.value.filter(d=>"number"==typeof d.key),c=this.form.get("isicCodes")?.value.filter(d=>"string"==typeof d.key&&"selectAll"!==d.key&&d.data&&null!=d.data.customInput);s&&s.length>0&&s.forEach(d=>{t.append("industries[]",d.key.toString())}),c&&c.length>0&&c.forEach((d,p)=>{t.append(`suggest_industries[${p}][parent_id]`,d.parent&&d.parent.key?"selectAll"===d.parent.key?"0":d.parent.key:"0"),t.append(`suggest_industries[${p}][name][en]`,d.data.customInput),t.append(`suggest_industries[${p}][name][ar]`,d.data.customInput)}),this.certifications.controls.length>0&&this.certifications.controls.forEach((d,p)=>{d.valid&&(t.append(`certification[${p}][type]`,d.value.type),t.append(`certification[${p}][file]`,d.value.file))}),this.apiPost(t)}apiPost(t){const n=this.insighterAsCompany.postInsighterToCompany(t).subscribe({next:i=>{D().fire({icon:"success",title:"ar"===this.lang?"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u062d\u0633\u0627\u0628\u0643 \u0628\u0646\u062c\u0627\u062d":"Your account has been successfully updated",text:"ar"===this.lang?"\u0633\u0646\u0642\u0648\u0645 \u0628\u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u062d\u0633\u0627\u0628\u0643 \u0628\u0645\u062c\u0631\u062f \u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a.":"We will verify your account once the information is confirmed.",confirmButtonText:"ar"===this.lang?"\u062d\u0633\u0646\u0627\u064b":"OK",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{window.location.href=window.location.href})},error:i=>{this.handleServerErrors(i)}});this.unsubscribe.push(n)}handleServerErrors(t){if(this.apiErrorMessages=[],t.error){if(t.error.message&&this.messageService.add({severity:"error",summary:"Error",detail:t.error.message}),t.error.errors){const n=t.error.errors;for(const i in n)if(n.hasOwnProperty(i)){const a=n[i];if("common"===i)this.apiErrorMessages=a,this.showApiErrors=!0;else{const s=this.form.get(i);s?s.setErrors({serverError:a.join(", ")}):(this.apiErrorMessages.push(`${i}: ${a.join(", ")}`),this.showApiErrors=!0)}}}}else this.messageService.add({severity:"error",summary:"Error",detail:"An unexpected error occurred."});this.showApiErrors&&window.scrollTo({top:0,behavior:"smooth"})}markFormGroupTouched(t){t instanceof l.gE?Object.keys(t.controls).forEach(n=>{const i=t.get(n);i&&(i instanceof l.gE||i instanceof l.Yp?this.markFormGroupTouched(i):i.markAsTouched())}):t instanceof l.Yp&&t.controls.forEach(n=>{n instanceof l.gE||n instanceof l.Yp?this.markFormGroupTouched(n):n.markAsTouched()})}setDefaultCountryFromProfile(t){if(!t||!this.countries?.length)return;const n=t?.data?.country_id||t?.country_id;if(!n)return;const i=this.countries.find(a=>a.id===n);if(i){const a=this.form.get("country");a&&(a.setValue(i.id),a.markAsTouched(),this.cdr.markForCheck())}}onFlagError(t){t.showFlag=!1}websiteValidator(){return t=>{if(!t.value)return null;const n=t.value.trim();return/^(https?:\/\/)?(www\.)?[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?(\S*)?$/.test(n)?null:{invalidWebsite:!0}}}validateDomainMatching(){if("websiteEmail"!==this.form.get("verificationMethod")?.value)return!0;const t=this.form.get("website")?.value,n=this.form.get("companyEmail")?.value;if(!t||!n)return!1;const i=this.extractDomainFromWebsite(t),a=this.extractDomainFromEmail(n);return!!(i&&a&&a.endsWith(i))}extractDomainFromWebsite(t){if(!t)return null;let n=t.trim().toLowerCase();return n=n.replace(/^(https?:\/\/)/i,""),n=n.replace(/^www\./i,""),n=n.split("/")[0],n=n.split("?")[0],n=n.split("#")[0],n=n.split(":")[0],n||null}extractDomainFromEmail(t){return t&&t.includes("@")?t.split("@")[1].toLowerCase():null}hasEmailAtSymbol(){const t=this.form.get("companyEmail")?.value;return t&&t.includes("@")}static \u0275fac=function(n){return new(n||o)(e.rXU(l.ok),e.rXU(m.Qq),e.rXU(ce),e.rXU(I.Ix),e.rXU(le.h),e.rXU(de.M),e.rXU(ue.I),e.rXU(pe.Q),e.rXU(U.L),e.rXU(ge.C),e.rXU(R.p),e.rXU(e.gRc),e.rXU(e.zZn))};static \u0275cmp=e.VBU({type:o,selectors:[["app-upgrade-to-company"]],viewQuery:function(n,i){if(1&n&&(e.GBs(_e,5),e.GBs(fe,5),e.GBs(he,5)),2&n){let a;e.mGM(a=e.lsd())&&(i.logoInput=a.first),e.mGM(a=e.lsd())&&(i.fileInput=a.first),e.mGM(a=e.lsd())&&(i.certFileInput=a.first)}},features:[e.Vt3],decls:144,vars:119,consts:[["certFileInput",""],["logoInput",""],["fileInput",""],[1,"card"],[1,"card-body"],[1,"mil-up",3,"ngSubmit","formGroup"],["class","alert alert-danger mb-10",4,"ngIf"],[1,"mb-10"],[1,"fw-bolder","text-gray-900","mb-3"],[1,"text-gray-500","fw-bold","fs-6"],["href","#",1,"link-primary","fw-bolder"],[1,"card","mb-10"],[1,"card-body","p-8"],[1,"mb-8"],[1,"form-label","required","fw-bold"],["formControlName","legalName","type","text",1,"form-control",3,"placeholder"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["formControlName","aboutCompany","rows","4",1,"form-control"],["formControlName","address","type","text",1,"form-control",3,"placeholder"],["formControlName","country",3,"countries","placeholder","searchPlaceholder","enableSearch","showClear","lang","isInvalid"],[1,"input-group"],[1,"max-width-200px"],["formControlName","phoneCountryCode","optionLabel","text",1,"d-block","form-p-control","no-border-radius-start-end",3,"options","placeholder","filter","showClear"],["formControlName","company_phone","type","tel",1,"form-control","no-rtl-b-radius",3,"input","dir","placeholder"],[1,"row"],["class","d-flex justify-content-center align-items-center min-h-150px my-3 w-100",4,"ngIf"],[4,"ngIf"],[1,"form-label","mb-3"],[1,"mb-5"],[1,"mh-300px","scroll-y","me-n7","pe-7"],["class","d-flex flex-stack py-4 border border-top-0 border-left-0 border-right-0 border-dashed",3,"formGroup",4,"ngFor","ngForOf"],[1,"fv-row","mb-5","text-start"],["type","button",1,"btn","btn-lg","btn-primary",3,"click"],[1,"bi","bi-upload","me-2"],[1,"mt-2","text-muted","fs-6"],["type","file","multiple","","accept",".png, .jpg, .jpeg, .pdf",2,"display","none",3,"change"],[1,"d-flex","flex-column","align-items-start"],[1,"image-input","logo-placeholder","image-input-outline"],[1,"image-input-wrapper","logo-placeholder","w-225px","h-100px"],["data-kt-image-input-action","change","data-bs-toggle","tooltip","data-bs-dismiss","click",1,"btn","btn-icon","btn-circle","btn-color-muted","btn-active-color-primary","w-25px","h-25px","bg-body","position-absolute","top-0","end-0","m-2",3,"title"],[1,"ki-duotone","ki-pencil","fs-6"],[1,"path1"],[1,"path2"],["type","file","accept",".png, .jpg, .jpeg",3,"change"],["type","hidden","name","avatar_remove"],["class","fv-plugins-message-container invalid-feedback mt-2",4,"ngIf"],[1,"form-label","required","fw-bold","mb-4"],[1,"radio-options-container"],[1,"radio-option"],[1,"form-check","form-check-custom","form-check-solid"],["type","radio","formControlName","verificationMethod","name","verificationMethod","value","websiteEmail","id","verificationMethod1",1,"form-check-input"],["for","verificationMethod1",1,"form-check-label"],[1,"radio-icon"],[1,"ki-duotone","ki-icon","mx-2","fs-2"],[1,"path3"],[1,"radio-text"],["type","radio","formControlName","verificationMethod","name","verificationMethod","value","uploadDocument","id","verificationMethod2",1,"form-check-input"],["for","verificationMethod2",1,"form-check-label"],[1,"ki-duotone","ki-document","mx-2","fs-2"],["class","mb-8",4,"ngIf"],[1,"d-flex","align-items-start"],["formControlName","agreement","inputId","companyAgreement",3,"onChange","binary"],["for","companyAgreement",1,"ms-2","fs-6","text-gray-800","cursor-pointer",3,"click"],["href","javascript:void(0)",1,"ms-1","link-primary"],["class","fv-plugins-message-container invalid-feedback d-block mt-2",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-lg","btn-info","min-w-200px"],["appendTo","body","styleClass","terms-dialog",3,"visibleChange","visible","modal","closable","closeOnEscape","dismissableMask","draggable","resizable","focusOnShow","blockScroll"],["pTemplate","header"],["class","d-flex justify-content-center py-4",4,"ngIf"],[1,"terms-content-wrapper"],["class","agreement-content custom-scrollbar",3,"max-height","overflow-y",4,"ngIf"],["class","text-center text-danger py-4",4,"ngIf"],["pTemplate","footer"],[1,"alert","alert-danger","mb-10"],[1,"d-flex","align-items-center","mb-2"],[1,"ki-duotone","ki-information-5","fs-2x","me-4"],[1,"mb-0","ps-5"],[4,"ngFor","ngForOf"],["type","button","aria-label","Close",1,"btn-close","position-absolute","end-0","top-0","m-4",3,"click"],[1,"fv-plugins-message-container","invalid-feedback"],[1,"d-flex","justify-content-center","align-items-center","min-h-150px","my-3","w-100"],[1,"spinner-border","spinner-border-md","align-middle","mx-2","text-info"],[1,"text-muted","ms-2"],[1,"col-12","mb-8"],[3,"nodesSelected","title","placeholder","otherFieldPlaceholder","selectAllLabel","fetchedData","cancelLabel","okLabel","isRequired","currentLang"],[3,"nodesSelected","title","placeholder","otherFieldPlaceholder","selectAllLabel","fetchedData","cancelLabel","okLabel","isRequired"],[1,"d-flex","flex-stack","py-4","border","border-top-0","border-left-0","border-right-0","border-dashed",3,"formGroup"],[1,"d-flex","align-items-center","gap-3"],[1,"symbol","symbol-20px"],[1,"ki-duotone","ki-check-circle","fs-1","text-success"],[1,"symbol","symbol-35px"],["alt","icon",3,"src"],[1,"ms-6","w-200px"],["href","#",1,"fs-5","fw-bold","text-gray-900","text-hover-primary","mb-2"],[1,"fw-semibold","text-muted"],[1,"mt-2","w-200px"],[1,"form-label"],["formControlName","type",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"min-w-100px"],["type","button","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-danger","btn-sm","text-danger",3,"click","pTooltip"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path4"],[1,"path5"],[3,"value"],[1,"text-danger"],[1,"fv-plugins-message-container","invalid-feedback","mt-2"],["formControlName","website","type","text",1,"form-control",3,"placeholder"],[1,"row","g-4"],[1,"col-12","col-lg-9"],[1,"d-flex","flex-column","flex-sm-row","gap-2","gap-sm-3","mb-2"],[1,"flex-grow-1"],["formControlName","companyEmail","type","email",1,"form-control",3,"placeholder"],[1,"d-grid","d-sm-block"],["type","button",1,"btn","btn-info","w-100",3,"click","disabled"],["class","text-danger fs-7 mt-2",4,"ngIf"],[1,"col-12","col-sm-6","col-lg-3"],["formControlName","code","type","text",1,"form-control",3,"placeholder"],[1,"spinner-border","spinner-border-sm","ms-2"],[1,"text-danger","fs-7","mt-2"],[1,"fv-row"],["class","dropzone dz-clickable border-2 border-dashed border-info rounded p-8 text-center",3,"click","drop","dragover",4,"ngIf"],["class","border rounded p-4",4,"ngIf"],["type","file","accept",".png, .jpg, .jpeg, .pdf",2,"display","none",3,"change"],[1,"dropzone","dz-clickable","border-2","border-dashed","border-info","rounded","p-8","text-center",3,"click","drop","dragover"],[1,"ki-outline","ki-file-up","fs-3x","text-primary","mb-3"],[1,"fs-4","fw-bold","text-gray-900","mb-2"],[1,"fs-7","text-muted"],[1,"border","rounded","p-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-40px","me-4"],[1,"fs-6","fw-bold","text-gray-900","d-block"],["type","button","tooltipPosition","top",1,"btn","btn-icon","btn-light-danger","btn-sm",3,"click","pTooltip"],[1,"fv-plugins-message-container","invalid-feedback","d-block","mt-2"],[1,"d-flex","justify-content-between","align-items-center","w-100"],[1,"m-0"],[1,"d-flex"],[1,"btn","btn-sm","btn-icon","me-2",3,"click"],[1,"ki-outline","ki-printer","fs-3"],[1,"btn","btn-sm","btn-icon",3,"click"],[1,"ki-outline","ki-save-2","fs-3"],[1,"d-flex","justify-content-center","py-4"],[1,"spinner-border","spinner-border-lg","text-primary"],[1,"agreement-content","custom-scrollbar"],[3,"innerHTML"],[1,"text-center","text-danger","py-4"],[1,"d-flex","flex-column","justify-content-between","align-items-center","gap-3"],[1,"text-muted","fs-7"],[1,"d-flex","gap-2"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-info",3,"click"]],template:function(n,i){if(1&n){const a=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"form",5),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(i.onSubmit())}),e.DNE(3,Ce,12,4,"div",6),e.j41(4,"div",7)(5,"h2",8),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",9),e.EFF(9),e.nI1(10,"translate"),e.j41(11,"a",10),e.EFF(12),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"div",11)(15,"div",12)(16,"div",13)(17,"label",14),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.nrm(20,"input",15),e.nI1(21,"translate"),e.DNE(22,ye,3,3,"div",16),e.k0s(),e.j41(23,"div",13)(24,"label",14),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.nrm(27,"textarea",17),e.DNE(28,Te,3,3,"div",16),e.k0s(),e.j41(29,"div",13)(30,"label",14),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.nrm(33,"input",18),e.nI1(34,"translate"),e.DNE(35,Ie,3,3,"div",16),e.k0s(),e.j41(36,"div",13)(37,"label",14),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.nrm(40,"app-country-dropdown",19),e.nI1(41,"translate"),e.DNE(42,xe,3,3,"div",16),e.k0s(),e.j41(43,"div",13)(44,"label",14),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"div",20)(48,"div",21),e.nrm(49,"p-dropdown",22),e.nI1(50,"translate"),e.k0s(),e.j41(51,"input",23),e.nI1(52,"translate"),e.bIt("input",function(c){return e.eBV(a),e.Njj(i.onPhoneNumberInput(c))}),e.k0s()(),e.DNE(53,Ee,3,3,"div",16)(54,Re,3,3,"div",16),e.k0s(),e.j41(55,"div",24),e.DNE(56,Ae,5,3,"div",25)(57,ke,17,39,"ng-container",26),e.k0s(),e.j41(58,"div",7)(59,"label",27),e.EFF(60),e.nI1(61,"translate"),e.k0s(),e.j41(62,"div",28)(63,"div",29),e.DNE(64,Pe,34,21,"div",30),e.k0s()(),e.j41(65,"div",31)(66,"button",32),e.bIt("click",function(){return e.eBV(a),e.Njj(i.onCertDropzoneClick())}),e.nrm(67,"i",33),e.EFF(68),e.nI1(69,"translate"),e.k0s(),e.j41(70,"div",34),e.EFF(71),e.nI1(72,"translate"),e.k0s(),e.j41(73,"input",35,0),e.bIt("change",function(c){return e.eBV(a),e.Njj(i.onCertFileSelected(c))}),e.k0s()()(),e.j41(75,"div",13)(76,"label",14),e.EFF(77),e.nI1(78,"translate"),e.k0s(),e.j41(79,"div",36)(80,"div",37),e.nrm(81,"div",38),e.j41(82,"label",39),e.nI1(83,"translate"),e.j41(84,"i",40),e.nrm(85,"span",41)(86,"span",42),e.k0s(),e.j41(87,"input",43,1),e.bIt("change",function(c){return e.eBV(a),e.Njj(i.onLogoSelected(c))}),e.k0s(),e.nrm(89,"input",44),e.k0s()(),e.DNE(90,De,3,3,"div",45),e.k0s()()()(),e.j41(91,"div",11)(92,"div",12)(93,"div",13)(94,"label",46),e.EFF(95),e.nI1(96,"translate"),e.k0s(),e.j41(97,"div",47)(98,"div",48)(99,"div",49),e.nrm(100,"input",50),e.j41(101,"label",51)(102,"span",52)(103,"i",53),e.nrm(104,"span",41)(105,"span",42)(106,"span",54),e.k0s()(),e.j41(107,"span",55),e.EFF(108),e.nI1(109,"translate"),e.k0s()()()(),e.j41(110,"div",48)(111,"div",49),e.nrm(112,"input",56),e.j41(113,"label",57)(114,"span",52)(115,"i",58),e.nrm(116,"span",41)(117,"span",42),e.k0s()(),e.j41(118,"span",55),e.EFF(119),e.nI1(120,"translate"),e.k0s()()()()()(),e.DNE(121,Be,31,26,"div",59)(122,Ze,7,3,"div",59),e.j41(123,"div",28)(124,"div",60)(125,"p-checkbox",61),e.bIt("onChange",function(){return e.eBV(a),e.Njj(i.openAgreementDialog())}),e.k0s(),e.j41(126,"label",62),e.bIt("click",function(){return e.eBV(a),e.Njj(i.openAgreementDialog())}),e.EFF(127),e.nI1(128,"translate"),e.j41(129,"a",63),e.EFF(130),e.nI1(131,"translate"),e.k0s()()(),e.DNE(132,ze,3,3,"div",64),e.k0s()()(),e.j41(133,"div",65)(134,"button",66),e.EFF(135),e.nI1(136,"translate"),e.k0s()()()()(),e.j41(137,"p-dialog",67),e.mxI("visibleChange",function(c){return e.eBV(a),e.DH7(i.showAgreementDialog,c)||(i.showAgreementDialog=c),e.Njj(c)}),e.DNE(138,Je,8,1,"ng-template",68)(139,qe,2,0,"div",69),e.j41(140,"div",70),e.DNE(141,Ke,2,5,"div",71)(142,Qe,2,0,"div",72),e.k0s(),e.DNE(143,et,11,9,"ng-template",73),e.k0s()}if(2&n){let a,s,c,d,p,_,y,T,A,S,C,P;e.R7$(2),e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("ngIf",i.showApiErrors&&i.apiErrorMessages.length>0),e.R7$(3),e.SpI(" ",e.bMT(7,70,"INSIGHTER_WIZARD.UPGRADE_TO_CORPORATE_ACCOUNT")," "),e.R7$(3),e.SpI(" ",e.bMT(10,72,"INSIGHTER_WIZARD.IF_NEED_MORE_INFO_VERIFICATION")," "),e.R7$(3),e.SpI(" ",e.bMT(13,74,"INSIGHTER_WIZARD.HELP_PAGE")," "),e.R7$(6),e.SpI(" ",e.bMT(19,76,"ACCOUNT_SETTINGS.COMPANY_LEGAL_NAME")," "),e.R7$(2),e.FS9("placeholder",e.bMT(21,78,"ACCOUNT_SETTINGS.COMPANY_LEGAL_NAME")),e.R7$(2),e.Y8G("ngIf",(null==(a=i.form.get("legalName"))?null:a.invalid)&&(null==(a=i.form.get("legalName"))?null:a.touched)),e.R7$(3),e.SpI(" ",e.bMT(26,80,"INSIGHTER_WIZARD.ABOUT_COMPANY")," "),e.R7$(3),e.Y8G("ngIf",(null==(s=i.form.get("aboutCompany"))?null:s.invalid)&&(null==(s=i.form.get("aboutCompany"))?null:s.touched)),e.R7$(3),e.SpI(" ",e.bMT(32,82,"INSIGHTER_WIZARD.ADDRESS")," "),e.R7$(2),e.FS9("placeholder",e.bMT(34,84,"INSIGHTER_WIZARD.ADDRESS_PLACEHOLDER")),e.R7$(2),e.Y8G("ngIf",(null==(c=i.form.get("address"))?null:c.invalid)&&(null==(c=i.form.get("address"))?null:c.touched)),e.R7$(3),e.SpI(" ",e.bMT(39,86,"INSIGHTER_WIZARD.COUNTRY")," "),e.R7$(2),e.Y8G("countries",i.countries)("placeholder",e.bMT(41,88,"INSIGHTER_WIZARD.COUNTRY_PLACEHOLDER"))("searchPlaceholder","Search countries...")("enableSearch",!0)("showClear",!0)("lang",i.lang)("isInvalid",!(null==(d=i.form.get("country"))||!d.hasError("required")||null==(d=i.form.get("country"))||!d.touched)),e.R7$(2),e.Y8G("ngIf",(null==(p=i.form.get("country"))?null:p.invalid)&&(null==(p=i.form.get("country"))?null:p.touched)),e.R7$(3),e.SpI(" ",e.bMT(46,90,"INSIGHTER_WIZARD.COMPANY_PHONE")," "),e.R7$(4),e.FS9("placeholder",e.bMT(50,92,"INSIGHTER_WIZARD.COUNTRY_PLACEHOLDER")),e.Y8G("options",i.phoneNumbers)("filter",!0)("showClear",!0),e.R7$(2),e.AVh("is-invalid",(null==(_=i.form.get("company_phone"))?null:_.invalid)&&(null==(_=i.form.get("company_phone"))?null:_.touched)),e.FS9("placeholder",e.bMT(52,94,"INSIGHTER_WIZARD.COMPANY_PHONE_PLACEHOLDER")),e.Y8G("dir","ar"==i.lang?"rtl":"ltr"),e.R7$(2),e.Y8G("ngIf",(null==(y=i.form.get("company_phone"))?null:y.invalid)&&(null==(y=i.form.get("company_phone"))?null:y.touched)),e.R7$(),e.Y8G("ngIf",(null==(T=i.form.get("phoneCountryCode"))?null:T.invalid)&&(null==(T=i.form.get("phoneCountryCode"))?null:T.touched)),e.R7$(2),e.Y8G("ngIf",i.isLoadingFields),e.R7$(),e.Y8G("ngIf",!i.isLoadingFields),e.R7$(3),e.SpI(" ",e.bMT(61,96,"COMPANY_CERTIFICATIONS")," "),e.R7$(4),e.Y8G("ngForOf",i.certificationControls),e.R7$(4),e.SpI(" ",e.bMT(69,98,"INSIGHTER_WIZARD.DROP_FILES_HERE_OR_CLICK")," "),e.R7$(3),e.SpI(" ",e.bMT(72,100,"INSIGHTER_WIZARD.UPLOAD_UP_TO_FILES")," "),e.R7$(6),e.SpI(" ",e.bMT(78,102,"INSIGHTER_WIZARD.COMPANYLOGO")," "),e.R7$(3),e.xc7("background-image",i.getLogoBackgroundImage()),e.R7$(),e.xc7("background-image",i.getLogoBackgroundImage()),e.R7$(),e.FS9("title",e.bMT(83,104,"INSIGHTER_WIZARD.CHANGE_LOGO")),e.R7$(8),e.Y8G("ngIf",(null==(A=i.form.get("logo"))?null:A.invalid)&&(null==(A=i.form.get("logo"))?null:A.touched)),e.R7$(5),e.SpI(" ",e.bMT(96,106,"INSIGHTER_WIZARD.CHOOSE_VERIFICATION_METHOD")," "),e.R7$(13),e.JRh(e.bMT(109,108,"INSIGHTER_WIZARD.BY_WEBSITE_COMPANY_EMAIL")),e.R7$(11),e.JRh(e.bMT(120,110,"INSIGHTER_WIZARD.BY_UPLOADING_REGISTRY_DOCUMENT")),e.R7$(2),e.Y8G("ngIf","websiteEmail"===(null==(S=i.form.get("verificationMethod"))?null:S.value)),e.R7$(),e.Y8G("ngIf","uploadDocument"===(null==(C=i.form.get("verificationMethod"))?null:C.value)),e.R7$(3),e.Y8G("binary",!0),e.R7$(2),e.SpI(" ",e.bMT(128,112,"INSIGHTER_WIZARD.I_ACCEPT_THE")," "),e.R7$(3),e.SpI(" ",e.bMT(131,114,"INSIGHTER_WIZARD.COMPANY_TERMS")," "),e.R7$(2),e.Y8G("ngIf",(null==(P=i.form.get("agreement"))?null:P.invalid)&&((null==(P=i.form.get("agreement"))?null:P.touched)||i.attemptedSubmit)),e.R7$(3),e.SpI(" ",e.bMT(136,116,"INSIGHTER_WIZARD.UPGRADE_TO_CORPORATE_ACCOUNT")," "),e.R7$(2),e.Aen(e.lJ4(118,be)),e.R50("visible",i.showAgreementDialog),e.Y8G("modal",!0)("closable",!0)("closeOnEscape",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!0)("blockScroll",!0),e.R7$(2),e.Y8G("ngIf",i.isLoadingAgreement),e.R7$(2),e.Y8G("ngIf",!i.isLoadingAgreement&&i.agreementContent),e.R7$(),e.Y8G("ngIf",!i.isLoadingAgreement&&!i.agreementContent)}},dependencies:[g.Sq,g.bT,l.qT,l.xH,l.y7,l.me,l.wz,l.Fm,l.BC,l.cb,N.m,l.j4,l.JD,Y.l,B.Ei,X.Sc,H.o,W.ms,Z.R,g.Jj,g.QX,h.D9,me._],styles:[".max-width-200px[_ngcontent-%COMP%]{max-width:250px;width:250px}.logo-placeholder[_ngcontent-%COMP%]{background-size:contain;background-position:center}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.radio-options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.radio-option[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding-left:0;margin-bottom:0}.radio-option[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{float:none;margin-left:0;margin-right:.75rem}.radio-option[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1rem;border-radius:.475rem;transition:all .2s ease;cursor:pointer}.radio-option[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]:hover{background-color:#f5f8fa}.radio-option[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;margin-right:.75rem;color:#7e8299}.radio-option[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.radio-option[_ngcontent-%COMP%]   .radio-text[_ngcontent-%COMP%]{font-weight:500;color:#181c32}.form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]{background-color:#f1faff;border-color:#e1f0ff}.form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{color:#0978b9}.form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]   .radio-text[_ngcontent-%COMP%]{color:#0978b9;font-weight:600}.agreement-content[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;color:#5e6278;padding:.5rem}.agreement-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#181c32;margin-bottom:.75rem;font-weight:600}.agreement-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.agreement-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .agreement-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-bottom:1rem;padding-left:1.5rem}.agreement-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0275d8;text-decoration:none}.agreement-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}  .terms-dialog .p-dialog-header{padding:1rem 1.5rem;border-bottom:1px solid #eff2f5}  .terms-dialog .p-dialog-content{padding:0}  .terms-dialog .p-dialog-footer{padding:1rem 1.5rem;border-top:1px solid #eff2f5}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.form-check-label[_ngcontent-%COMP%]{cursor:pointer}.terms-content-wrapper[_ngcontent-%COMP%]{padding:1rem}@media (max-width: 767px){  .p-dialog{max-width:100vw!important;max-height:90vh!important}}"]})}return o})();var b=u(2100);let z=(()=>{class o{http;baseUrl="https://api.foresighta.co/api";isLoadingSubject=new w.t(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t){this.http=t}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){return(0,F.$)(()=>t)}deactivateCompanyWithDelete(t,n,i){const a=new m.Lr({Accept:"application/json","Accept-Language":i}),s=new FormData;return s.append("comments",t),s.append("parent_id",n),this.setLoading(!0),this.http.post(`${this.baseUrl}/company/request/deactivate-delete`,s,{headers:a}).pipe((0,v.T)(c=>c),(0,x.W)(c=>this.handleError(c)),(0,E.j)(()=>this.setLoading(!1)))}deactivateInsighterWithDelete(t,n,i){const a=new m.Lr({Accept:"application/json","Accept-Language":i}),s=new FormData;return s.append("comments",t),s.append("parent_id",n),this.setLoading(!0),this.http.post(`${this.baseUrl}/insighter/request/deactivate-delete`,s,{headers:a}).pipe((0,v.T)(c=>c),(0,x.W)(c=>this.handleError(c)),(0,E.j)(()=>this.setLoading(!1)))}deactivateCompanyWithoutDelete(t,n,i){const a=new m.Lr({Accept:"application/json","Accept-Language":i}),s=new FormData;return s.append("comments",t),s.append("parent_id",n),this.setLoading(!0),this.http.post(`${this.baseUrl}/company/deactivate`,s,{headers:a}).pipe((0,v.T)(c=>c),(0,x.W)(c=>this.handleError(c)),(0,E.j)(()=>this.setLoading(!1)))}deactivateInsighterWithoutDelete(t,n,i){const a=new m.Lr({Accept:"application/json","Accept-Language":i}),s=new FormData;return s.append("comments",t),s.append("parent_id",n),this.setLoading(!0),this.http.post(`${this.baseUrl}/insighter/deactivate`,s,{headers:a}).pipe((0,v.T)(c=>c),(0,x.W)(c=>this.handleError(c)),(0,E.j)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||o)(e.KVO(m.Qq))};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var J=u(1880);const nt=["input"],ot=(o,r,t,n)=>({"p-radiobutton p-component":!0,"p-radiobutton-checked":o,"p-radiobutton-disabled":r,"p-radiobutton-focused":t,"p-variant-filled":n}),it=(o,r,t)=>({"p-radiobutton-box":!0,"p-highlight":o,"p-disabled":r,"p-focus":t}),at=(o,r,t)=>({"p-radiobutton-label":!0,"p-radiobutton-label-active":o,"p-disabled":r,"p-radiobutton-label-focus":t});function rt(o,r){if(1&o){const t=e.RV6();e.j41(0,"label",7),e.bIt("click",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.select(i))}),e.EFF(1),e.k0s()}if(2&o){const t=e.XpG(),n=e.sdS(3);e.HbH(t.labelStyleClass),e.Y8G("ngClass",e.sMw(6,at,n.checked,t.disabled,t.focused)),e.BMQ("for",t.inputId)("data-pc-section","label"),e.R7$(),e.JRh(t.label)}}const st={provide:l.kq,useExisting:(0,e.Rfq)(()=>q),multi:!0};let ct=(()=>{class o{accessors=[];add(t,n){this.accessors.push([t,n])}remove(t){this.accessors=this.accessors.filter(n=>n[1]!==t)}select(t){this.accessors.forEach(n=>{this.isSameGroup(n,t)&&n[1]!==t&&n[1].writeValue(t.value)})}isSameGroup(t,n){return!!t[0].control&&t[0].control.root===n.control.control.root&&t[1].name===n.name}static \u0275fac=function(n){return new(n||o)};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),q=(()=>{class o{cd;injector;registry;config;value;formControlName;name;disabled;label;variant="outlined";tabindex;inputId;ariaLabelledBy;ariaLabel;style;styleClass;labelStyleClass;autofocus;onClick=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;inputViewChild;onModelChange=()=>{};onModelTouched=()=>{};checked;focused;control;constructor(t,n,i,a){this.cd=t,this.injector=n,this.registry=i,this.config=a}ngOnInit(){this.control=this.injector.get(l.vO),this.checkName(),this.registry.add(this.control,this)}handleClick(t,n,i){this.disabled||(this.select(t),i&&n.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:t,value:this.value}))}writeValue(t){this.checked=t==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}static \u0275fac=function(n){return new(n||o)(e.rXU(e.gRc),e.rXU(e.zZn),e.rXU(ct),e.rXU(B.r1))};static \u0275cmp=e.VBU({type:o,selectors:[["p-radioButton"]],viewQuery:function(n,i){if(1&n&&e.GBs(nt,5),2&n){let a;e.mGM(a=e.lsd())&&(i.inputViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39],label:"label",variant:"variant",tabindex:[e.Mj6.HasDecoratorInputTransform,"tabindex","tabindex",e.Udg],inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",autofocus:[e.Mj6.HasDecoratorInputTransform,"autofocus","autofocus",e.L39]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[e.Jv_([st]),e.GFd],decls:7,vars:30,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio","pAutoFocus","",3,"focus","blur","checked","disabled","value","autofocus"],[3,"ngClass"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"click","ngClass"]],template:function(n,i){if(1&n){const a=e.RV6();e.j41(0,"div",1),e.bIt("click",function(c){e.eBV(a);const d=e.sdS(3);return e.Njj(i.handleClick(c,d,!0))}),e.j41(1,"div",2)(2,"input",3,0),e.bIt("focus",function(c){return e.eBV(a),e.Njj(i.onInputFocus(c))})("blur",function(c){return e.eBV(a),e.Njj(i.onInputBlur(c))}),e.k0s()(),e.j41(4,"div",4),e.nrm(5,"span",5),e.k0s()(),e.DNE(6,rt,2,10,"label",6)}2&n&&(e.HbH(i.styleClass),e.Y8G("ngStyle",i.style)("ngClass",e.ziG(21,ot,i.checked,i.disabled,i.focused,"filled"===i.variant||"filled"===i.config.inputStyle())),e.BMQ("data-pc-name","radiobutton")("data-pc-section","root"),e.R7$(),e.BMQ("data-pc-section","hiddenInputWrapper"),e.R7$(),e.Y8G("checked",i.checked)("disabled",i.disabled)("value",i.value)("autofocus",i.autofocus),e.BMQ("id",i.inputId)("name",i.name)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("tabindex",i.tabindex)("data-pc-section","hiddenInput"),e.R7$(2),e.Y8G("ngClass",e.sMw(26,it,i.checked,i.disabled,i.focused)),e.BMQ("data-pc-section","input"),e.R7$(),e.BMQ("data-pc-section","icon"),e.R7$(),e.Y8G("ngIf",i.label))},dependencies:[g.YU,g.bT,g.B3,J.q],encapsulation:2,changeDetection:0})}return o})(),lt=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[g.MD,J.u]})}return o})();const O=()=>["company"],G=()=>["company-insighter"],j=()=>["insighter"];function dt(o,r){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.TITLE_COMPANY")," "))}function ut(o,r){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.TITLE_INSIGHTER")," "))}function pt(o,r){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.DESCRIPTION_COMPANY")," "))}function gt(o,r){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.DESCRIPTION_INSIGHTER")," "))}function mt(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",16)(1,"p-radioButton",17),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(3);return e.DH7(a.deactivationType,i)||(a.deactivationType=i),e.Njj(i)}),e.k0s(),e.j41(2,"label",18),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.R50("ngModel",t.deactivationType),e.Y8G("inputId","user"),e.R7$(),e.Y8G("for","user"),e.R7$(),e.JRh(e.bMT(4,4,"DEACTIVATE_ACCOUNT.MODAL.DEACTIVATE_USER_ONLY"))}}function _t(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",16)(1,"p-radioButton",19),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(3);return e.DH7(a.deactivationType,i)||(a.deactivationType=i),e.Njj(i)}),e.k0s(),e.j41(2,"label",18),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.R50("ngModel",t.deactivationType),e.Y8G("inputId","company"),e.R7$(),e.Y8G("for","company"),e.R7$(),e.JRh(e.bMT(4,4,"DEACTIVATE_ACCOUNT.MODAL.DEACTIVATE_COMPANY_ONLY"))}}function ft(o,r){if(1&o&&(e.j41(0,"div",12)(1,"label",13),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",14),e.DNE(5,mt,5,6,"div",15)(6,_t,5,6,"div",15),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,3,"DEACTIVATE_ACCOUNT.MODAL.DEACTIVATION_TYPE")),e.R7$(3),e.Y8G("ngIf","active"===t.config.data.insighter_status),e.R7$(),e.Y8G("ngIf","active"===t.config.data.company_status)}}function ht(o,r){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_USER")," "))}function bt(o,r){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_COMPANY")," "))}function vt(o,r){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_BOTH")," "))}function Ct(o,r){if(1&o&&(e.qex(0),e.DNE(1,ht,3,3,"ng-container",0)(2,bt,3,3,"ng-container",0)(3,vt,3,3,"ng-container",0),e.bVm()),2&o){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf","user"===t.deactivationType),e.R7$(),e.Y8G("ngIf","company"===t.deactivationType),e.R7$(),e.Y8G("ngIf","both"===t.deactivationType)}}function yt(o,r){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_COMPANY")," "))}function Tt(o,r){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON_INSIGHTER")," "))}function It(o,r){if(1&o&&(e.qex(0),e.DNE(1,Ct,4,3,"ng-container",0)(2,yt,3,3,"ng-container",0)(3,Tt,3,3,"ng-container",0),e.bVm()),2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.hasRole(e.lJ4(3,O))),e.R7$(),e.Y8G("ngIf",t.hasRole(e.lJ4(4,G))),e.R7$(),e.Y8G("ngIf",t.hasRole(e.lJ4(5,j)))}}function xt(o,r){1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.nrm(3,"span",20),e.bVm()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"COMMON.PLEASE_WAIT")," "))}function Et(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e.DNE(5,dt,3,3,"ng-container",0)(6,ut,3,3,"ng-container",0),e.k0s(),e.j41(7,"p",5),e.DNE(8,pt,3,3,"ng-container",0)(9,gt,3,3,"ng-container",0),e.k0s()(),e.DNE(10,ft,7,5,"div",6),e.j41(11,"div",7)(12,"label",8),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"textarea",9),e.nI1(16,"translate"),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.deactivationReason,i)||(a.deactivationReason=i),e.Njj(i)}),e.k0s()(),e.j41(17,"div",10)(18,"button",11),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.deactivateAccount())}),e.DNE(19,It,4,6,"ng-container",0)(20,xt,4,3,"ng-container",0),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(5),e.Y8G("ngIf",t.hasRole(e.lJ4(15,O))||t.hasRole(e.lJ4(16,G))),e.R7$(),e.Y8G("ngIf",t.hasRole(e.lJ4(17,j))),e.R7$(2),e.Y8G("ngIf",t.hasRole(e.lJ4(18,O))||t.hasRole(e.lJ4(19,G))),e.R7$(),e.Y8G("ngIf",t.hasRole(e.lJ4(20,j))),e.R7$(),e.Y8G("ngIf",t.hasRole(e.lJ4(21,O))),e.R7$(3),e.JRh(e.bMT(14,11,"DEACTIVATE_ACCOUNT.MODAL.REASON_LABEL")),e.R7$(2),e.R50("ngModel",t.deactivationReason),e.Y8G("placeholder",e.bMT(16,13,"DEACTIVATE_ACCOUNT.MODAL.REASON_PLACEHOLDER")),e.R7$(3),e.Y8G("disabled",!t.deactivationReason||t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading),e.R7$(),e.Y8G("ngIf",t.isLoading)}}function Rt(o,r){1&o&&(e.qex(0),e.j41(1,"div",21)(2,"div",2)(3,"div",22)(4,"div",23),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.nrm(7,"app-keenicon",24),e.k0s()()(),e.bVm()),2&o&&(e.R7$(5),e.SpI(" ",e.bMT(6,1,"DEACTIVATE_ACCOUNT_SUCCESS_MESSAGE")," "))}let At=(()=>{class o extends f.${deactivateService;getProfileService;ref;config;deactivationReason="";step=1;roles=[];isLoading=!1;deactivationType="both";constructor(t,n,i,a,s){super(t),this.deactivateService=n,this.getProfileService=i,this.ref=a,this.config=s}ngOnInit(){this.config.data&&this.config.data.deactivationType&&(this.deactivationType=this.config.data.deactivationType);const t=this.getProfileService.getProfile().subscribe({next:n=>{this.roles=n.roles,this.hasRole(["company"])&&!this.config.data?.deactivationType&&(this.deactivationType="both")}});this.unsubscribe.push(t)}deactivateInsighter(){this.isLoading=!0;const t=this.deactivateService.deactivateInsighterWithoutDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0646\u0634\u064a\u0637 \u0628\u0646\u062c\u0627\u062d":"Account deactivated successfully"),this.step=2,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0)},1500)},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(t)}deactivateCompany(){this.isLoading=!0;const t=this.deactivateService.deactivateCompanyWithoutDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0646\u0634\u064a\u0637 \u0628\u0646\u062c\u0627\u062d":"Account deactivated successfully"),this.step=2,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0)},1500)},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(t)}deactivateAccount(){if(this.hasRole(["insighter"]))this.deactivateInsighter();else if(this.hasRole(["company"]))if("user"===this.deactivationType)this.deactivateInsighter();else if("company"===this.deactivationType)this.deactivateCompany();else if("both"===this.deactivationType){const t=this.deactivateService.deactivateCompanyWithoutDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.deactivateInsighter()},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(t)}}hasRole(t){return this.roles.some(n=>t.includes(n))}handleServerErrors(t){if(t.error&&t.error.errors){const n=t.error.errors;for(const i in n)n.hasOwnProperty(i)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",n[i].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(z),e.rXU(R.p),e.rXU(b.Pw),e.rXU(b.sb))};static \u0275cmp=e.VBU({type:o,selectors:[["app-deactivate-dialog"]],features:[e.Vt3],decls:2,vars:2,consts:[[4,"ngIf"],[1,"card","border-0","shadow-none"],[1,"card-body"],[1,"mb-5"],[1,"text-xl","font-bold","mb-3"],[1,"text-gray-600"],["class","form-group mb-4",4,"ngIf"],[1,"form-group"],[1,"form-label","required"],["rows","4",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","justify-content-end","mt-5"],["type","button",1,"btn","btn-danger","w-100",3,"click","disabled"],[1,"form-group","mb-4"],[1,"form-label"],[1,"d-flex","flex-column","gap-2","mt-2"],["class","p-field-radiobutton",4,"ngIf"],[1,"p-field-radiobutton"],["name","deactivationType","value","user",3,"ngModelChange","ngModel","inputId"],[1,"ms-2",3,"for"],["name","deactivationType","value","company",3,"ngModelChange","ngModel","inputId"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"card"],[1,"text-center"],[1,"text-success","font-bold","text-xl","mb-3"],["name","check",1,"text-success","fs-3xl"]],template:function(n,i){1&n&&e.DNE(0,Et,21,22,"ng-container",0)(1,Rt,8,3,"ng-container",0),2&n&&(e.Y8G("ngIf",1===i.step),e.R7$(),e.Y8G("ngIf",2===i.step))},dependencies:[g.bT,l.me,l.BC,l.vS,q,h.D9],encapsulation:2})}return o})();function St(o,r){1&o&&(e.j41(0,"span",17),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.CONFIRM_BUTTON")," "))}function Mt(o,r){1&o&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"translate"),e.nrm(3,"span",19),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"COMMON.PLEASE_WAIT")," "))}function kt(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p",5),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",6)(11,"i",7),e.nrm(12,"span",8)(13,"span",9),e.k0s(),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"div",10)(17,"label",11),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"textarea",12),e.nI1(21,"translate"),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.deactivationReason,i)||(a.deactivationReason=i),e.Njj(i)}),e.k0s()(),e.j41(22,"div",13)(23,"button",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.deactivateAccount())}),e.DNE(24,St,3,3,"span",15)(25,Mt,4,3,"span",16),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(5),e.SpI(" ",e.bMT(6,9,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.TITLE")," "),e.R7$(3),e.SpI(" ",e.bMT(9,11,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.DESCRIPTION")," "),e.R7$(6),e.SpI(" ",e.bMT(15,13,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.WARNING")," "),e.R7$(4),e.JRh(e.bMT(19,15,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.REASON_LABEL")),e.R7$(2),e.R50("ngModel",t.deactivationReason),e.Y8G("placeholder",e.bMT(21,17,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.REASON_PLACEHOLDER")),e.R7$(3),e.Y8G("disabled",!t.deactivationReason||t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading),e.R7$(),e.Y8G("ngIf",t.isLoading)}}function wt(o,r){1&o&&(e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",20)(4,"div",21),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.nrm(7,"app-keenicon",22),e.k0s()()(),e.bVm()),2&o&&(e.R7$(5),e.SpI(" ",e.bMT(6,1,"DEACTIVATE_ACCOUNT_WITH_DELETE.MODAL.SUCCESS_MESSAGE")," "))}let Ot=(()=>{class o extends f.${deactivateService;getProfileService;ref;deactivationReason="";step=1;roles=[];isLoading=!1;constructor(t,n,i,a){super(t),this.deactivateService=n,this.getProfileService=i,this.ref=a}ngOnInit(){const t=this.getProfileService.getProfile().subscribe({next:n=>{this.roles=n.roles}});this.unsubscribe.push(t)}deactivateInsighter(){this.isLoading=!0;const t=this.deactivateService.deactivateInsighterWithDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0646\u0634\u064a\u0637 \u0648\u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0646\u062c\u0627\u062d":"Account deactivated and data deleted successfully"),this.step=2,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0)},1500)},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(t)}deactivateCompany(){this.isLoading=!0;const t=this.deactivateService.deactivateCompanyWithDelete(this.deactivationReason,"0",this.lang).subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0646\u0634\u064a\u0637 \u0648\u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0646\u062c\u0627\u062d":"Account deactivated and data deleted successfully"),this.step=2,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0)},1500)},error:n=>{this.handleServerErrors(n),this.isLoading=!1}});this.unsubscribe.push(t)}deactivateAccount(){this.hasRole(["insighter"])?this.deactivateInsighter():this.hasRole(["company"])&&this.deactivateCompany()}hasRole(t){return this.roles.some(n=>t.includes(n))}handleServerErrors(t){if(t.error&&t.error.errors){const n=t.error.errors;for(const i in n)n.hasOwnProperty(i)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",n[i].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(z),e.rXU(R.p),e.rXU(b.Pw))};static \u0275cmp=e.VBU({type:o,selectors:[["app-delete-dialog"]],features:[e.Vt3],decls:2,vars:2,consts:[[4,"ngIf"],[1,"card","shadow-none","border-0"],[1,"card-body"],[1,"mb-5"],[1,"text-xl","font-bold","mb-3"],[1,"text-gray-600"],[1,"alert","alert-danger","mt-4"],[1,"ki-duotone","ki-warning-2","fs-2","me-2"],[1,"path1"],[1,"path2"],[1,"form-group"],[1,"form-label","required"],["rows","4",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","justify-content-end","mt-5"],["type","button",1,"btn","btn-danger","w-100",3,"click","disabled"],["class","indicator-label",4,"ngIf"],["class","indicator-progress",4,"ngIf"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"text-center"],[1,"text-success","font-bold","text-xl","mb-3"],["name","check",1,"text-success","fs-3xl"]],template:function(n,i){1&n&&e.DNE(0,kt,26,19,"ng-container",0)(1,wt,8,3,"ng-container",0),2&n&&(e.Y8G("ngIf",1===i.step),e.R7$(),e.Y8G("ngIf",2===i.step))},dependencies:[g.bT,l.me,l.BC,l.vS,h.D9],encapsulation:2})}return o})();var Pt=u(152),Dt=u(3294),Ft=u(5558),K=u(6977);let Nt=(()=>{class o{http;translationService;apiUrl="https://api.foresighta.co/api/company/transfer/account/invitation";isLoadingSubject=new w.t(!1);searchInsighterUrl="https://api.foresighta.co/api/insighter/search/insighter";isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t,n){this.http=t,this.translationService=n,this.translationService.onLanguageChange().subscribe(i=>{this.currentLang=i||"en"})}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){return(0,F.$)(t)}sendTransferInvitation(t,n){const i=new m.Lr({Accept:"application/json","Accept-Language":n}),a=new FormData;return a.append("email",t),this.setLoading(!0),this.http.post(this.apiUrl,a,{headers:i}).pipe((0,v.T)(s=>s),(0,x.W)(s=>this.handleError(s)),(0,E.j)(()=>this.setLoading(!1)))}verifyTransferInvitation(t,n,i){const a=new m.Lr({Accept:"application/json","Accept-Language":i}),s=new FormData;return s.append("email",t),s.append("code",n),this.setLoading(!0),this.http.post("https://api.foresighta.co/api/company/transfer/account/verification",s,{headers:a}).pipe((0,v.T)(c=>c),(0,x.W)(c=>this.handleError(c)),(0,E.j)(()=>this.setLoading(!1)))}searchInsighters(t,n="en"){const i=new m.Lr({"Accept-Language":n});return this.http.get(this.searchInsighterUrl,{headers:i,params:{keyword:t}})}static \u0275fac=function(n){return new(n||o)(e.KVO(m.Qq),e.KVO(V.L))};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Gt(o,r){if(1&o&&e.nrm(0,"img",25),2&o){const t=e.XpG().$implicit;e.Y8G("src",t.profile_image,e.B4B)("alt",t.name)}}function jt(o,r){if(1&o&&(e.j41(0,"span",26),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit,n=e.XpG(3);e.Y8G("ngClass",t.bgClass),e.R7$(),e.SpI(" ",n.getInitials(t.name)," ")}}function $t(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",16)(1,"div",17)(2,"div",18),e.DNE(3,Gt,1,2,"img",19)(4,jt,2,2,"span",20),e.k0s(),e.j41(5,"div",21)(6,"div",22),e.EFF(7),e.k0s(),e.j41(8,"div",23),e.EFF(9),e.k0s()()(),e.j41(10,"button",24),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG(3);return e.Njj(a.inviteUser(i))}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()}if(2&o){const t=r.$implicit;e.R7$(3),e.Y8G("ngIf",t.profile_image),e.R7$(),e.Y8G("ngIf",!t.profile_image),e.R7$(3),e.JRh(t.name),e.R7$(2),e.JRh(t.email),e.R7$(2),e.SpI(" ",e.bMT(12,5,"TRANSFER_COMPANY_ACCOUNT.INVITE")," ")}}function Lt(o,r){1&o&&(e.j41(0,"div",27),e.nrm(1,"span",28),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&o&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"COMMON.LOADING")," "))}function Ut(o,r){1&o&&(e.j41(0,"div",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TRANSFER_COMPANY_ACCOUNT.NO_USERS_FOUND")," "))}function Vt(o,r){if(1&o&&(e.qex(0),e.j41(1,"div",13),e.DNE(2,$t,13,7,"div",14)(3,Lt,4,3,"div",15)(4,Ut,3,3,"div",15),e.k0s(),e.bVm()),2&o){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.fetchedUsers),e.R7$(),e.Y8G("ngIf",t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading&&0===t.fetchedUsers.length)}}function Yt(o,r){if(1&o&&(e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",5),e.EFF(8),e.nI1(9,"translate"),e.j41(10,"a",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.EFF(13,". "),e.k0s()(),e.j41(14,"div",7)(15,"span",8)(16,"i",9),e.nrm(17,"span",10)(18,"span",11),e.k0s()(),e.nrm(19,"input",12),e.nI1(20,"translate"),e.k0s(),e.DNE(21,Vt,5,3,"ng-container",0),e.k0s()(),e.bVm()),2&o){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,6,"TRANSFER_COMPANY_ACCOUNT.TRANSFER_TO")),e.R7$(3),e.SpI(" ",e.bMT(9,8,"TRANSFER_COMPANY_ACCOUNT.MORE_INFO_TEXT")," "),e.R7$(3),e.JRh(e.bMT(12,10,"TRANSFER_COMPANY_ACCOUNT.THIS_PAGE")),e.R7$(8),e.Y8G("placeholder",e.bMT(20,12,"COMMON.SEARCH"))("formControl",t.searchControl),e.R7$(2),e.Y8G("ngIf",t.searchControl.value.length>0)}}function Bt(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",23),e.EFF(8),e.nI1(9,"translate"),e.j41(10,"div",29),e.EFF(11),e.k0s()()(),e.j41(12,"div",30)(13,"input",31),e.nI1(14,"translate"),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.code,i)||(a.code=i),e.Njj(i)}),e.k0s(),e.j41(15,"button",32),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.transfer())}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,7,"AUTH.TWO_FA.VERIFY_PHONE")),e.R7$(3),e.SpI(" ",e.bMT(9,9,"AUTH.TWO_FA.ENTER_VERIFICATION_CODE")," "),e.R7$(3),e.JRh(null==t.selectedUser?null:t.selectedUser.email),e.R7$(2),e.R50("ngModel",t.code),e.Y8G("placeholder",e.bMT(14,11,"AUTH.TWO_FA.ENTER_CODE")),e.R7$(2),e.Y8G("disabled",6!==t.code.length),e.R7$(),e.SpI(" ",e.bMT(17,13,"TRANSFER_COMPANY_ACCOUNT.BUTTON_TEXT")," ")}}let Xt=(()=>{class o extends f.${transferCoporateAccountService;ref;step=1;isLoading=!1;fetchedUsers=[];selectedUser=null;searchControl=new l.MJ("");code="";constructor(t,n,i){super(t),this.transferCoporateAccountService=n,this.ref=i}ngOnInit(){this.searchControl.valueChanges.pipe((0,Pt.B)(300),(0,Dt.F)(),(0,Ft.n)(t=>""===t.trim()?(0,M.of)([]):(this.isLoading=!0,this.transferCoporateAccountService.searchInsighters(t,this.lang??"en"))),(0,K.Q)(this.unsubscribe$)).subscribe({next:t=>{const n=Array.isArray(t)?t:t.data||[];this.fetchedUsers=n.map(i=>({...i,bgClass:this.getRandomClass()})),this.isLoading=!1},error:t=>{this.handleServerErrors(t),this.isLoading=!1}})}inviteUser(t){const n=t.email;this.selectedUser=t;const i=this.transferCoporateAccountService.sendTransferInvitation(n,this.lang??"en").subscribe({next:()=>{this.showSuccess("ar"===this.lang?"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062f\u0639\u0648\u0629 \u0628\u0646\u062c\u0627\u062d":"Invitation sent successfully","ar"===this.lang?`\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062f\u0639\u0648\u0629 \u0625\u0644\u0649 ${n} \u0628\u0646\u062c\u0627\u062d`:`Invitation sent to ${n} successfully`),this.step=2},error:a=>this.handleServerErrors(a)});this.unsubscribe.push(i)}transfer(){if(!this.selectedUser)return;const t=this.transferCoporateAccountService.verifyTransferInvitation(this.selectedUser.email,this.code,this.lang??"en").subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0627\u0644\u062a\u062d\u0642\u0642 \u0628\u0646\u062c\u0627\u062d":"Verification successful"),this.ref.close(!0),window.location.reload()},error:n=>this.handleServerErrors(n)});this.unsubscribe.push(t)}getInitials(t){return t.split(" ").map(n=>n[0]).join("")}getRandomClass(){const t=["bg-light-success","bg-light-info","bg-light-primary","bg-light-warning","bg-light-danger","bg-light-secondary","bg-light-dark"];return t[Math.floor(Math.random()*t.length)]}handleServerErrors(t){if(t.error&&t.error.errors){const n=t.error.errors;for(const i in n)n.hasOwnProperty(i)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",n[i].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(Nt),e.rXU(b.Pw))};static \u0275cmp=e.VBU({type:o,selectors:[["app-transfer-dialog"]],features:[e.Vt3],decls:2,vars:2,consts:[[4,"ngIf"],[1,"card"],[1,"card-body"],[1,"text-center","mb-8"],[1,"mb-3"],[1,"text-muted","fw-semibold"],[1,"link-primary","fw-bold"],[1,"input-group","mb-5"],[1,"input-group-text","border-0"],[1,"ki-duotone","ki-magnifier","fs-3"],[1,"path1"],[1,"path2"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"mh-300px","overflow-auto"],["class","d-flex align-items-center justify-content-between p-4 border-bottom",4,"ngFor","ngForOf"],["class","text-center py-4",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-between","p-4","border-bottom"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-35px","symbol-circle"],[3,"src","alt",4,"ngIf"],["class","symbol-label fw-semibold",3,"ngClass",4,"ngIf"],[1,"ms-4"],[1,"fs-5","fw-bold","text-gray-900"],[1,"text-muted"],[1,"btn","btn-sm","btn-light",3,"click"],[3,"src","alt"],[1,"symbol-label","fw-semibold",3,"ngClass"],[1,"text-center","py-4"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fw-bold","mt-2"],[1,"d-flex","flex-column","align-items-center","gap-4"],["type","text","maxlength","6",1,"form-control","form-control-lg","text-center","w-200px",3,"ngModelChange","ngModel","placeholder"],[1,"btn","btn-primary","w-200px",3,"click","disabled"]],template:function(n,i){1&n&&e.DNE(0,Yt,22,14,"ng-container",0)(1,Bt,18,15,"ng-container",0),2&n&&(e.Y8G("ngIf",1===i.step),e.R7$(),e.Y8G("ngIf",2===i.step))},dependencies:[g.YU,g.Sq,g.bT,l.me,l.BC,l.tU,l.vS,l.l_,h.D9],styles:[".card[_ngcontent-%COMP%]{border:none;box-shadow:none}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.symbol[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;position:relative;border-radius:50%;background-color:var(--bs-gray-100)}.symbol-35px[_ngcontent-%COMP%]{width:35px;height:35px}.symbol-label[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:500;color:var(--bs-gray-800);border-radius:50%}.bg-light-success[_ngcontent-%COMP%]{background-color:var(--bs-light-success)}.bg-light-info[_ngcontent-%COMP%]{background-color:var(--bs-light-info)}.bg-light-primary[_ngcontent-%COMP%]{background-color:var(--bs-light-primary)}.bg-light-warning[_ngcontent-%COMP%]{background-color:var(--bs-light-warning)}.bg-light-danger[_ngcontent-%COMP%]{background-color:var(--bs-light-danger)}.bg-light-secondary[_ngcontent-%COMP%]{background-color:var(--bs-light-secondary)}.bg-light-dark[_ngcontent-%COMP%]{background-color:var(--bs-light-dark)}.mh-300px[_ngcontent-%COMP%]{max-height:300px}.w-200px[_ngcontent-%COMP%]{width:200px}.gap-4[_ngcontent-%COMP%]{gap:1rem}"]})}return o})();var Q=u(8600);function Ht(o,r){1&o&&(e.j41(0,"span",8),e.EFF(1," Please wait... "),e.nrm(2,"span",9),e.k0s())}function Wt(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"h2",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",3),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",4)(9,"button",5),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.reactivateAccount())}),e.j41(10,"span",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,Ht,3,0,"span",7),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,5,"REACTIVATE_ACCOUNT.MODAL.TITLE")),e.R7$(3),e.JRh(e.bMT(7,7,"REACTIVATE_ACCOUNT.MODAL.DESCRIPTION")),e.R7$(3),e.Y8G("disabled",t.isLoading),e.R7$(2),e.SpI(" ",e.bMT(12,9,"REACTIVATE_ACCOUNT.MODAL.CONFIRM_BUTTON")," "),e.R7$(2),e.Y8G("ngIf",t.isLoading)}}function Zt(o,r){1&o&&(e.qex(0),e.j41(1,"div",10)(2,"div",11),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"app-keenicon",12),e.k0s(),e.bVm()),2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"REACTIVATE_ACCOUNT.MODAL.SUCCESS_MESSAGE")," "))}function zt(o,r){1&o&&(e.qex(0),e.j41(1,"div",10)(2,"div",13),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"i",14),e.k0s(),e.bVm()),2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"REACTIVATE_ACCOUNT.MODAL.ERROR_MESSAGE")," "))}let Jt=(()=>{class o extends f.${userRequestsService;ref;profileService;step=1;successStep=!1;errorStep=!1;isLoading=!1;roles=[];constructor(t,n,i,a){super(t),this.userRequestsService=n,this.ref=i,this.profileService=a}ngOnInit(){this.profileService.getProfile().subscribe(n=>{this.roles=n.roles})}reactivateAccount(){this.isLoading=!0,this.userRequestsService.sendReactivateRequest(this.roles.includes("company")?"company":"insighter").subscribe({next:()=>{this.showSuccess("","ar"===this.lang?"\u062a\u0645 \u0625\u0639\u0627\u062f\u0629 \u062a\u0641\u0639\u064a\u0644 \u062d\u0633\u0627\u0628\u0643 \u0628\u0646\u062c\u0627\u062d":"Your account has been successfully reactivated"),this.successStep=!0,this.isLoading=!1,setTimeout(()=>{this.ref.close(!0),window.location.reload()},1500)},error:()=>{this.errorStep=!0,this.isLoading=!1,this.showError("","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0639\u0627\u062f\u0629 \u062a\u0641\u0639\u064a\u0644 \u062d\u0633\u0627\u0628\u0643":"An error occurred while reactivating your account"),setTimeout(()=>{this.ref.close(!1)},1500)}})}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(Q.J),e.rXU(b.Pw),e.rXU(R.p))};static \u0275cmp=e.VBU({type:o,selectors:[["app-reactivate-dialog"]],features:[e.Vt3],decls:3,vars:3,consts:[[4,"ngIf"],[1,"text-center","mb-5"],[1,"text-xl","font-bold","mb-2"],[1,"text-gray-600"],[1,"flex","justify-content-center"],["type","button",1,"btn","btn-success","w-100",3,"click","disabled"],[1,"indicator-label"],["class","indicator-progress",4,"ngIf"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"text-center"],[1,"text-success","font-bold","text-xl","mb-3"],["name","check",1,"text-success","fs-3xl"],[1,"text-danger","font-bold","text-xl","mb-3"],[1,"pi","pi-times-circle","text-danger",2,"font-size","3rem"]],template:function(n,i){1&n&&e.DNE(0,Wt,14,11,"ng-container",0)(1,Zt,6,3,"ng-container",0)(2,zt,6,3,"ng-container",0),2&n&&(e.Y8G("ngIf",1===i.step&&!i.successStep&&!i.errorStep),e.R7$(),e.Y8G("ngIf",i.successStep),e.R7$(),e.Y8G("ngIf",i.errorStep))},dependencies:[g.bT,h.D9]})}return o})();function qt(o,r){if(1&o&&(e.j41(0,"div",6),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ","ar"===t.lang?"\u0627\u0639\u0627\u062f\u0629 \u062a\u0646\u0634\u064a\u0637 \u062d\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629":"Reactivate Company Account"," ")}}function Kt(o,r){if(1&o&&(e.j41(0,"div",6),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ","ar"===t.lang?"\u0627\u0639\u0627\u062f\u0629 \u062a\u0646\u0634\u064a\u0637 \u062d\u0633\u0627\u0628 \u0627\u0644\u0627\u0646\u0633\u0627\u064a\u062a\u0631":"Reactivate Insighter Account"," ")}}let Qt=(()=>{class o extends f.${dialogService;ref;role="company";constructor(t,n){super(n),this.dialogService=t}showReactivateDialog(){this.ref=this.dialogService.open(Jt,{header:"Reactivate Account",width:"450px",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,closable:!0}),this.ref.onClose.subscribe(t=>{t&&window.location.reload()})}ngOnDestroy(){this.ref&&this.ref.close()}static \u0275fac=function(n){return new(n||o)(e.rXU(b.o3),e.rXU(e.zZn))};static \u0275cmp=e.VBU({type:o,selectors:[["app-activate-account"]],inputs:{role:"role"},features:[e.Jv_([b.o3]),e.Vt3],decls:11,vars:8,consts:[[1,"delete-section","border-1","border-light-danger","w-100","mb-10"],[1,"p-24px"],["class","fs-2 fw-bolder",4,"ngIf"],[1,"warning-text"],[1,"action-footer","bg-light-success"],[1,"delete-button",3,"click"],[1,"fs-2","fw-bolder"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,qt,2,1,"div",2)(3,Kt,2,1,"div",2),e.j41(4,"p",3),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"div",4)(8,"button",5),e.bIt("click",function(){return i.showReactivateDialog()}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()),2&n&&(e.R7$(2),e.Y8G("ngIf","company"===i.role),e.R7$(),e.Y8G("ngIf","insighter"===i.role),e.R7$(2),e.SpI(" ",e.bMT(6,4,"REACTIVATE_ACCOUNT.DESCRIPTION")," "),e.R7$(4),e.SpI(" ",e.bMT(10,6,"REACTIVATE_ACCOUNT.BUTTON_TEXT")," "))},dependencies:[g.bT,h.D9],styles:[".delete-section[_ngcontent-%COMP%]{border-radius:6px}.p-24px[_ngcontent-%COMP%]{padding:24px}.border-light-danger[_ngcontent-%COMP%]{border:1px solid #bdfdc5}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 16px}.warning-text[_ngcontent-%COMP%]{color:#4b5563;margin-bottom:24px;line-height:1.5}.project-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background:#fafafa;border:1px solid #eaeaea;border-radius:6px}.project-icon[_ngcontent-%COMP%]{margin-right:16px}.placeholder-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#eaeaea;border-radius:4px}.project-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:0}.last-updated[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:4px 0 0}.action-footer[_ngcontent-%COMP%]{padding:12px 24px;display:flex;justify-content:flex-end}.delete-button[_ngcontent-%COMP%]{background:#26dc60;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.delete-button[_ngcontent-%COMP%]:hover{background:#1cb91f}"]})}return o})();var en=u(1413),tn=u(3804);const $=(o,r,t,n)=>({"bi bi-eye-slash":o,"bi bi-eye":r,"end-0 pe-3":t,"start-0 ps-3":n});function nn(o,r){1&o&&(e.j41(0,"div",11)(1,"div",12),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",13),e.EFF(5,"************"),e.k0s()()),2&o&&(e.R7$(2),e.JRh(e.bMT(3,1,"ACCOUNT_SETTINGS.PASSWORD")))}function on(o,r){1&o&&(e.j41(0,"div",32),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ACCOUNT_SETTINGS.PASSWORDS_DO_NOT_MATCH")," "))}function an(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",14)(1,"form",15,0),e.bIt("ngSubmit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.changePassword())}),e.j41(3,"div",16)(4,"div",17)(5,"div",18)(6,"label",19),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",20)(10,"input",21),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.oldPassword,i)||(a.oldPassword=i),e.Njj(i)}),e.k0s(),e.j41(11,"i",22),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleOldPasswordVisibility())}),e.k0s()()()(),e.j41(12,"div",17)(13,"div",18)(14,"label",23),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"div",20)(18,"input",24),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.newPassword,i)||(a.newPassword=i),e.Njj(i)}),e.k0s(),e.j41(19,"i",22),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleNewPasswordVisibility())}),e.k0s()()()(),e.j41(20,"div",17)(21,"div",18)(22,"label",25),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",20)(26,"input",26),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.confirmPassword,i)||(a.confirmPassword=i),e.Njj(i)}),e.k0s(),e.j41(27,"i",22),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleConfirmPasswordVisibility())}),e.k0s()()(),e.DNE(28,on,3,3,"div",27),e.k0s()(),e.j41(29,"div",28),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"div",29)(33,"button",30),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"button",31),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cancelEdit())}),e.EFF(37),e.nI1(38,"translate"),e.k0s()()()()}if(2&o){const t=e.sdS(2),n=e.XpG();e.R7$(7),e.SpI(" ",e.bMT(8,17,"ACCOUNT_SETTINGS.CURRENT_PASSWORD")," "),e.R7$(3),e.Y8G("type",n.showOldPassword()?"text":"password"),e.R50("ngModel",n.oldPassword),e.R7$(),e.Y8G("ngClass",e.ziG(29,$,n.showOldPassword(),!n.showOldPassword(),!n.isRtl(),n.isRtl())),e.R7$(4),e.SpI(" ",e.bMT(16,19,"ACCOUNT_SETTINGS.NEW_PASSWORD")," "),e.R7$(3),e.Y8G("type",n.showNewPassword()?"text":"password"),e.R50("ngModel",n.newPassword),e.R7$(),e.Y8G("ngClass",e.ziG(34,$,n.showNewPassword(),!n.showNewPassword(),!n.isRtl(),n.isRtl())),e.R7$(4),e.SpI(" ",e.bMT(24,21,"ACCOUNT_SETTINGS.CONFIRM_NEW_PASSWORD")," "),e.R7$(3),e.Y8G("type",n.showConfirmPassword()?"text":"password"),e.R50("ngModel",n.confirmPassword),e.R7$(),e.Y8G("ngClass",e.ziG(39,$,n.showConfirmPassword(),!n.showConfirmPassword(),!n.isRtl(),n.isRtl())),e.R7$(),e.Y8G("ngIf",!n.passwordsMatch()&&n.isEditing()),e.R7$(2),e.SpI(" ",e.bMT(31,23,"ACCOUNT_SETTINGS.PASSWORD_RULES")," "),e.R7$(3),e.Y8G("disabled",!n.passwordsMatch()||t.invalid),e.R7$(),e.SpI(" ",e.bMT(35,25,"ACCOUNT_SETTINGS.UPDATE_PASSWORD")," "),e.R7$(3),e.SpI(" ",e.bMT(38,27,"ACCOUNT_SETTINGS.CANCEL")," ")}}function rn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",33)(1,"button",34),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.editPassword())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&o&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"ACCOUNT_SETTINGS.CHANGE_PASSWORD")," "))}let sn=(()=>{class o extends f.${_changepassword;constructor(t,n){super(n),this._changepassword=t}unsub$=new en.B;_oldPassword=(0,e.vPA)("");_newPassword=(0,e.vPA)("");_confirmPassword=(0,e.vPA)("");showOldPassword=(0,e.vPA)(!1);showNewPassword=(0,e.vPA)(!1);showConfirmPassword=(0,e.vPA)(!1);isRtl(){return"ar"===this.lang}toggleOldPasswordVisibility(){this.showOldPassword.update(t=>!t)}toggleNewPasswordVisibility(){this.showNewPassword.update(t=>!t)}toggleConfirmPasswordVisibility(){this.showConfirmPassword.update(t=>!t)}get oldPassword(){return this._oldPassword()}set oldPassword(t){this._oldPassword.set(t)}get newPassword(){return this._newPassword()}set newPassword(t){this._newPassword.set(t)}get confirmPassword(){return this._confirmPassword()}set confirmPassword(t){this._confirmPassword.set(t)}passwordsMatch=(0,e.EWP)(()=>this._newPassword()===this._confirmPassword());_messages=(0,e.vPA)([]);get messages(){return this._messages()}set messages(t){this._messages.set(t)}isEditing=(0,e.vPA)(!1);handleServerErrors(t){if(t.error&&t.error.errors){const n=t.error.errors;for(const i in n)n.hasOwnProperty(i)&&this.showError("",n[i].join(", "))}else this.showError("","An unexpected error occurred.")}changePassword(){if(!this.passwordsMatch())return void this._messages.set([{severity:"error",summary:"Validation Error",detail:"New Password and Confirm Password do not match."}]);const t={old_password:this._oldPassword(),new_password:this._newPassword(),password_confirmation:this._confirmPassword()};this.isEditing.set(!0),this._changepassword.changePassword(t).pipe((0,K.Q)(this.unsub$)).subscribe({next:()=>{this.showSuccess("","Changes Successfully"),this.isEditing.set(!1),this.clearForm()},error:n=>{this.handleServerErrors(n),this.isEditing.set(!0)}})}clearForm(){this._oldPassword.set(""),this._newPassword.set(""),this._confirmPassword.set(""),this.showOldPassword.set(!1),this.showNewPassword.set(!1),this.showConfirmPassword.set(!1)}editPassword(){this.isEditing.set(!0)}cancelEdit(){this.isEditing.set(!1),this.clearForm()}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}static \u0275fac=function(n){return new(n||o)(e.rXU(tn.F),e.rXU(e.zZn))};static \u0275cmp=e.VBU({type:o,selectors:[["app-reset-password"]],features:[e.Vt3],decls:12,vars:6,consts:[["passwordForm","ngForm"],[1,"card","mb-5","mb-xl-10","shadow-none","border-1","border","border-gray-300","rounded-2"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_signin_method",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bold","m-0"],["id","kt_account_settings_signin_method",1,"collapse","show"],[1,"card-body","border-top","p-9"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","mb-10"],["id","kt_signin_password",4,"ngIf"],["id","kt_signin_password_edit","class","flex-row-fluid",4,"ngIf"],["id","kt_signin_password_button",4,"ngIf"],["id","kt_signin_password"],[1,"fs-6","fw-bold","mb-1"],[1,"fw-semibold","text-gray-600"],["id","kt_signin_password_edit",1,"flex-row-fluid"],[3,"ngSubmit"],[1,"row","mb-1"],[1,"col-lg-4"],[1,"fv-row","mb-0"],["for","currentpassword",1,"form-label","fs-6","fw-bold","mb-3"],[1,"position-relative"],["pInputText","","id","currentpassword","name","currentpassword","required","",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","type","ngModel"],[1,"position-absolute","top-50","translate-middle-y","cursor-pointer",3,"click","ngClass"],["for","newpassword",1,"form-label","fs-6","fw-bold","mb-3"],["pInputText","","id","newpassword","name","newpassword","required","",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","type","ngModel"],["for","confirmpassword",1,"form-label","fs-6","fw-bold","mb-3"],["pInputText","","id","confirmpassword","name","confirmpassword","required","",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","type","ngModel"],["class","text-danger mb-3",4,"ngIf"],[1,"form-text","mb-5"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","me-2","px-6",3,"disabled"],["type","button",1,"btn","btn-color-gray-500","btn-active-light-primary","px-6",3,"click"],[1,"text-danger","mb-3"],["id","kt_signin_password_button"],[1,"btn","btn-light","btn-sm","btn-active-light-primary",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),e.EFF(4),e.nI1(5,"translate"),e.k0s()()(),e.j41(6,"div",5)(7,"div",6)(8,"div",7),e.DNE(9,nn,6,3,"div",8)(10,an,39,44,"div",9)(11,rn,4,3,"div",10),e.k0s()()()()),2&n&&(e.R7$(4),e.JRh(e.bMT(5,4,"ACCOUNT_SETTINGS.CHANGE_PASSWORD")),e.R7$(5),e.Y8G("ngIf",!i.isEditing()),e.R7$(),e.Y8G("ngIf",i.isEditing()),e.R7$(),e.Y8G("ngIf",!i.isEditing()))},dependencies:[g.YU,g.bT,l.qT,l.me,l.BC,l.cb,l.YS,l.vS,l.cV,h.D9]})}return o})();const k=()=>["company"],cn=()=>["insighter"],ee=()=>["company-insighter"];function ln(o,r){1&o&&e.nrm(0,"app-reset-password")}function dn(o,r){1&o&&e.nrm(0,"app-activate-account",6),2&o&&e.Y8G("role","insighter")}function un(o,r){if(1&o&&(e.qex(0),e.DNE(1,dn,1,1,"app-activate-account",2),e.bVm()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.isPrimaryKey)}}function pn(o,r){if(1&o&&e.nrm(0,"app-activate-account",6),2&o){const t=e.XpG();e.Y8G("role",t.hasRole(e.lJ4(1,k))||t.hasRole(e.lJ4(2,ee))?"company":"insighter")}}function gn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",0)(4,"div",10),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"span",11),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()(),e.j41(10,"div",12)(11,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showTransferDialog())}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}2&o&&(e.R7$(5),e.SpI(" ",e.bMT(6,3,"TRANSFER_COMPANY_ACCOUNT.TITLE")," "),e.R7$(3),e.SpI(" ",e.bMT(9,5,"TRANSFER_COMPANY_ACCOUNT.DESCRIPTION")," "),e.R7$(4),e.SpI(" ",e.bMT(13,7,"TRANSFER_COMPANY_ACCOUNT.BUTTON_TEXT")," "))}function mn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",14)(1,"div",0)(2,"div",10),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"p",15),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",16)(8,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showDeactivateDialog())}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()}2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,3,"DEACTIVATE_ACCOUNT.TITLE_INSIGHTER")," "),e.R7$(2),e.Y8G("innerHTML",e.bMT(6,5,"DEACTIVATE_ACCOUNT.DESCRIPTION"),e.npT),e.R7$(4),e.SpI(" ",e.bMT(10,7,"DEACTIVATE_ACCOUNT.BUTTON_TEXT_INSIGHTER")," "))}function _n(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",14)(1,"div",0)(2,"div",10),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"p",15),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",16)(8,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showDeactivateDialog("user"))}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()}2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,3,"DEACTIVATE_ACCOUNT.TITLE_ACCOUNT")," "),e.R7$(2),e.Y8G("innerHTML",e.bMT(6,5,"DEACTIVATE_ACCOUNT.DESCRIPTION_USER_ONLY"),e.npT),e.R7$(4),e.SpI(" ",e.bMT(10,7,"DEACTIVATE_ACCOUNT.TITLE_ACCOUNT")," "))}function fn(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.showDeleteDialog())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DEACTIVATE_ACCOUNT_WITH_DELETE.BUTTON_TEXT")," "))}function hn(o,r){1&o&&(e.j41(0,"div",21),e.nrm(1,"i",22),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&o&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"DEACTIVATE_ACCOUNT_WITH_DELETE.PENDING_REQUEST")," "))}function bn(o,r){if(1&o&&(e.j41(0,"div",18)(1,"div",0)(2,"div",10),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"p",15),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",16),e.DNE(8,fn,3,3,"button",19)(9,hn,4,3,"div",20),e.k0s()()),2&o){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,4,"DEACTIVATE_ACCOUNT_WITH_DELETE.TITLE")),e.R7$(2),e.Y8G("innerHTML",e.bMT(6,6,"DEACTIVATE_ACCOUNT_WITH_DELETE.DESCRIPTION"),e.npT),e.R7$(3),e.Y8G("ngIf",!t.hasPendingDeactivationRequest),e.R7$(),e.Y8G("ngIf",t.hasPendingDeactivationRequest)}}let vn=(()=>{class o extends f.${getProfileService;dialogService;userRequestsService;cdr;profile;roles;isActive=!0;isPrimaryKey=!1;ref;hasPendingDeactivationRequest=!1;constructor(t,n,i,a,s){super(t),this.getProfileService=n,this.dialogService=i,this.userRequestsService=a,this.cdr=s}ngOnInit(){this.getProfile(),this.checkPendingRequests()}getProfile(){const t=this.getProfileService.getProfile().subscribe(n=>{switch(this.profile=n,this.roles=n.roles,!0){case this.hasRole(["insighter"]):this.isActive="active"===n.insighter_status,this.isPrimaryKey=!0;break;case this.hasRole(["company"]):this.isActive="active"===n.company?.status,this.isPrimaryKey=!!n.company?.primary_activate_at;break;default:this.isActive=!1}this.cdr.detectChanges()});this.unsubscribe.push(t)}checkPendingRequests(){if(!this.hasRole(["insighter"]))return void console.log("User is not an insighter, skipping deactivation request check");const t=this.userRequestsService.getAllUserRequests(this.lang).subscribe({next:n=>{if(console.log("All user requests:",n),!n||0===n.length)return console.log("No requests returned from API"),this.hasPendingDeactivationRequest=!1,void this.cdr.detectChanges();this.hasPendingDeactivationRequest=n.some(i=>{const a=(i.type?.key||"").toLowerCase(),s=(i.type?.label||"").toLowerCase(),c=(i.status||"").toLowerCase(),d=(i.requestable_type||"").toLowerCase();console.log("Request data:",{typeKey:a,typeName:s,status:c,requestableType:d});const _=["deactivat","delet","remov","cancel"].some(C=>a.includes(C)||s.includes(C)),T=["insighter","expert","consultant"].some(C=>a.includes(C)||d.includes(C)||s.includes(C)),S=_&&T&&"pending"===c;return S&&console.log("Found pending deactivation request:",i),S}),console.log("Final check result - Has pending deactivation request:",this.hasPendingDeactivationRequest),this.cdr.detectChanges()},error:n=>{console.error("Error fetching user requests:",n),this.cdr.detectChanges()}});this.unsubscribe.push(t)}showTransferDialog(){this.ref=this.dialogService.open(Xt,{header:"ar"===this.lang?"\u0646\u0642\u0644 \u0627\u0644\u062d\u0633\u0627\u0628":"Transfer Account",width:"650px",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,closable:!0}),this.ref.onClose.subscribe(t=>{t&&window.location.reload()})}showDeactivateDialog(t){this.ref=this.dialogService.open(At,{width:"650px",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,closable:!0,data:{deactivationType:t,insighter_status:this.profile.insighter_status,company_status:this.profile.company?.status}}),this.ref.onClose.subscribe(n=>{n&&window.location.reload()})}showDeleteDialog(){this.ref=this.dialogService.open(Ot,{width:"650px",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!1,closable:!0}),this.ref.onClose.subscribe(t=>{t&&window.location.reload()})}hasRole(t){return t.some(n=>this.roles.includes(n))}ngOnDestroy(){this.ref&&this.ref.close()}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(R.p),e.rXU(b.o3),e.rXU(Q.J),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:o,selectors:[["app-general-settings"]],features:[e.Jv_([b.o3]),e.Vt3],decls:8,vars:13,consts:[[1,"p-24px"],[4,"ngIf"],[3,"role",4,"ngIf"],["class","border border-1 border-gray-300 rounded-2 mb-10 bg-white",4,"ngIf"],["class","delete-section border-1 border-light-danger w-100 mb-10 bg-white",4,"ngIf"],["class","delete-section border-1 border-light-danger w-100 bg-white",4,"ngIf"],[3,"role"],[1,"border","border-1","border-gray-300","rounded-2","mb-10","bg-white"],[1,"col-12"],[1,"action-section","border-1","border-light","w-100"],[1,"fs-2","fw-bolder","mb-2"],[1,"text-gray-600","fw-semibold","fs-6","mb-6","d-block"],[1,"action-footer","bg-light"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"delete-section","border-1","border-light-danger","w-100","mb-10","bg-white"],[1,"warning-text",3,"innerHTML"],[1,"action-footer","bg-light-danger"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"delete-section","border-1","border-light-danger","w-100","bg-white"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["class","pending-request",4,"ngIf"],[1,"pending-request"],[1,"bi","bi-hourglass-split","me-2"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.DNE(1,ln,1,0,"app-reset-password",1)(2,un,2,1,"ng-container",1)(3,pn,1,3,"app-activate-account",2)(4,gn,14,9,"div",3)(5,mn,11,9,"div",4)(6,_n,11,9,"div",4)(7,bn,10,8,"div",5),e.k0s()),2&n&&(e.R7$(),e.Y8G("ngIf",!(null!=i.profile&&i.profile.login_social)),e.R7$(),e.Y8G("ngIf",i.hasRole(e.lJ4(7,k))&&"inactive"===i.profile.insighter_status),e.R7$(),e.Y8G("ngIf",!i.isActive&&i.isPrimaryKey),e.R7$(),e.Y8G("ngIf",i.hasRole(e.lJ4(8,k))&&i.isActive),e.R7$(),e.Y8G("ngIf",i.hasRole(e.lJ4(9,cn))&&i.isActive&&!i.hasRole(e.lJ4(10,k))),e.R7$(),e.Y8G("ngIf",i.hasRole(e.lJ4(11,k))),e.R7$(),e.Y8G("ngIf",!i.hasRole(e.lJ4(12,ee))))},dependencies:[g.bT,Qt,sn,h.D9],styles:[".delete-section[_ngcontent-%COMP%]{border-radius:6px}.p-24px[_ngcontent-%COMP%]{padding:24px}.border-light-danger[_ngcontent-%COMP%]{border:1px solid #fcdee2}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 16px}.warning-text[_ngcontent-%COMP%]{color:#4b5563;margin-bottom:24px;line-height:1.5}.project-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background:#fafafa;border:1px solid #eaeaea;border-radius:6px}.project-icon[_ngcontent-%COMP%]{margin-right:16px}.placeholder-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#eaeaea;border-radius:4px}.project-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:0}.last-updated[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:4px 0 0}.action-footer[_ngcontent-%COMP%]{padding:12px 24px;display:flex;justify-content:flex-end}.delete-button[_ngcontent-%COMP%]{background:#dc2626;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.delete-button[_ngcontent-%COMP%]:hover{background:#b91c1c}.pending-request[_ngcontent-%COMP%]{display:flex;align-items:center;color:#856404;font-weight:500;padding:8px 16px}.pending-request[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:.5}50%{opacity:1}to{opacity:.5}}.payment-card-illustration[_ngcontent-%COMP%]{max-width:300px;height:auto}@media screen and (max-width: 576px){.payment-card-illustration[_ngcontent-%COMP%]{max-width:200px}}"]})}return o})();var Cn=u(4077),yn=u(9998),Tn=u(1579),In=u(288);const xn=()=>["insighter"],En=()=>["company"],Rn=(o,r)=>({"primary-card":o,"secondary-card":r});function An(o,r){1&o&&(e.j41(0,"div",10)(1,"div",11)(2,"span",12),e.EFF(3,"Loading..."),e.k0s()()())}function Sn(o,r){if(1&o&&(e.j41(0,"div",13),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.paymentAccountError," ")}}function Mn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",10),e.nrm(1,"i",14),e.j41(2,"h4",15),e.EFF(3),e.k0s(),e.j41(4,"p",16),e.EFF(5),e.k0s(),e.j41(6,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.onAddPaymentMethod())}),e.nrm(7,"i",18),e.EFF(8),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(3),e.JRh("ar"===t.lang?"\u0644\u0645 \u062a\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0623\u064a \u0637\u0631\u064a\u0642\u0629 \u062f\u0641\u0639":"No Payment Method Added"),e.R7$(2),e.JRh("ar"===t.lang?"\u0623\u0636\u0641 \u0637\u0631\u064a\u0642\u0629 \u062f\u0641\u0639 \u0644\u062a\u062a\u0645\u0643\u0646 \u0645\u0646 \u0627\u0633\u062a\u0644\u0627\u0645 \u0623\u0631\u0628\u0627\u062d\u0643":"To ensure you receive your earnings, please add a payment account."),e.R7$(3),e.SpI(" ","ar"===t.lang?"\u0625\u0636\u0627\u0641\u0629 \u0637\u0631\u064a\u0642\u0629 \u062f\u0641\u0639":"Add Payment Method"," ")}}function kn(o,r){1&o&&e.nrm(0,"img",55)}function wn(o,r){1&o&&e.nrm(0,"img",56)}function On(o,r){if(1&o&&(e.j41(0,"h5",57),e.EFF(1),e.k0s()),2&o){const t=e.XpG(4);e.R7$(),e.SpI(" ","ar"===t.lang?"\u0627\u0644\u062d\u0633\u0627\u0628 \u0627\u0644\u0623\u0633\u0627\u0633\u064a":"Primary Account"," ")}}function Pn(o,r){if(1&o&&(e.j41(0,"h5",58),e.EFF(1),e.k0s()),2&o){const t=e.XpG(4);e.R7$(),e.SpI(" ","ar"===t.lang?"\u062d\u0633\u0627\u0628 \u062b\u0627\u0646\u0648\u064a":"Secondary Account"," ")}}function Dn(o,r){if(1&o&&(e.j41(0,"span",59),e.EFF(1),e.k0s()),2&o){const t=e.XpG(4);e.R7$(),e.SpI(" ","ar"===t.lang?"\u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644":"INCOMPLETE"," ")}}function Fn(o,r){if(1&o&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.SpI(" ",n.getStatusText(t).toUpperCase()," ")}}function Nn(o,r){if(1&o&&(e.j41(0,"span",61),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit,n=e.XpG(3);e.Y8G("ngClass",n.getStatusBadgeClass(t)),e.R7$(),e.SpI(" ",n.getStatusText(t).toUpperCase()," ")}}function Gn(o,r){if(1&o&&(e.j41(0,"div",35),e.nrm(1,"img",74),e.j41(2,"span",75),e.EFF(3),e.k0s()()),2&o){const t=e.XpG(2).$implicit,n=e.XpG(3);e.R7$(),e.Y8G("src",n.getCountryFlagPath(t.account_country.name),e.B4B)("alt",t.account_country.name),e.R7$(2),e.JRh(t.account_country.name)}}function jn(o,r){if(1&o&&(e.j41(0,"div",76)(1,"div",77),e.EFF(2),e.k0s(),e.j41(3,"div",78),e.EFF(4),e.k0s()()),2&o){const t=e.XpG(2).$implicit,n=e.XpG(3);e.R7$(2),e.JRh("ar"===n.lang?"\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643":"Bank Name"),e.R7$(2),e.JRh(t.bank_name)}}function $n(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",79),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2).$implicit,a=e.XpG(3);return e.Njj(a.copyToClipboard(i.bank_iban))}),e.j41(1,"i",80),e.nrm(2,"span",81)(3,"span",82),e.k0s()()}if(2&o){const t=e.XpG(5);e.Y8G("pTooltip","ar"===t.lang?"\u0646\u0633\u062e IBAN":"Copy IBAN")}}function Ln(o,r){if(1&o&&(e.j41(0,"div",62)(1,"div",63)(2,"div",64),e.EFF(3),e.k0s(),e.j41(4,"div",65)(5,"div",66),e.EFF(6),e.k0s(),e.DNE(7,Gn,4,3,"div",67),e.k0s()(),e.DNE(8,jn,5,2,"div",68),e.j41(9,"div",69)(10,"div",70),e.EFF(11,"IBAN"),e.k0s(),e.j41(12,"div",71)(13,"span",72),e.EFF(14),e.k0s(),e.DNE(15,$n,4,1,"button",73),e.k0s()()()),2&o){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(3),e.JRh("ar"===n.lang?"\u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628":"Account Holder"),e.R7$(3),e.JRh(t.account_name||("ar"===n.lang?"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f":"Not Available")),e.R7$(),e.Y8G("ngIf",t.account_country),e.R7$(),e.Y8G("ngIf",t.bank_name),e.R7$(6),e.JRh(n.formatIban(t.bank_iban)||("ar"===n.lang?"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f":"Not Available")),e.R7$(),e.Y8G("ngIf",t.bank_iban)}}function Un(o,r){if(1&o&&(e.j41(0,"div",62)(1,"div",83),e.nrm(2,"i",84),e.j41(3,"span",85),e.EFF(4),e.k0s()()()),2&o){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(4),e.JRh(n.getProviderStatusExplanation(t))}}function Vn(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",86),e.bIt("click",function(){e.eBV(t);const i=e.XpG(4);return e.Njj(i.onEditManual())}),e.nrm(1,"i",87),e.EFF(2),e.k0s()}if(2&o){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(2),e.SpI(" ",n.isManualAccountComplete(t)?"ar"===n.lang?"\u062a\u0639\u062f\u064a\u0644":"Edit":"ar"===n.lang?"\u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u0625\u0639\u062f\u0627\u062f":"Complete Setup"," ")}}function Yn(o,r){if(1&o&&(e.j41(0,"span"),e.nrm(1,"i",90),e.EFF(2),e.k0s()),2&o){const t=e.XpG(5);e.R7$(2),e.SpI(" ","ar"===t.lang?"\u062a\u0639\u064a\u064a\u0646 \u0623\u0633\u0627\u0633\u064a":"Set Primary"," ")}}function Bn(o,r){1&o&&e.nrm(0,"span",91)}function Xn(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",88),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,a=e.XpG(3);return e.Njj(a.onSetAsPrimary(i))}),e.DNE(1,Yn,3,1,"span",9)(2,Bn,1,0,"span",89),e.k0s()}if(2&o){const t=e.XpG(4);e.Y8G("disabled",t.switchingAccount),e.R7$(),e.Y8G("ngIf",!t.switchingAccount),e.R7$(),e.Y8G("ngIf",t.switchingAccount)}}function Hn(o,r){if(1&o&&(e.j41(0,"span",35),e.nrm(1,"i",93),e.j41(2,"span",94),e.EFF(3),e.k0s()()),2&o){const t=e.XpG(5);e.R7$(3),e.JRh("ar"===t.lang?"\u062d\u0630\u0641":"Delete")}}function Wn(o,r){1&o&&e.nrm(0,"span",91)}function Zn(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",92),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,a=e.XpG(3);return e.Njj(a.onDeleteMethod(i))}),e.DNE(1,Hn,4,1,"span",67)(2,Wn,1,0,"span",89),e.k0s()}if(2&o){const t=e.XpG().$implicit,n=e.XpG(3);e.Y8G("disabled",n.deletingAccount[t.type+"_"+t.primary]),e.R7$(),e.Y8G("ngIf",!n.deletingAccount[t.type+"_"+t.primary]),e.R7$(),e.Y8G("ngIf",n.deletingAccount[t.type+"_"+t.primary])}}function zn(o,r){if(1&o&&(e.j41(0,"div",21)(1,"div",33)(2,"div",34)(3,"div",35)(4,"div",36),e.DNE(5,kn,1,0,"img",37)(6,wn,1,0,"img",38),e.k0s(),e.j41(7,"div")(8,"div",39),e.DNE(9,On,2,1,"h5",40)(10,Pn,2,1,"h5",41),e.k0s(),e.j41(11,"div",42),e.nrm(12,"i",43),e.j41(13,"span",44),e.EFF(14),e.k0s()()()(),e.j41(15,"div",45),e.DNE(16,Dn,2,1,"span",46)(17,Fn,2,1,"span",47)(18,Nn,2,2,"span",48),e.k0s()(),e.nrm(19,"hr",49),e.DNE(20,Ln,16,6,"div",50)(21,Un,5,1,"div",50),e.j41(22,"div",51),e.DNE(23,Vn,3,1,"button",52)(24,Xn,3,3,"button",53)(25,Zn,3,3,"button",54),e.k0s()()()),2&o){const t=r.$implicit,n=e.XpG(3);e.R7$(),e.Y8G("ngClass",e.l_i(15,Rn,t.primary,!t.primary)),e.R7$(4),e.Y8G("ngIf","manual"===t.type),e.R7$(),e.Y8G("ngIf","provider"===t.type),e.R7$(3),e.Y8G("ngIf",t.primary),e.R7$(),e.Y8G("ngIf",!t.primary),e.R7$(2),e.Y8G("ngClass",n.getAccountTypeIcon(t.type)),e.R7$(2),e.JRh(n.getAccountTypeText(t.type)),e.R7$(2),e.Y8G("ngIf","manual"===t.type&&!n.isManualAccountComplete(t)),e.R7$(),e.Y8G("ngIf",t.primary&&("manual"!==t.type||n.isManualAccountComplete(t))),e.R7$(),e.Y8G("ngIf",!t.primary&&"active"===t.status&&("manual"!==t.type||n.isManualAccountComplete(t))),e.R7$(2),e.Y8G("ngIf","manual"===t.type),e.R7$(),e.Y8G("ngIf","provider"===t.type),e.R7$(2),e.Y8G("ngIf","manual"===t.type),e.R7$(),e.Y8G("ngIf",!t.primary&&"active"===t.status),e.R7$(),e.Y8G("ngIf",!t.primary)}}function Jn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",19),e.DNE(2,zn,26,18,"div",20),e.j41(3,"div",21)(4,"div",22),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.onAddPaymentMethod())}),e.j41(5,"div",23)(6,"div",24),e.qSk(),e.j41(7,"svg",25),e.nrm(8,"path",26)(9,"path",27)(10,"path",28)(11,"path",29)(12,"path",30)(13,"path",31),e.k0s()(),e.joV(),e.j41(14,"h5",32),e.EFF(15),e.k0s(),e.j41(16,"p",15),e.EFF(17),e.k0s()()()()()()}if(2&o){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.getVisiblePaymentMethods()),e.R7$(13),e.SpI(" ","ar"===t.lang?"\u0623\u0636\u0641 \u0637\u0631\u064a\u0642\u0629 \u062f\u0641\u0639 \u062c\u062f\u064a\u062f\u0629":"Add a new payment method"," "),e.R7$(2),e.SpI(" ","ar"===t.lang?"\u0623\u0636\u0641 \u0648\u0633\u064a\u0644\u0629 \u062f\u0641\u0639 \u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0645\u062f\u0641\u0648\u0639\u0627\u062a\u0643 \u0623\u0648 \u0645\u062f\u0641\u0648\u0639\u0627\u062a \u0645\u0642\u062f\u0645 \u0627\u0644\u062e\u062f\u0645\u0629":"Add a payment method to receive your payments or provider payments"," ")}}function qn(o,r){if(1&o&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"span"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"span",6),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.DNE(11,An,4,0,"div",7)(12,Sn,2,1,"div",8)(13,Mn,9,3,"div",7)(14,Jn,18,3,"div",9),e.k0s()()()()),2&o){const t=e.XpG();e.R7$(6),e.SpI(" ",e.bMT(7,6,"PAYMENT_ACCOUNT.TITLE")," "),e.R7$(3),e.SpI(" ",e.bMT(10,8,"PAYMENT_ACCOUNT.DESCRIPTION")," "),e.R7$(2),e.Y8G("ngIf",t.paymentAccountLoading),e.R7$(),e.Y8G("ngIf",!t.paymentAccountLoading&&t.paymentAccountError),e.R7$(),e.Y8G("ngIf",!t.paymentAccountLoading&&t.hasNoPaymentMethods()),e.R7$(),e.Y8G("ngIf",!t.paymentAccountLoading&&!t.hasNoPaymentMethods())}}let Kn=(()=>{class o extends f.${getProfileService;cdr;paymentService;router;profile;roles;isActive=!0;paymentMethods=[];paymentAccountLoading=!1;paymentAccountError=null;switchingAccount=!1;deletingAccount={};constructor(t,n,i,a,s){super(t),this.getProfileService=n,this.cdr=i,this.paymentService=a,this.router=s}ngOnInit(){this.getProfile(),this.loadPaymentAccountDetails()}getProfile(){const t=this.getProfileService.getProfile().subscribe(n=>{switch(this.profile=n,this.roles=n.roles,!0){case this.hasRole(["insighter"]):this.isActive="active"===n.insighter_status;break;case this.hasRole(["company"]):this.isActive="active"===n.company?.status;break;default:this.isActive=!1}this.cdr.detectChanges()});this.unsubscribe.push(t)}loadPaymentAccountDetails(){if(!this.isActive||!this.hasRole(["insighter"])&&!this.hasRole(["company"]))return;this.paymentAccountLoading=!0,this.paymentAccountError=null;const t=this.paymentService.getPaymentAccountDetails().subscribe({next:n=>{this.paymentMethods=n.data||[],this.paymentAccountLoading=!1,this.cdr.detectChanges()},error:n=>{404===n.status?this.paymentMethods=[]:this.paymentAccountError="ar"===this.lang?"\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u062d\u0633\u0627\u0628 \u0627\u0644\u062f\u0641\u0639":"Failed to load payment account details",this.paymentAccountLoading=!1,this.cdr.detectChanges()}});this.unsubscribe.push(t)}getVisiblePaymentMethods(){return this.paymentMethods.filter(t=>"manual"===t.type?"active"===t.status||null!==t.account_name||null!==t.bank_iban:"provider"===t.type&&("active"===t.status||null!==t.details_submitted_at))}getPrimaryMethod(){return this.paymentMethods.find(t=>t.primary)||null}getActiveNonPrimaryMethods(){return this.paymentMethods.filter(t=>!t.primary&&"active"===t.status)}getCountryFlagPath(t){return t?"assets/media/flags/"+t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,"")+".svg":"assets/media/flags/default.svg"}refreshPaymentAccountDetails(){this.loadPaymentAccountDetails()}navigateToSetupPayment(){this.router.navigate(["/app/setup-payment-info"])}hasRole(t){return t.some(n=>this.roles.includes(n))}onSetAsPrimary(t){D().fire({title:"ar"===this.lang?"\u062a\u0639\u064a\u064a\u0646 \u0643\u0637\u0631\u064a\u0642\u0629 \u062f\u0641\u0639 \u0623\u0633\u0627\u0633\u064a\u0629":"Set as Primary Payment Method",text:"ar"===this.lang?"\u0647\u0644 \u062a\u0631\u064a\u062f \u062a\u0639\u064a\u064a\u0646 \u0647\u0630\u0647 \u0643\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629\u061f":"Do you want to set this as your primary payment method?",icon:"question",showCancelButton:!0,confirmButtonText:"ar"===this.lang?"\u0646\u0639\u0645":"Yes",cancelButtonText:"ar"===this.lang?"\u0625\u0644\u063a\u0627\u0621":"Cancel",confirmButtonColor:"#17c1e8",cancelButtonColor:"#d33"}).then(n=>{n.isConfirmed&&this.setPrimaryMethod(t.type)})}onEditManual(){this.router.navigate(["/app/setup-payment-info/manual-account"],{queryParams:{edit:"true"}})}onDeleteMethod(t){const n=this.getAccountTypeText(t.type);D().fire({title:"ar"===this.lang?"\u062d\u0630\u0641 \u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639":"Delete Payment Method",text:"ar"===this.lang?`\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 ${n}\u061f`:`Are you sure you want to delete ${n}?`,icon:"warning",showCancelButton:!0,confirmButtonText:"ar"===this.lang?"\u0646\u0639\u0645\u060c \u0627\u062d\u0630\u0641":"Yes, delete",cancelButtonText:"ar"===this.lang?"\u0625\u0644\u063a\u0627\u0621":"Cancel",confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d"}).then(i=>{i.isConfirmed&&this.deletePaymentMethod(t)})}deletePaymentMethod(t){const n=`${t.type}_${t.primary}`;this.deletingAccount[n]=!0,this.cdr.detectChanges();const a=("manual"===t.type?this.paymentService.deleteManualAccount():this.paymentService.deleteStripeAccount()).subscribe({next:()=>{this.deletingAccount[n]=!1,this.showSuccess("ar"===this.lang?"\u0646\u062c\u062d":"Success","ar"===this.lang?"\u062a\u0645 \u062d\u0630\u0641 \u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639 \u0628\u0646\u062c\u0627\u062d":"Payment method deleted successfully"),this.loadPaymentAccountDetails()},error:s=>{this.deletingAccount[n]=!1,this.cdr.detectChanges(),this.handleServerErrors(s)}});this.unsubscribe.push(a)}setPrimaryMethod(t){this.switchingAccount=!0,this.cdr.detectChanges();const n=this.paymentService.setPrimaryPaymentMethod(t).subscribe({next:()=>{this.switchingAccount=!1,this.showSuccess("ar"===this.lang?"\u0646\u062c\u062d":"Success","ar"===this.lang?"\u062a\u0645 \u062a\u0639\u064a\u064a\u0646 \u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629 \u0628\u0646\u062c\u0627\u062d":"Primary payment method set successfully"),this.loadPaymentAccountDetails()},error:i=>{this.switchingAccount=!1,this.cdr.detectChanges(),this.handleServerErrors(i)}});this.unsubscribe.push(n)}canShowProviderCard(t){return"provider"===t.type&&("active"===t.status||null!==t.details_submitted_at)}getStatusBadgeClass(t){if("provider"===t.type){if(!t.details_submitted_at)return"badge-light-danger";if(t.details_submitted_at&&!t.charges_enable_at)return"badge-light-warning";if(t.charges_enable_at)return"badge-light-success"}return"active"===t.status?"badge-light-success":"badge-light-warning"}getStatusText(t){if("provider"===t.type){if(!t.details_submitted_at)return"ar"===this.lang?"\u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644":"Incomplete";if(t.details_submitted_at&&!t.charges_enable_at)return"ar"===this.lang?"\u0642\u064a\u062f \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629":"Under Review";if(t.charges_enable_at)return"ar"===this.lang?"\u0646\u0634\u0637":"Active"}return"active"===t.status?"ar"===this.lang?"\u0646\u0634\u0637":"Active":"ar"===this.lang?"\u063a\u064a\u0631 \u0646\u0634\u0637":"Inactive"}getAccountTypeText(t){return"provider"===t?"ar"===this.lang?"\u0645\u0632\u0648\u062f \u0627\u0644\u062e\u062f\u0645\u0629":"Provider":"ar"===this.lang?"\u062d\u0633\u0627\u0628 \u0628\u0646\u0643\u064a":"Bank Account"}getAccountTypeIcon(t){return"provider"===t?"bi bi-credit-card":"bi bi-bank"}maskIban(t){return t?t.length<=8?t:`${t.substring(0,4)} XXXX XXXX XXXX ${t.substring(t.length-4)}`:"XXXX XXXX XXXX XXXX XXXX"}getProviderStatusExplanation(t){return"provider"!==t.type?"":t.details_submitted_at?t.details_submitted_at&&!t.charges_enable_at?"ar"===this.lang?"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0646\u0645\u0648\u0630\u062c \u0648\u062c\u0627\u0631\u064a \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629 \u0645\u0646 \u0642\u0628\u0644 \u0645\u0632\u0648\u062f \u0627\u0644\u062f\u0641\u0639":"Form submitted and under review by payment provider":t.charges_enable_at?"ar"===this.lang?"\u0627\u0644\u062d\u0633\u0627\u0628 \u0645\u0643\u062a\u0645\u0644 \u0648\u0645\u064f\u0641\u0639\u0644 \u0644\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645":"Account is complete and activated for use":"":"ar"===this.lang?"\u064a\u062c\u0628 \u0625\u0643\u0645\u0627\u0644 \u0625\u0639\u062f\u0627\u062f \u0627\u0644\u062d\u0633\u0627\u0628 \u0644\u062f\u0649 \u0645\u0632\u0648\u062f \u0627\u0644\u062f\u0641\u0639":"Account setup with payment provider needs to be completed"}shouldShowFormSubmittedBadge(t){return"provider"===t.type&&t.details_submitted_at}getProviderStatusIcon(t){return"provider"!==t.type?"":t.details_submitted_at?t.details_submitted_at&&!t.charges_enable_at?"bi bi-clock":t.charges_enable_at?"bi bi-check-circle":"bi bi-exclamation-circle":"bi bi-exclamation-circle"}hasNoPaymentMethods(){return 0===this.getVisiblePaymentMethods().length}onAddPaymentMethod(){this.router.navigate(["/app/setup-payment-info"])}isManualAccountComplete(t){return"manual"===t.type&&null!=t.bank_iban&&""!==t.bank_iban}formatIban(t){return t?t.replace(/(.{4})/g,"$1 ").trim():"Not Available"}copyToClipboard(t){navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(t).then(()=>{this.showSuccess("ar"===this.lang?"\u062a\u0645 \u0627\u0644\u0646\u0633\u062e":"Copied","ar"===this.lang?"\u062a\u0645 \u0646\u0633\u062e IBAN \u0628\u0646\u062c\u0627\u062d":"IBAN copied to clipboard")}).catch(()=>{this.fallbackCopyToClipboard(t)}):this.fallbackCopyToClipboard(t)}fallbackCopyToClipboard(t){const n=document.createElement("textarea");n.value=t,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy"),this.showSuccess("ar"===this.lang?"\u062a\u0645 \u0627\u0644\u0646\u0633\u062e":"Copied","ar"===this.lang?"\u062a\u0645 \u0646\u0633\u062e IBAN \u0628\u0646\u062c\u0627\u062d":"IBAN copied to clipboard")}catch{this.showError("ar"===this.lang?"\u062e\u0637\u0623":"Error","ar"===this.lang?"\u0641\u0634\u0644 \u0641\u064a \u0646\u0633\u062e \u0627\u0644\u0646\u0635":"Failed to copy text")}finally{document.body.removeChild(n)}}handleServerErrors(t){if(t.error&&t.error.errors){const n=t.error.errors;for(const i in n)n.hasOwnProperty(i)&&this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred",n[i].join(", "))}else this.showError("ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An error occurred","ar"===this.lang?"\u062d\u062f\u062b \u062e\u0637\u0623":"An unexpected error occurred.")}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(R.p),e.rXU(e.gRc),e.rXU(In.W),e.rXU(I.Ix))};static \u0275cmp=e.VBU({type:o,selectors:[["app-payment-settings"]],features:[e.Vt3],decls:1,vars:3,consts:[["class","mb-10 bg-white",4,"ngIf"],[1,"mb-10","bg-white"],[1,"col-12"],[1,"w-100"],[1,"p-24px"],[1,"fs-2","fw-bolder","mb-2","d-flex","flex-column"],[1,"text-gray-600","fw-semibold","fs-6"],["class","text-center py-10",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-10"],["role","status",1,"spinner-border","spinner-border-sm","text-info"],[1,"visually-hidden"],[1,"alert","alert-danger"],[1,"bi","bi-credit-card","fs-1","text-muted","mb-4","d-block",2,"font-size","4rem !important"],[1,"text-muted","mb-4"],[1,"text-muted","mb-5"],[1,"btn","btn-info",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"payment-methods-grid"],["class","payment-method-wrapper",4,"ngFor","ngForOf"],[1,"payment-method-wrapper"],[1,"add-payment-method-card","card","border","rounded-3","p-5","text-center",3,"click"],[1,"add-payment-content"],[1,"add-payment-icon","mb-4"],["width","64","height","64","viewBox","0 0 64 64","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M2 48.6667C2 49.5507 2.35119 50.3986 2.97631 51.0237C3.60143 51.6488 4.44928 52 5.33333 52H52.6667L62 42.6667V15.3333C62 14.4493 61.6488 13.6014 61.0237 12.9763C60.3986 12.3512 59.5507 12 58.6667 12H5.33333C4.44928 12 3.60143 12.3512 2.97631 12.9763C2.35119 13.6014 2 14.4493 2 15.3333V48.6667Z","fill","white"],["d","M2 18.6667H62V27.3333H2V18.6667Z","fill","#29B6F6"],["d","M43.3307 52.3333H5.33073C4.3586 52.3322 3.42661 51.9456 2.73921 51.2582C2.05182 50.5708 1.66516 49.6388 1.66406 48.6667V15.3333C1.66516 14.3612 2.05182 13.4292 2.73921 12.7418C3.42661 12.0544 4.3586 11.6678 5.33073 11.6667H58.6641C59.6362 11.6678 60.5682 12.0544 61.2556 12.7418C61.943 13.4292 62.3296 14.3612 62.3307 15.3333V33.3333C62.3307 33.4217 62.2956 33.5065 62.2331 33.569C62.1706 33.6315 62.0858 33.6667 61.9974 33.6667C61.909 33.6667 61.8242 33.6315 61.7617 33.569C61.6992 33.5065 61.6641 33.4217 61.6641 33.3333V15.3333C61.6632 14.538 61.3468 13.7754 60.7844 13.213C60.222 12.6506 59.4594 12.3342 58.6641 12.3333H5.33073C4.53536 12.3342 3.77282 12.6506 3.2104 13.213C2.64799 13.7754 2.33163 14.538 2.33073 15.3333V48.6667C2.33163 49.462 2.64799 50.2246 3.2104 50.787C3.77282 51.3494 4.53536 51.6658 5.33073 51.6667H43.3307C43.4191 51.6667 43.5039 51.7018 43.5664 51.7643C43.6289 51.8268 43.6641 51.9116 43.6641 52C43.6641 52.0884 43.6289 52.1732 43.5664 52.2357C43.5039 52.2982 43.4191 52.3333 43.3307 52.3333Z","fill","#C1C1C1"],["d","M15.9974 45.6667H5.9974C5.90899 45.6667 5.82421 45.6315 5.76169 45.569C5.69918 45.5065 5.66406 45.4217 5.66406 45.3333V42.6667C5.66406 42.5783 5.69918 42.4935 5.76169 42.431C5.82421 42.3684 5.90899 42.3333 5.9974 42.3333H15.9974C16.0858 42.3333 16.1706 42.3684 16.2331 42.431C16.2956 42.4935 16.3307 42.5783 16.3307 42.6667V45.3333C16.3307 45.4217 16.2956 45.5065 16.2331 45.569C16.1706 45.6315 16.0858 45.6667 15.9974 45.6667ZM6.33073 45H15.6641V43H6.33073V45Z","fill","#C1C1C1"],["d","M33.9974 45.6667H19.9974C19.909 45.6667 19.8242 45.6315 19.7617 45.569C19.6992 45.5065 19.6641 45.4217 19.6641 45.3333V42.6667C19.6641 42.5783 19.6992 42.4935 19.7617 42.431C19.8242 42.3684 19.909 42.3333 19.9974 42.3333H33.9974C34.0858 42.3333 34.1706 42.3684 34.2331 42.431C34.2956 42.4935 34.3307 42.5783 34.3307 42.6667V45.3333C34.3307 45.4217 34.2956 45.5065 34.2331 45.569C34.1706 45.6315 34.0858 45.6667 33.9974 45.6667ZM20.3307 45H33.6641V43H20.3307V45Z","fill","#C1C1C1"],["d","M52.6641 32.6667C47.1501 32.6667 42.6641 37.1527 42.6641 42.6667C42.6641 48.1807 47.1501 52.6667 52.6641 52.6667C58.1781 52.6667 62.6641 48.1807 62.6641 42.6667C62.6641 37.1527 58.1781 32.6667 52.6641 32.6667ZM59.3307 43.3333H53.3307V49.3333C53.3307 49.5101 53.2605 49.6797 53.1355 49.8047C53.0104 49.9298 52.8409 50 52.6641 50C52.4873 50 52.3177 49.9298 52.1927 49.8047C52.0676 49.6797 51.9974 49.5101 51.9974 49.3333V43.3333H45.9974C45.8206 43.3333 45.651 43.2631 45.526 43.1381C45.401 43.013 45.3307 42.8435 45.3307 42.6667C45.3307 42.4899 45.401 42.3203 45.526 42.1953C45.651 42.0702 45.8206 42 45.9974 42H51.9974V36C51.9974 35.8232 52.0676 35.6536 52.1927 35.5286C52.3177 35.4036 52.4873 35.3333 52.6641 35.3333C52.8409 35.3333 53.0104 35.4036 53.1355 35.5286C53.2605 35.6536 53.3307 35.8232 53.3307 36V42H59.3307C59.5075 42 59.6771 42.0702 59.8021 42.1953C59.9272 42.3203 59.9974 42.4899 59.9974 42.6667C59.9974 42.8435 59.9272 43.013 59.8021 43.1381C59.6771 43.2631 59.5075 43.3333 59.3307 43.3333Z","fill","#29B6F6"],[1,"fw-bold","text-gray-800","mb-2"],[1,"payment-method-card","card","border","rounded-3","p-4",3,"ngClass"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"d-flex","align-items-center"],[1,"payment-logo-container","me-3"],["src","/assets/media/logos/custom-2.svg","alt","Bank Account","class","payment-logo",4,"ngIf"],["src","https://logos-world.net/wp-content/uploads/2022/12/Stripe-Emblem.png","alt","Stripe","class","payment-logo",4,"ngIf"],[1,"d-flex","align-items-center","mb-1"],["class","mb-0 text-info fw-bold",4,"ngIf"],["class","mb-0 text-muted fw-bold",4,"ngIf"],[1,"d-flex","align-items-center","text-info"],[1,"me-2",3,"ngClass"],[1,"fw-semibold"],[1,"d-flex","align-items-center","gap-2"],["class","badge badge-light-warning","style","font-size: 0.8rem; padding: 0.5rem 1rem;",4,"ngIf"],["class","badge badge-light-success","style","font-size: 0.8rem; padding: 0.5rem 1rem;",4,"ngIf"],["class","badge","style","font-size: 0.8rem; padding: 0.5rem 1rem;",3,"ngClass",4,"ngIf"],[1,"text-info","mb-0",2,"height","1px","opacity","0.3"],["class","account-details-section",4,"ngIf"],[1,"d-flex","justify-content-end","gap-2","mt-4"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],["class","btn btn-sm btn-info",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-outline-danger delete-btn-custom d-flex align-items-center",3,"disabled","click",4,"ngIf"],["src","/assets/media/logos/custom-2.svg","alt","Bank Account",1,"payment-logo"],["src","https://logos-world.net/wp-content/uploads/2022/12/Stripe-Emblem.png","alt","Stripe",1,"payment-logo"],[1,"mb-0","text-info","fw-bold"],[1,"mb-0","text-muted","fw-bold"],[1,"badge","badge-light-warning",2,"font-size","0.8rem","padding","0.5rem 1rem"],[1,"badge","badge-light-success",2,"font-size","0.8rem","padding","0.5rem 1rem"],[1,"badge",2,"font-size","0.8rem","padding","0.5rem 1rem",3,"ngClass"],[1,"account-details-section"],[1,"account-name-section","mb-3"],[1,"account-name-label"],[1,"d-flex","align-items-center","justify-content-between"],[1,"account-name-value"],["class","d-flex align-items-center",4,"ngIf"],["class","bank-name-section mb-3",4,"ngIf"],[1,"iban-section"],[1,"iban-label"],[1,"iban-value"],[1,"iban-text"],["type","button","class","copy-btn","tooltipPosition","top",3,"pTooltip","click",4,"ngIf"],[1,"country-flag","me-2",2,"width","24px","height","16px","object-fit","cover",3,"src","alt"],[1,"fw-semibold","text-dark"],[1,"bank-name-section","mb-3"],[1,"bank-name-label"],[1,"bank-name-value"],["type","button","tooltipPosition","top",1,"copy-btn",3,"click","pTooltip"],[1,"ki-duotone","ki-copy","fs-6"],[1,"path1"],[1,"path2"],[1,"provider-info"],[1,"bi","bi-info-circle","text-info","me-2"],[1,"text-muted"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"fas","fa-edit","me-1"],[1,"btn","btn-sm","btn-info",3,"click","disabled"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],[1,"fas","fa-star","me-1"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"btn","btn-sm","btn-outline-danger","delete-btn-custom","d-flex","align-items-center",3,"click","disabled"],[1,"pi","pi-trash","delete-icon-custom",2,"font-size","14px","margin-inline-end","6px"],[1,"delete-text-custom"]],template:function(n,i){1&n&&e.DNE(0,qn,15,10,"div",0),2&n&&e.Y8G("ngIf",i.isActive&&(i.hasRole(e.lJ4(1,xn))||i.hasRole(e.lJ4(2,En))))},dependencies:[g.YU,g.Sq,g.bT,N.m,h.D9],styles:[".p-24px[_ngcontent-%COMP%]{padding:24px}@media (max-width: 768px){.p-24px[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 576px){.p-24px[_ngcontent-%COMP%]{padding:12px}}.payment-methods-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(380px,1fr));gap:24px;margin-top:2rem}@media (max-width: 1200px){.payment-methods-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px}}@media (max-width: 768px){.payment-methods-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.payment-method-wrapper[_ngcontent-%COMP%]{width:100%}.payment-method-card[_ngcontent-%COMP%]{border:1.5px solid #d1d5db!important;border-radius:12px!important;background-color:#fff;transition:all .2s ease;box-shadow:none!important;width:100%;height:100%;min-height:280px;display:flex;flex-direction:column}.payment-method-card.primary-card[_ngcontent-%COMP%]{border-color:#0978b9!important;background-color:#f8fbff;background-image:url(https://res.cloudinary.com/dsiku9ipv/image/upload/v1755797462/237149957_689f919e-0ac3-4999-ad29-dfbf8a20382f_cm8fwh.webp);background-position:100%;background-size:140%;background-repeat:no-repeat}.payment-method-card.primary-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0978b926!important;transform:translateY(-1px)}.payment-method-card.secondary-card[_ngcontent-%COMP%]{background-color:#fff}.payment-method-card.secondary-card[_ngcontent-%COMP%]:hover{border-color:#0978b9!important;box-shadow:0 2px 8px #0000000d!important;transform:translateY(-1px)}.add-payment-method-card[_ngcontent-%COMP%]{border:2px dashed #d1d5db!important;border-radius:12px!important;background-color:#fff;transition:all .2s ease;box-shadow:none!important;cursor:pointer;height:100%;min-height:280px;display:flex;align-items:center;justify-content:center}.add-payment-method-card[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#0978b9!important;transform:translateY(-1px)}.add-payment-method-card[_ngcontent-%COMP%]:hover   .bi-plus-circle[_ngcontent-%COMP%]{transform:scale(1.1);color:#0978b9!important}.add-payment-content[_ngcontent-%COMP%]{text-align:center}.add-payment-icon[_ngcontent-%COMP%]   .bi-plus-circle[_ngcontent-%COMP%]{transition:transform .2s ease}.payment-logo-container[_ngcontent-%COMP%]{width:48px;height:48px;background-color:#fff;border-radius:8px;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 2px #0000000d!important;border:1px solid #e9ecef}.payment-logo[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}hr.text-info[_ngcontent-%COMP%]{border-top:1px solid #0978B9!important;opacity:.3}.badge[_ngcontent-%COMP%]{padding:.375rem .75rem;font-weight:500;border-radius:6px;font-size:.75rem}.badge.badge-light-info[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#0978b9;border:1px solid #bbdefb}.badge.badge-light-success[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32;border:1px solid #c8e6c9;font-weight:600}.badge.badge-light-warning[_ngcontent-%COMP%]{background-color:#fff8e1;color:#f57c00;border:1px solid #ffe0b2}.badge.badge-light-danger[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border:1px solid #ffcdd2}.btn.btn-info[_ngcontent-%COMP%]{background-color:#0978b9;border-color:#0978b9;color:#fff}.btn.btn-info[_ngcontent-%COMP%]:hover{background-color:#0052a3;border-color:#0052a3}.btn.btn-light-info[_ngcontent-%COMP%]{background-color:#ebf3fe;border-color:#ebf3fe;color:#0978b9}.btn.btn-light-info[_ngcontent-%COMP%]:hover{background-color:#d4e8fc;border-color:#d4e8fc}.btn.btn-light-danger[_ngcontent-%COMP%]{background-color:#ffebee;border-color:#ffebee;color:#f44336}.btn.btn-light-danger[_ngcontent-%COMP%]:hover{background-color:#ffcdd2;border-color:#ffcdd2}.alert.alert-light-info[_ngcontent-%COMP%]{background-color:#e3f6fc;border:1px solid #b3e5fc;color:#0277bd}.bi-credit-card[_ngcontent-%COMP%]{opacity:.5}.account-details-section[_ngcontent-%COMP%]{margin-top:1.5rem;flex-grow:1}.account-details-section[_ngcontent-%COMP%]   .account-name-section[_ngcontent-%COMP%]   .account-name-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.account-details-section[_ngcontent-%COMP%]   .account-name-section[_ngcontent-%COMP%]   .account-name-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.account-details-section[_ngcontent-%COMP%]   .bank-name-section[_ngcontent-%COMP%]   .bank-name-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.account-details-section[_ngcontent-%COMP%]   .bank-name-section[_ngcontent-%COMP%]   .bank-name-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.account-details-section[_ngcontent-%COMP%]   .iban-section[_ngcontent-%COMP%]   .iban-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.account-details-section[_ngcontent-%COMP%]   .iban-section[_ngcontent-%COMP%]   .iban-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.account-details-section[_ngcontent-%COMP%]   .iban-section[_ngcontent-%COMP%]   .iban-value[_ngcontent-%COMP%]   .iban-text[_ngcontent-%COMP%]{font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.95rem;font-weight:500;color:#2c3e50;letter-spacing:1px;background-color:#f8f9fa;padding:8px 12px;border-radius:6px;border:1px solid #e9ecef;flex-grow:1}.account-details-section[_ngcontent-%COMP%]   .iban-section[_ngcontent-%COMP%]   .iban-value[_ngcontent-%COMP%]   .copy-btn[_ngcontent-%COMP%]{background:none;border:none;color:#0978b9;cursor:pointer;padding:6px;border-radius:4px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.account-details-section[_ngcontent-%COMP%]   .iban-section[_ngcontent-%COMP%]   .iban-value[_ngcontent-%COMP%]   .copy-btn[_ngcontent-%COMP%]:hover{background-color:#0978b91a;transform:scale(1.1)}.account-details-section[_ngcontent-%COMP%]   .iban-section[_ngcontent-%COMP%]   .iban-value[_ngcontent-%COMP%]   .copy-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.account-details-section[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:6px;padding:12px 16px;border:1px solid #e9ecef}.account-details-section[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.account-details-section[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#495057}.provider-info[_ngcontent-%COMP%]{background-color:#f8fbff;border-radius:6px;padding:12px 16px;border:1px solid #e3f2fd;font-size:.85rem}.delete-btn-custom[_ngcontent-%COMP%]:hover, .delete-btn-custom[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#dc3545!important;border-color:#dc3545!important}.delete-btn-custom[_ngcontent-%COMP%]:hover   .delete-icon-custom[_ngcontent-%COMP%], .delete-btn-custom[_ngcontent-%COMP%]:focus   .delete-icon-custom[_ngcontent-%COMP%], .delete-btn-custom[_ngcontent-%COMP%]:hover   .delete-text-custom[_ngcontent-%COMP%], .delete-btn-custom[_ngcontent-%COMP%]:focus   .delete-text-custom[_ngcontent-%COMP%]{color:#fff!important}@media (max-width: 768px){.payment-method-card[_ngcontent-%COMP%]{margin-bottom:1rem}.detail-box[_ngcontent-%COMP%]{margin-bottom:.75rem}.payment-logo-container[_ngcontent-%COMP%]{width:40px;height:40px}.payment-logo[_ngcontent-%COMP%]{width:28px;height:28px}.add-payment-method-card[_ngcontent-%COMP%]{padding:3rem!important}}.text-info[_ngcontent-%COMP%]{color:#0978b9!important}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.country-flag[_ngcontent-%COMP%]{border-radius:2px;border:1px solid #e9ecef}"]})}return o})();var Qn=u(5964);function eo(o,r){if(1&o){const t=e.RV6();e.j41(0,"a",7),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.switchTab("general-settings"))}),e.nrm(1,"i",8),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&o){const t=e.XpG();e.AVh("active","general-settings"===t.activeTab),e.R7$(2),e.SpI(" ",e.bMT(3,3,"INSIGHTER.DASHBOARD.NAV.ACCOUNT_SETTINGS")," ")}}function to(o,r){if(1&o){const t=e.RV6();e.j41(0,"a",7),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.switchTab("payment-settings"))}),e.nrm(1,"i",9),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&o){const t=e.XpG();e.AVh("active","payment-settings"===t.activeTab),e.R7$(2),e.SpI(" ",e.bMT(3,3,"INSIGHTER.DASHBOARD.NAV.PAYMENT_SETTINGS")," ")}}const no=[{path:"",component:(()=>{class o extends f.${router;route;profileService;activeTab="general-settings";isInsighter$;isCompany$;isClient$;routerSubscription;constructor(t,n,i,a){super(t),this.router=n,this.route=i,this.profileService=a,this.isInsighter$=this.profileService.isInsighter(),this.isCompany$=this.profileService.isCompany(),this.isClient$=this.profileService.isClient()}ngOnInit(){this.updateActiveTabFromRoute(this.router.url),this.routerSubscription=this.router.events.pipe((0,Qn.p)(t=>t instanceof I.wF)).subscribe(t=>{this.updateActiveTabFromRoute(t.url)})}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe(),super.ngOnDestroy()}updateActiveTabFromRoute(t){t.includes("general-settings")?this.activeTab="general-settings":t.includes("payment-settings")&&(this.activeTab="payment-settings")}switchTab(t){this.activeTab=t,this.router.navigate([`/app/insighter-dashboard/account-settings/${t}`])}static \u0275fac=function(n){return new(n||o)(e.rXU(e.zZn),e.rXU(I.Ix),e.rXU(I.nX),e.rXU(R.p))};static \u0275cmp=e.VBU({type:o,selectors:[["app-settings-tabs"]],features:[e.Vt3],decls:12,vars:8,consts:[[1,"container-fluid","bg-white","p-5","rounded-lg",2,"border-radius","10px"],[1,"row","mb-5"],[1,"col-12"],[1,"filter-tabs-settings"],[1,"nav","nav-pills","nav-pills-custom"],["class","nav-link",3,"active","click",4,"ngIf"],[1,"tab-content"],[1,"nav-link",3,"click"],[1,"ki-outline","ki-user-edit","me-2"],[1,"ki-outline","ki-credit-cart","me-2"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.DNE(5,eo,4,5,"a",5),e.nI1(6,"async"),e.DNE(7,to,4,5,"a",5),e.nI1(8,"async"),e.nI1(9,"async"),e.k0s()()()(),e.j41(10,"div",6),e.nrm(11,"router-outlet"),e.k0s()()),2&n&&(e.R7$(5),e.Y8G("ngIf",!e.bMT(6,2,i.isClient$)),e.R7$(2),e.Y8G("ngIf",e.bMT(8,4,i.isInsighter$)||e.bMT(9,6,i.isCompany$)))},dependencies:[g.bT,I.n3,g.Jj,h.D9],styles:[".filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]{display:flex;gap:.5rem}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:.5rem;font-weight:500;color:#7e8299;background-color:transparent;border:1px solid transparent;transition:all .3s ease;display:flex;align-items:center;white-space:nowrap;cursor:pointer;text-decoration:none}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#181c32;background-color:#f5f8fa}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#0978b9!important;background-color:#f1fafe!important;font-weight:600!important;border-color:transparent}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:hover{color:#0978b9!important;background-color:#f1faff!important}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.tab-content[_ngcontent-%COMP%]{min-height:400px}@media (max-width: 768px){.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]{flex-wrap:wrap}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.625rem 1.25rem;font-size:.875rem}.filter-tabs-settings[_ngcontent-%COMP%]   .nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}}"]})}return o})(),children:[{path:"",redirectTo:"general-settings",pathMatch:"full"},{path:"company-account",component:tt,canActivate:[Cn.R],data:{roles:["insighter"]}},{path:"general-settings",component:vn},{path:"payment-settings",component:Kn}]}];let oo=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[g.MD,I.iI.forChild(no),U.E,l.YN,N.S,l.X1,Y.P,b.k_,yn.MB,Tn.d,X.q4,lt,H.o,W.kr,Z.R]})}return o})()}}]);